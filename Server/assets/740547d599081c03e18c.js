(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{5985:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0);t.default={trigger:function(e){r.default.dirtyDispatch({type:i.ActionTypes.EXPERIMENT_TRIGGER,experimentDescriptor:e})},register:function(e,t){r.default.dispatch({type:i.ActionTypes.EXPERIMENT_REGISTER,store:e,renderFunctions:t})},overrideType:function(e,t){r.default.dispatch({type:i.ActionTypes.EXPERIMENT_OVERRIDE_TYPE,experimentId:e,experimentType:t})},overrideBucket:function(e,t){r.default.dispatch({type:i.ActionTypes.EXPERIMENT_OVERRIDE_BUCKET,experimentId:e,experimentBucket:t})}},e.exports=t.default},5988:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=n(107),s=f(n(518)),u=f(n(379)),c=n(0),d=f(n(5934));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m={SMALL:"7px 10px",MEDIUM:"10px"},v=function(e){function t(){var n,a;p(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=h(this,e.call.apply(e,[this].concat(r))),a.handleClick=function(){var e=a.props,t=e.onClick,n=e.option;return t&&t(n)},h(a,n)}return y(t,e),t.prototype.render=function(){var e,t=this.props,n=t.checked,a=t.disabled,r=t.option,f=t.size,p=n?"checked":null,h=r.desc?o("div",{className:(0,l.getClass)(d.default,"desc",p)},void 0,r.desc):null,y=n?r.color||c.Colors.BRAND:"",m=n?c.Colors.WHITE:r.color,v=a||r.disabled;return o(s.default,{className:(0,i.default)(d.default.item,(e={},e[d.default.disabled]=v,e)),style:{borderColor:y,backgroundColor:y,padding:f},editable:!0,onClick:!v&&this.handleClick},void 0,o(u.default,{value:n,disabled:v,onChange:this.handleClick,color:y}),o("div",{className:d.default.info},void 0,o("div",{className:(0,l.getClass)(d.default,"title",p),style:{color:m}},void 0,r.name),h))},t}(r.PureComponent);v.displayName="RadioItem";var g=function(e){function t(){var n,a;p(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=h(this,e.call.apply(e,[this].concat(i))),a.renderRadio=function(e){var t=a.props,n=t.value,r=t.disabled,i=t.size,l=n===e.value;return o(v,{disabled:r,checked:l,option:e,onClick:a.props.onChange,size:i},e.value)},h(a,n)}return y(t,e),t.prototype.render=function(){var e=this.props,t=e.options,n=e.className;return o("div",{className:(0,i.default)(d.default.radioGroup,n)},void 0,t.map(this.renderRadio))},t}(r.PureComponent);g.Sizes=m,g.defaultProps={options:[],onChange:c.NOOP,value:null,disabled:!1,size:m.MEDIUM},g.displayName="RadioGroup",t.default=g,e.exports=t.default},5991:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=v(n(9)),u=n(225),c=n(107),d=v(n(106)),f=v(n(59)),p=v(n(80)),h=v(n(6)),y=n(0),m=v(n(5548));function v(e){return e&&e.__esModule?e:{default:e}}var g={MINI:"Mini",SMALL:"Small",MEDIUM:"Medium",LARGE:"Large",XLARGE:"XLarge"},E=((o={})[g.MINI]=[12,12,10,10,8,6,4],o[g.SMALL]=[14,14,12,12,10,8,6],o[g.MEDIUM]=[16,16,14,14,12,10,8],o[g.LARGE]=[18,18,16,16,14,12,10],o[g.XLARGE]=[20,20,18,18,16,14,12],o),_=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderAcronym=function(){var e=this.props.guild;return null!=e.icon?null:e.acronym},t.prototype.renderVerifiedIcon=function(){var e=this.props,t=e.showVerified,n=e.guild,a=e.verifiedIconOuterColor;return!t||!n.hasFeature||n.hasFeature&&!n.hasFeature(y.GuildFeatures.VERIFIED)?null:i(d.default,{color:d.default.Colors.BRAND,text:h.default.Messages.GUILD_VERIFIED},void 0,i(f.default,{className:m.default.verifiedIcon,name:f.default.Names.VERIFIED,outer:a,inner:y.Colors.BRAND,checkmark:y.Colors.WHITE}))},t.prototype.renderIcon=function(){var e,t=this.props,n=t.guild,a=t.iconSrc,o=t.className,i=(t.showVerified,t.active),u=t.size,d=t.style,f=t.textScale,h=(t.showTooltip,t.tooltipPosition,t.onClick),y=t.to,v=(t.verifiedIconOuterColor,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["guild","iconSrc","className","showVerified","active","size","style","textScale","showTooltip","tooltipPosition","onClick","to","verifiedIconOuterColor"])),g=E[u],_=null==n.icon?{fontSize:(g[n.acronym.length]||g[g.length-1])*f}:{backgroundImage:"url('"+(a||n.getIconURL&&n.getIconURL()||"")+"')"};return l.createElement(p.default,r({className:(0,s.default)(m.default.icon,o,(0,c.getClass)(m.default,"iconSize",u),(e={},e[(0,c.getClass)(m.default,"iconActive",u)]=i,e[m.default.iconInactive]=!i,e[m.default.noIcon]=null==n.icon,e)),style:r({},_,d),onClick:null!=y||null==h?null:h},v),this.renderAcronym(),this.renderVerifiedIcon())},t.prototype.renderTooltip=function(){var e=this.props,t=e.guild,n=e.showTooltip,a=e.tooltipPosition;return n?i(d.default,{text:t.name,position:a},void 0,this.renderIcon()):this.renderIcon()},t.prototype.render=function(){var e=this.props,t=e.to,n=e.guild;return null!=t?i(u.Link,{to:t,"aria-label":n.toString()},void 0,this.renderTooltip()):this.renderTooltip()},t}(l.PureComponent);_.Sizes=g,_.defaultProps={size:g.LARGE,textScale:1,showVerified:!1,showTooltip:!1,active:!1,tooltipPosition:d.default.Positions.TOP,verifiedIconOuterColor:y.Colors.WHITE},_.displayName="GuildIcon",t.default=_,e.exports=t.default},6001:function(e,t,n){"use strict";t.__esModule=!0;var a=u(n(6238)),o=u(n(6478)),r=u(n(6025)),i=u(n(11)),l=u(n(42)),s=n(6236);function u(e){return e&&e.__esModule?e:{default:e}}var c=void 0,d=!1,f=(0,o.default)(new a.default(window)),p=/Darwin|OS X/.test(l.default.os.family||""),h=p?"cmd":"ctrl",y=p?"opt":"alt",m=p?"return":"enter",v=[].concat(s.JUMP_TO_GUILD.binds,["mod+shift+[","mod+shift+]","ctrl+shift+tab","ctrl+tab","mod+n","mod+t","mod+shift+t","mod+plus","mod+minus","mod+0"]).map(function(e){return e.replace("mod",h)}),g=[];i.default.isDesktop()&&new a.default(document).bind("backspace",function(e){return e.preventDefault()});function E(e){var t=[];for(var n in e)t=t.concat(e[n].binds);return t.map(function(e){return e.replace("mod",h)})}function _(e){var t=function(t){var n=e[t],a=r.default.getKeybindList();i.default.embedded||(a=a.concat(v));var o=n.binds.filter(function(e){return e=e.replace("mod",h),a.indexOf(e)<0});if(0===o.length)return"continue";var l,s,u,c=n.global?f.bindGlobal:f.bind;if(n.action&&c.call(f,o,n.action),n.keyup&&c.call(f,o,n.keyup,"keyup"),n.keydown){var d=o.indexOf("any-character");-1!==d&&(l="keydown",s=n.keydown,u=function(e){return s(e,e.key)},document.addEventListener(l,u),g.push(function(){return document.removeEventListener(l,u)}),o.splice(d,1)),o.length>0&&c.call(f,o,n.keydown,"keydown")}n.keypress&&c.call(f,o,n.keypress,"keypress")};for(var n in e)t(n)}t.default={combokeys:f,modKey:h,altKey:y,returnKey:m,checkDupes:function(e){for(var t={},n=[],a=E(e),o=0,r=a.length;o<r;o++)void 0===t[a[o]]?t[a[o]]=0:t[a[o]]+=1;for(var i in t)t[i]&&n.push(i);n.length&&console.warn("Duplicate keyboard shortcuts defined:",n)},setLayout:function(e){c=e},enable:function(){d||(d=!0,this.checkDupes(c),_(c))},enableTemp:function(e){_(e),d=!0},disableTemp:function(){this.disable(),this.enable()},disable:function(){d&&(d=!1,g.forEach(function(e){return e()}),g=[],f.reset())},validateKeybind:function(e){d&&this.hasBind(e)&&f.unbind(e)},hasBind:function(e){var t=E(c);return e=(e=e.replace("meta","cmd")).replace(/right|left/i,"").trim(),!(t.indexOf(e)<0)}},e.exports=t.default},6008:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=u(n(3)),r=u(n(2)),i=u(n(6246)),l=n(0),s=n(284);function u(e){return e&&e.__esModule?e:{default:e}}var c={},d=new Set;function f(e,t){var n=a({code:e,state:l.InviteStates.RESOLVING},c[e]);t(n),c[e]=a({},n)}function p(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&!d.has(e.channel_id))return!1;var t=(0,s.findInvites)(e.content);if(null==t||0===t.length)return!1;t.forEach(function(e){null==c[e]&&(h({code:e}),(0,s.resolveInvite)(e).then(function(e){var t=e.invite,n=e.code;null!=t?r.default.dispatch({type:l.ActionTypes.INVITE_RESOLVE_SUCCESS,invite:t,code:n}):r.default.dispatch({type:l.ActionTypes.INVITE_RESOLVE_FAILURE,code:n})}))})}function h(e){c[e.code]={code:e.code,state:l.InviteStates.RESOLVING}}function y(e){return f(e.code,function(e){e.state=l.InviteStates.EXPIRED})}function m(e){return p(e.message,!0)}function v(e){var t=e.channelId,n=e.messages;d.add(t),n.forEach(function(e){return p(e,!0)})}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getInvite=function(e){return c[e]},t.prototype.getInvites=function(e){return null!=e?(0,i.default)(c).filter(function(t){return null!=t.guild&&t.guild.id===e}):(0,i.default)(c)},t}(o.default.Store);t.default=new g(r.default,{CONNECTION_OPEN:function(e){return d.clear(),!1},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&d.add(t),!1},INVITE_RESOLVE:h,INVITE_RESOLVE_SUCCESS:function(e){return f(e.code,function(t){t.state=l.InviteStates.RESOLVED,t.guild=e.invite.guild,t.channel=e.invite.channel,t.inviter=e.invite.inviter,t.approximate_member_count=null!=e.invite.approximate_member_count?e.invite.approximate_member_count:null,t.approximate_presence_count=null!=e.invite.approximate_presence_count?e.invite.approximate_presence_count:null})},INVITE_RESOLVE_FAILURE:y,INSTANT_INVITE_REVOKE_SUCCESS:y,INVITE_ACCEPT:function(e){return f(e.code,function(e){e.state=l.InviteStates.ACCEPTED})},INVITE_ACCEPT_SUCCESS:function(e){return f(e.code,function(t){t.state=l.InviteStates.ACCEPTED,t.guild=e.invite.guild,t.channel=a({},t.channel,e.invite.channel)})},INVITE_ACCEPT_FAILURE:function(e){return f(e.code,function(e){e.state=l.InviteStates.EXPIRED})},INVITE_APP_OPENING:function(e){return f(e.code,function(e){e.state=l.InviteStates.APP_OPENING})},INVITE_APP_OPENED:function(e){return f(e.code,function(e){e.state=l.InviteStates.APP_OPENED})},INVITE_NATIVE_APP_MODAL_OPENING:function(e){return f(e.code,function(e){e.nativeAppState=l.InviteNativeAppStates.OPENING})},INVITE_NATIVE_APP_MODAL_OPENED:function(e){return f(e.code,function(e){e.nativeAppState=l.InviteNativeAppStates.OPEN})},INVITE_NATIVE_APP_MODAL_OPEN_FAILED:function(e){return f(e.code,function(e){e.nativeAppState=l.InviteNativeAppStates.OPEN_FAIL})},INVITE_APP_NOT_OPENED:function(e){return f(e.code,function(e){e.state=l.InviteStates.APP_NOT_OPENED})},MESSAGE_CREATE:m,MESSAGE_UPDATE:m,LOAD_MESSAGES_SUCCESS:v,LOAD_MESSAGES_AROUND_SUCCESS:v,LOAD_RECENT_MENTIONS_SUCCESS:function(e){e.messages.forEach(function(e){return p(e)})},LOAD_PINNED_MESSAGES_SUCCESS:function(e){e.messages.forEach(function(e){return p(e)})},SEARCH_FINISH:function(e){e.messages.forEach(function(e){e.forEach(function(e){return p(e)})})}}),e.exports=t.default},6016:function(e,t,n){"use strict";t.__esModule=!0,t.makeFile=function(e,t,n){if(null==t&&(t="unknown",e instanceof Blob))switch(e.type){case"image/png":t+=".png"}null==n&&(e instanceof Blob&&(n=e.type),n=n||o.default.lookup(t));if("function"!=typeof File||"Microsoft Edge"===i.default.name){var a=new Date,r=0;return null!=e.size&&"number"==typeof e.size?r=e.size:null!=e.byteLength&&"number"==typeof e.byteLength&&(r=e.byteLength),{lastModified:a.getTime(),lastModifiedDate:a,name:t,size:r,type:n}}return new File([e],t,{type:n})},t.classifyFile=function(e){return f(e.name,e.type)},t.classifyFileName=f,t.sizeString=function(e){return r.default.filesize(e)},t.maxFileSize=p,t.fileTooLarge=h,t.anyFileTooLarge=function(e){var t=p();return a.default.some(e,function(e){return h(e,t)})};var a=c(n(7)),o=c(n(7897)),r=c(n(6282)),i=c(n(42)),l=n(0),s=c(n(12)),u=c(n(372));function c(e){return e&&e.__esModule?e:{default:e}}var d=[{reType:/^image\/vnd.adobe.photoshop/,klass:"photoshop"},{reType:/^image\//,klass:"image"},{reType:/^video\//,klass:"video"},{reName:/\.pdf$/,klass:"acrobat"},{reName:/\.ae/,klass:"ae"},{reName:/\.sketch$/,klass:"sketch"},{reName:/\.ai$/,klass:"ai"},{reName:/\.(?:rar|zip|7z|tar|tar\.gz)$/,klass:"archive"},{reName:/\.(?:c\+\+|cpp|cc|c|h|hpp|mm|m|json|js|rb|rake|py|asm|fs|pyc|dtd|cgi|bat|rss|java|graphml|idb|lua|o|gml|prl|sls|conf|cmake|make|sln|vbe|cxx|wbf|vbs|r|wml|php|bash|applescript|fcgi|yaml|ex|exs|sh|ml|actionscript)$/,klass:"code"},{reName:/\.(?:txt|rtf|doc|docx|md|pages|ppt|pptx|pptm|key|log)$/,klass:"document"},{reName:/\.(?:xls|xlsx|numbers|csv)$/,klass:"spreadsheet"},{reName:/\.(?:html|xhtml|htm|js|xml|xls|xsd|css|styl)$/,klass:"webcode"},{reName:/\.(?:mp3|ogg|wav|flac)$/,klass:"audio"}];function f(e,t){e=e?e.toLowerCase():"";var n=a.default.find(d,function(n){return n.reType&&t?n.reType.test(t):!(!n.reName||!e)&&n.reName.test(e)});return n?n.klass:"unknown"}function p(){var e=s.default.getCurrentUser();return e&&u.default.canUploadLargeFiles(e)?l.MAX_PREMIUM_ATTACHMENT_SIZE:l.MAX_ATTACHMENT_SIZE}function h(e,t){return null==t&&(t=p()),e.size>t}},6025:function(e,t,n){"use strict";(function(a){t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=M(n(3)),i=M(n(7)),l=n(77),s=M(n(2)),u=M(n(11)),c=n(0),d=M(n(55)),f=M(n(126)),p=M(n(536)),h=M(n(228)),y=M(n(271)),m=M(n(371)),v=M(n(6117)),g=M(n(6238)),E=M(n(6478)),_=M(n(6001)),b=n(281),S=M(n(17));function M(e){return e&&e.__esModule?e:{default:e}}var C={},A={},T=0,O=!0,N={},I=[c.KeybindCustomActions.PUSH_TO_TALK,c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET];function P(e){if(u.default.embedded)u.default.inputEventUnregister(parseInt(e,10));else if(C[e]){var t=A[e],n=N[t.action];n&&!0===n.isPressed&&a.nextTick(function(){return n.onTrigger(!1)}),C[e].reset(),C[e]=null}}function w(e){if(O&&!__OVERLAY__){var t=e.shortcut,n=e.action,a=e.context;if(""!==t&&null!=t&&n!==c.KeybindCustomActions.UNASSIGNED)if(null!=N[n]){var r=e.id,i=N[n].keyEvents;!function(e,t,n,a){if(u.default.embedded)u.default.inputEventRegister(parseInt(e),t,n,a);else{P(e);var o=(0,E.default)(new g.default(document));a.keyup&&o.bindGlobal((0,b.toString)(t),function(){return n(!1)},"keyup"),a.keydown&&o.bindGlobal((0,b.toString)(t),function(){return n(!0)},"keydown"),C[e]=o}}(r,t,function(e){return function(e,t,n){var a=A[e];null!=a&&N[a.action].onTrigger(t,n)}(r,e,a)},o({focused:!0,blurred:!0,keydown:!1,keyup:!1},i)),_.default.validateKeybind((0,b.toString)(e.shortcut))}else console.error("KeybindStore: Looking for callback action "+n+" but it doesn't exist in this version. Skipping")}}function R(e){var t,n=o({id:T.toString(),action:c.KeybindCustomActions.UNASSIGNED,shortcut:[],managed:!1},e);return A=o({},A,((t={})[n.id]=n,t)),T+=1,n}function L(e){P(e.id),delete(A=o({},A))[e.id]}function D(e){var t,n=e.keybind;A=o({},A,((t={})[n.id]=n,t)),__OVERLAY__||(S.default.track(c.AnalyticEvents.USER_SETTINGS_KEYBIND_UPDATED,{keybind_action:n.action,keybind_is_bound:!0,keybind_has_shortcut:!!n.shortcut.length}),n.action===c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK?S.default.track(c.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{hotkey:n.action===c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK?(0,b.toString)(n.shortcut):null}):n.action===c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&S.default.track(c.AnalyticEvents.OVERLAY_SETTINGS_UPDATED,{text_activation_hotkey:n.action===c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET?(0,b.toString)(n.shortcut):null})),w(n)}function k(){return!1!==(e=d.default.getShortcuts(),i.default.each(A,function(t){t.action!==c.KeybindCustomActions.PUSH_TO_TALK||!0!==t.managed||null!=t.context&&null!=e[t.context]||L(t)}),i.default.reduce(d.default.getShortcuts(),function(e,t,n){var a=i.default.find(A,function(e){return e.action===c.KeybindCustomActions.PUSH_TO_TALK&&!0===e.managed&&e.context===n});if(null==a)w(R({action:c.KeybindCustomActions.PUSH_TO_TALK,shortcut:t,managed:!0,context:n}));else{if(null==t)return e||!1;D({keybind:o({},a,{shortcut:"string"==typeof t?(0,b.toCombo)(t):t,context:n})})}return!0},!1)||function(){if(p.default.enabled){if(null!=i.default.find(A,function(e){return e.action===c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed}))return!1;var e=(0,b.toCombo)("shift+`");w(R({action:c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK,shortcut:e,managed:!0}))}}()||function(){if(!p.default.enabled)return!1;if(null!=i.default.find(A,function(e){return e.action===c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&!0===e.managed}))return!1;var e=(0,b.toCombo)("]");w(R({action:c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET,shortcut:e,managed:!0}))}());var e}N[c.KeybindCustomActions.UNASSIGNED]={onTrigger:function(){},keyEvents:{}},N[c.KeybindCustomActions.PUSH_TO_TALK]={onTrigger:function(e,t){d.default.getMode()===c.InputModes.PUSH_TO_TALK&&(N[c.KeybindCustomActions.PUSH_TO_TALK].isPressed=e,d.default.getMediaEngine().eachConnection(function(t){return t.setForceAudioInput(e,!1)},t))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},N[c.KeybindCustomActions.PUSH_TO_TALK_PRIORITY]={onTrigger:function(e){d.default.getMode()===c.InputModes.PUSH_TO_TALK&&(N[c.KeybindCustomActions.PUSH_TO_TALK_PRIORITY].isPressed=e,d.default.getMediaEngine().eachConnection(function(t){return t.setForceAudioInput(e,!0)},l.DEFAULT_CONTEXT))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},N[c.KeybindCustomActions.PUSH_TO_MUTE]={onTrigger:function(e){d.default.getMode()===c.InputModes.VOICE_ACTIVITY&&(d.default.isSelfDeaf()||(N[c.KeybindCustomActions.PUSH_TO_MUTE].isPressed=e,y.default.setTemporarySelfMute(e)))},keyEvents:{keyup:!0,keydown:!0},isPressed:!1},N[c.KeybindCustomActions.TOGGLE_MUTE]={onTrigger:function(){y.default.toggleSelfMute()},keyEvents:{keyup:!0,keydown:!1}},N[c.KeybindCustomActions.TOGGLE_DEAFEN]={onTrigger:function(){y.default.toggleSelfDeaf()},keyEvents:{keyup:!0,keydown:!1}},N[c.KeybindCustomActions.TOGGLE_VOICE_MODE]={onTrigger:function(){var e=d.default.getMode()===c.InputModes.PUSH_TO_TALK?c.InputModes.VOICE_ACTIVITY:c.InputModes.PUSH_TO_TALK;y.default.setMode(e)},keyEvents:{keyup:!0,keydown:!1}},N[c.KeybindCustomActions.TOGGLE_OVERLAY]={onTrigger:function(){var e=p.default.enabled;m.default.setEnabled(!e)},keyEvents:{keyup:!0,keydown:!1}},N[c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK]={onTrigger:function(e){var t=p.default.getFocusedPID();null!=t&&(e?m.default.setUILocked(!h.default.isLocked(t),t):m.default.setInputLocked(!p.default.isLocked(t),t))},keyEvents:{keyup:!0,keydown:!0}},N[c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET]={onTrigger:function(){var e=p.default.getFocusedPID();null!=e&&(null!=e||!1)&&h.default.isPinned(c.OverlayWidgets.TEXT)&&p.default.isLocked(e)&&m.default.activateRegion(c.OverlayActiveRegions.TEXT_WIDGET)},keyEvents:{keyup:!0,keydown:!1}},N[c.KeybindCustomActions.TOGGLE_STREAMER_MODE]={onTrigger:function(){v.default.setEnabled(!f.default.enabled)},keyEvents:{keyup:!0,keydown:!1}};var U=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){__OVERLAY__||this.waitFor(d.default,p.default),A=e||{},i.default.forEach(A,function(e){T=Math.max(parseInt(e.id,10),T)+1;try{w(e)}catch(t){console.error("Failed to register keybind",e,t)}})},t.prototype.getState=function(){return A},t.prototype.getKeybindList=function(){var e=[];for(var t in A)A.hasOwnProperty(t)&&e.push((0,b.toString)(A[t].shortcut));return e},t.prototype.getOverlayKeybind=function(){return i.default.find(A,function(e){return e.action===c.KeybindCustomActions.TOGGLE_OVERLAY_INPUT_LOCK&&!0===e.managed})},t.prototype.getOverlayChatKeybind=function(){return i.default.find(A,function(e){return e.action===c.KeybindCustomActions.OVERLAY_ACTIVATE_REGION_TEXT_WIDGET&&!0===e.managed})},t}(r.default.PersistedStore);U.persistKey="keybinds",U.migrations=[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.v,n=e.keybinds,a=void 0===n?e:n;return i.default.reduce(a,function(e,n,a){var o=parseInt(n.id,10);return isNaN(o)||n.id!==a?e:((null==t||t<2)&&("string"==typeof n.shortcut?(n.shortcut=n.shortcut.replace("escape","esc").replace("capslock","caps lock").replace("numlock","num lock").replace("pageup","page up").replace("pagedown","page down"),n.shortcut=(0,b.toCombo)(n.shortcut)):n.shortcut=n.shortcut.map(function(e){return e.length<3?[].concat(e,[(0,b.getEnv)()]):e})),e[a]=n,e)},{})},function(e){return Object.keys(e).filter(function(t){var n=e[t];return I.includes(n.action)&&!0===n.managed}).length!==I.length?(k(),A):e}],t.default=new U(s.default,{CONNECTION_OPEN:function(e){return k()},AUDIO_SET_MODE:function(e){return k()},OVERLAY_SET_ENABLED:function(e){return k()},RPC_APP_CONNECTED:function(e){return k()},RPC_APP_DISCONNECTED:function(e){return k()},KEYBINDS_ADD_KEYBIND:function(e){R()},KEYBINDS_DELETE_KEYBIND:function(e){var t=e.id,n=A[t];__OVERLAY__||S.default.track(c.AnalyticEvents.USER_SETTINGS_KEYBIND_UPDATED,{keybind_action:n.action,keybind_is_bound:!1,keybind_has_shortcut:!1}),L(n)},KEYBINDS_SET_KEYBIND:D,KEYBINDS_ENABLE_ALL_KEYBINDS:function(e){var t=e.enable;O=t,t?(_.default.enable(),i.default.forEach(A,w)):(_.default.disable(),i.default.forEach(A,function(e){return P(e.id)}))}}),e.exports=t.default}).call(this,n(63))},6027:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(9))),i=c(n(163)),l=n(526),s=c(n(5886)),u=n(521);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.icon,n=e.timestamp,a=e.className,i=e.children;return o(u.BackgroundOpacityContext.Consumer,{},void 0,function(e){return o("div",{className:(0,r.default)(s.default.container,a)},void 0,o("div",{className:s.default.icon,style:{backgroundImage:"url('"+t+"')"}}),o("div",{className:(0,r.default)(s.default.content,s.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,i,o("time",{dateTime:n.toISOString(),className:(0,r.default)(s.default.timestamp,s.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,(0,l.calendarFormat)(n))))})}d.displayName="SystemMessage";var f=function(e){var t=e.onClick,n=e.children;return o("span",{className:s.default.action},void 0,"â€”",o(i.default,{onClick:t,className:s.default.actionAnchor},void 0,n))};f.displayName="SystemMessageAction",d.Action=f,t.default=d,e.exports=t.default},6031:function(e,t,n){"use strict";t.__esModule=!0,t.SearchBarIcon=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=f(n(6)),s=f(n(163)),u=f(n(80));n(5574);var c=n(0),d=n(140);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=t.SearchBarIcon=function(e){var t=e.hasContent,n=e.handleClear;return o(u.default,{className:"search-bar-icon",onClick:n},void 0,o("i",{className:(0,i.default)("icon icon-search-bar-eye-glass",{visible:!t})}),o("i",{className:(0,i.default)("icon icon-search-bar-clear",{visible:t})}))};h.displayName="SearchBarIcon";var y=o("div",{className:"close"}),m=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=p(this,e.call.apply(e,[this].concat(i))),a.ref=r.createRef(),a.handleKeyDown=function(e){var t=a.props,n=t.onActivate,o=t.onQueryChange,r=a.ref.current;if(null!=r&&null==n)return e.keyCode===c.KeyboardKeys.ESCAPE&&r.value&&r.value.length>0?(r.value="",void(null!=o&&o(""))):void(a.props.gridResults?a.handleKeyDownGrid(e):a.handleKeyDownList(e));e.keyCode!==c.KeyboardKeys.TAB&&null!=n&&n(e)},a.handleChange=function(e){var t=a.props.onQueryChange;null!=t&&t(e.currentTarget.value)},a.handleFocus=function(e){var t=a.props.onFocus;null!=t&&t(e)},a.handleClear=function(){var e=a.props.onClear;null!=e&&e()},a.handleRemoveTag=function(e){var t=a.props.onRemoveTag;t&&t(e)},a.focus=function(){var e=a.ref.current;null!=e&&e.focus()},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props.subscribeToFocusEvent;e&&d.ComponentDispatch.subscribe(e,this.focus)},t.prototype.componentWillUnmount=function(){var e=this.props.subscribeToFocusEvent;e&&d.ComponentDispatch.unsubscribe(e,this.focus)},t.prototype.handleKeyDownGrid=function(e){var t=this.props,n=t.selectedRow,a=t.selectedColumn,o=t.sections,r=t.query,i=t.tags,l=t.onSelectionChange,s=t.onSelect;if(0!==o.length){switch(e.keyCode){case c.KeyboardKeys.BACKSPACE:(null==r||0===r.length)&&null!=i&&i.length>0&&(e.preventDefault(),e.stopPropagation(),this.props.onRemoveTag&&this.props.onRemoveTag(i.length-1));break;case c.KeyboardKeys.TAB:if(c.EnableAccessibility)break;case c.KeyboardKeys.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),-1===n?(n=0,a=0):((n+=1)>=o.length&&(n=o.length-1),a>=o[n]&&(a=o[n]-1));break;case c.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),(n-=1)<0?(n=0,a=0):a>=o[n]&&(a=o[n]-1);break;case c.KeyboardKeys.ARROW_LEFT:e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),(a-=1)<0&&((n-=1)>=0?a=o[n]-1:n<0&&(n=0,a=0));break;case c.KeyboardKeys.ARROW_RIGHT:e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),(a+=1)>=o[n]&&(a=0,(n+=1)>=o.length&&(a=o[n=o.length-1]-1));break;case c.KeyboardKeys.ENTER:if(e.preventDefault(),e.stopPropagation(),-1===n&&(n=0),-1===a&&(a=0),n>=o.length||a>=o[n])return;return void(null!=s&&s(n,a,e));case c.KeyboardKeys.ESCAPE:return e.preventDefault(),e.stopPropagation(),void(null!=s&&s(null,null,e));default:return}null!=l&&l(n,a)}},t.prototype.handleKeyDownList=function(e){var t=this.props,n=t.sections,a=t.selectedSection,o=t.selectedRow,r=t.onSelect,i=t.onSelectionChange,l=t.query,s=t.tags,u=this.ref.current;if(null!=u)switch(e.keyCode){case c.KeyboardKeys.BACKSPACE:(null==l||0===l.length)&&null!=s&&s.length>0&&(e.preventDefault(),e.stopPropagation(),this.props.onRemoveTag&&this.props.onRemoveTag(s.length-1));break;case c.KeyboardKeys.TAB:if(c.EnableAccessibility)break;case c.KeyboardKeys.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),n.length>a&&++o>=n[a]&&(++a>=n.length&&(a=0),o=0),i&&i(a,o);break;case c.KeyboardKeys.ARROW_UP:e.preventDefault(),e.stopPropagation(),--o<0&&(--a<0&&(a=n.length-1),o=n[a]-1),i&&i(a,o);break;case c.KeyboardKeys.ENTER:e.preventDefault(),e.stopPropagation(),n.length>a&&n[a]>o&&r&&r(a,o,e);break;case c.KeyboardKeys.ESCAPE:e.preventDefault(),e.stopPropagation(),r&&r(null,null,e),u.blur()}},t.prototype.render=function(){var e=this,t=this.props,n=t.autoFocus,a=t.query,l=t.placeholder,u=t.light,c=t.disabled,d=t.onClear,f=t.tags,p=t.onActivate,m=t.className,v=null!=a&&a.length>0,g=[];return null!=f&&f.forEach(function(t,n){return g.push(o(s.default,{className:"search-bar-tag",onClick:e.handleRemoveTag.bind(e,n)},n,t,y))}),o("div",{className:(0,i.default)("search-bar",{"search-bar-light":u,disabled:c},m)},void 0,o("div",{className:"search-bar-inner"},void 0,g,r.createElement("input",{type:"text",ref:this.ref,spellCheck:"false",placeholder:l,value:a,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,disabled:c,autoFocus:n,onMouseDown:p}),d?o(h,{hasContent:v,handleClear:this.handleClear}):null))},t}(r.Component);m.defaultProps={query:"",sections:[],selectedSection:0,selectedRow:-1,selectedColumn:-1,gridResults:!1,placeholder:l.default.Messages.DM_SEARCH_PLACEHOLDER,light:!1,disabled:!1,autoFocus:!1},m.displayName="SearchBar",t.default=m},6032:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r,i,l=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.getIconNameForChannel=v;var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=y(n(29)),c=y(n(59)),d=y(n(80)),f=n(107),p=n(0),h=y(n(5936));function y(e){return e&&e.__esModule?e:{default:e}}function m(e){e.stopPropagation()}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return null;return e.type===p.ChannelTypes.GUILD_TEXT&&null!=e.isNSFW&&e.isNSFW()?c.default.Names.CHANNEL_TEXT_NSFW:t?c.default.Names.LOCK_CLOSED:e.isRoleRequired()?n?c.default.Names.VIDEO_CAMERA_LIMITED:g[e.type]:n?c.default.Names.VIDEO_CAMERA:E[e.type]}var g=((o={})[p.ChannelTypes.GUILD_TEXT]=c.default.Names.CHANNEL_TEXT_LIMITED,o[p.ChannelTypes.GUILD_VOICE]=c.default.Names.SPEAKER_LIMITED,o),E=((r={})[p.ChannelTypes.GUILD_TEXT]=c.default.Names.CHANNEL_TEXT,r[p.ChannelTypes.GUILD_VOICE]=c.default.Names.SPEAKER,r),_=((i={})[p.ChannelTypes.GUILD_TEXT]="Text",i[p.ChannelTypes.GUILD_VOICE]="Voice",i),b="Selected",S="Connected",M="Hovered",C="Unread",A="Muted",T="Locked",O="Default",N=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.handleClick=a.handleClick.bind(a),a.handleMouseDown=a.handleMouseDown.bind(a),a.handleMouseUp=a.handleMouseUp.bind(a),a.handleContextMenu=a.handleContextMenu.bind(a),a.handleMouseEnter=a.handleMouseEnter.bind(a),a.handleMouseLeave=a.handleMouseLeave.bind(a),a.state={hovered:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getMode=function(){var e=this.props,t=e.muted,n=e.selected,a=e.connected,o=e.unread,r=e.locked,i=this.state.hovered;return n?b:a?S:r?T:i?M:t?A:o?C:O},t.prototype.handleClick=function(e){var t=this.props,n=t.onClick,a=t.channel;n&&n(e,a)},t.prototype.handleMouseEnter=function(e){var t=this.props,n=t.onMouseEnter,a=t.channel;this.setState({hovered:!0}),n&&n(e,a)},t.prototype.handleMouseLeave=function(e){var t=this.props,n=t.onMouseLeave,a=t.channel;this.setState({hovered:!1}),n&&n(e,a)},t.prototype.handleMouseDown=function(e){var t=this.props,n=t.onMouseDown,a=t.channel;n&&n(e,a)},t.prototype.handleMouseUp=function(e){var t=this.props,n=t.onMouseUp,a=t.channel;n&&n(e,a)},t.prototype.handleContextMenu=function(e){var t=this.props,n=t.onContextMenu,a=t.channel;n&&n(e,a)},t.prototype.renderUnread=function(){var e=this.props,t=e.unread,n=e.muted,a=e.selected;return n||!t||a?null:l("div",{className:h.default.unread})},t.prototype.renderTypeIcon=function(){var e=this.props,t=e.channel,n=v(t,e.locked,e.video),a=this.getMode();return l(u.default.Child,{wrap:!0,grow:0,shrink:0,className:h.default.marginReset},void 0,null!=n?l(c.default,{name:n,className:(0,f.getClass)(h.default,"color",a,_[t.type]),foreground:h.default.foreground,background:h.default.background,width:16,height:16}):null)},t.prototype.renderName=function(){var e=this.props,t=e.channel,n=t.name,a=t.type,o=e.unread,r=this.getMode();return r===M&&o&&(r=C),l(u.default.Child,{className:(0,f.getClass)(h.default,"name",r,_[a])},void 0,n)},t.prototype.renderIcons=function(){var e=this.props.children;return 0===s.Children.count(e)?null:l(u.default,{grow:0,onClick:m,align:u.default.Align.CENTER,className:h.default.marginReset},void 0,e)},t.prototype.render=function(){var e=this.props,t=e.onClick,n=e.onMouseDown,a=e.onMouseUp,o=e.onContextMenu,r=e.connectDragPreview,i=e.channel.type,s=this.getMode(),u=l("div",{className:(0,f.getClass)(h.default,"content",s,_[i])},void 0,this.renderTypeIcon(),this.renderName(),this.renderIcons());return l(d.default,{className:(0,f.getClass)(h.default,"wrapper",s,_[i]),onClick:t&&this.handleClick,onMouseUp:a&&this.handleMouseUp,onMouseDown:n&&this.handleMouseDown,onContextMenu:o&&this.handleContextMenu,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,this.renderUnread(),r?r(u):u)},t}(s.PureComponent);N.displayName="ChannelItem",t.default=N},6047:function(e,t,n){"use strict";t.__esModule=!0;var a=s(n(3)),o=s(n(2)),r=n(0),i=s(n(948)),l=n(272);function s(e){return e&&e.__esModule?e:{default:e}}var u=null,c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hasAction=function(){return null!=u},t.prototype.getAction=function(){return u},t}(a.default.Store);function d(e){(u=e.requiredAction)===r.UserRequiredActions.REQUIRE_CAPTCHA||u===r.UserRequiredActions.REQUIRE_VERIFIED_EMAIL||u===r.UserRequiredActions.REQUIRE_VERIFIED_PHONE?(0,l.pushLayer)(r.Layers.VERIFICATION):i.default.hasLayers()&&null==u&&(0,l.popLayer)()}t.default=new c(o.default,{CONNECTION_OPEN:d,USER_REQUIRED_ACTION_UPDATE:d}),e.exports=t.default},6048:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(9)),l=c(n(59)),s=c(n(6)),u=c(n(5875));function c(e){return e&&e.__esModule?e:{default:e}}var d=Object.freeze({DIRECTORY_HERO:1,DIRECTORY_TILE:2,DIRECTORY_SEARCH:3,LISTING:4,EMBED:5}),f=Object.freeze({IN_LIBRARY:1,ON_SALE:2,PREMIUM:3,DEFAULT:4}),p=function(e){var t=e.className;return o("div",{className:(0,i.default)(u.default.row,t)},void 0,o(l.default,{className:u.default.icon,name:l.default.Names.LIBRARY}),s.default.Messages.APPLICATION_STORE_IN_LIBRARY)};p.displayName="InLibraryPrice";var h=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(u.default.row,n)},void 0,o(l.default,{className:u.default.icon,name:l.default.Names.NITRO_WHEEL}),t.getDisplayPrice())};h.displayName="PremiumPrice";var y=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(u.default.salePercentage,n)},void 0,t.getDisplaySalePercentage())};y.displayName="SalePercent";var m=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(u.default.originalAmount,n)},void 0,t.getDisplayPrice(!1))};m.displayName="OriginalAmount";var v=function(e){var t=e.sku,n=e.className;return o("div",{className:n},void 0,t.getDisplayPrice())};v.displayName="Price";var g=function(e){var t=e.sku,n=e.className;return o("div",{className:(0,i.default)(u.default.row,n)},void 0,o(y,{sku:t}),o(m,{sku:t}),o(v,{sku:t}))};g.displayName="InlineSale";var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){var e=this.props,t=e.inLibrary,n=e.sku;return t?f.IN_LIBRARY:n.isOnSale?f.ON_SALE:n.premium?f.PREMIUM:null!=n.getPrice()?f.DEFAULT:null},t.prototype.renderGeneric=function(e,t){var n=this.props,a=n.className,r=n.sku;switch(e){case f.IN_LIBRARY:return o(p,{className:(0,i.default)(t,a)});case f.ON_SALE:return o(g,{sku:r,className:(0,i.default)(t,a)});case f.PREMIUM:return o(h,{sku:r,className:(0,i.default)(t,a)});default:return o(v,{className:(0,i.default)(t,a),sku:r})}},t.prototype.renderDirectoryHero=function(e){var t=this.props,n=t.className,a=t.sku;switch(e){case f.ON_SALE:return o(g,{sku:a,className:(0,i.default)(u.default.directoryHeroPrice,n)});case f.PREMIUM:return o(h,{sku:a,className:(0,i.default)(u.default.directoryHeroPricePremium,n)});default:return o(v,{className:(0,i.default)(u.default.directoryHeroPrice,n),sku:a})}},t.prototype.renderListing=function(e){var t=this.props,n=t.className,a=t.sku;switch(e){case f.ON_SALE:return o("div",{className:(0,i.default)(u.default.listingPrice,n)},void 0,o("div",{className:u.default.row},void 0,o(v,{sku:a}),o(y,{sku:a})),o(m,{sku:a}));default:return o("div",{className:(0,i.default)(u.default.listingPrice,n)},void 0,o(v,{sku:a}))}},t.prototype.render=function(){var e=this.getState();if(null==e)return null;switch(this.props.type){case d.DIRECTORY_HERO:return this.renderDirectoryHero(e);case d.DIRECTORY_TILE:return this.renderGeneric(e,u.default.directoryTilePrice);case d.DIRECTORY_SEARCH:return this.renderGeneric(e,u.default.directorySearchPrice);case d.LISTING:return this.renderListing(e);case d.EMBED:return this.renderGeneric(e,u.default.embedPrice);default:throw new Error("Invalid Price Unit Type")}},t}(r.PureComponent);E.Types=d,E.displayName="PriceUnit",t.default=E,e.exports=t.default},6055:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=C(n(7)),r=C(n(62)),i=C(n(18)),l=C(n(12)),s=C(n(276)),u=C(n(65)),c=C(n(192)),d=C(n(27)),f=C(n(117)),p=C(n(87)),h=C(n(288)),y=C(n(529)),m=C(n(61)),v=C(n(166)),g=C(n(82)),E=C(n(6144)),_=C(n(237)),b=C(n(6033)),S=n(6695),M=n(0);function C(e){return e&&e.__esModule?e:{default:e}}var A=10,T=5,O=1,N=50,I=function(){return!0},P=/(\t|\s)/,w=void 0,R=(w=n(7843)).MENTION_EVERYONE,L=w.MENTION_HERE,D=w.LAUNCHABLE_APPLICATIONS;function k(e,t,n,a){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return t.test(e)?A:n.test(e)?T:o&&(0,b.default)(a,e)?O:0}function U(e,t,n,a){for(var o=l.default.getUsers(),i=c.default.getGuildId(),s=(e=e.toLocaleLowerCase()).length,u=[],d=[],f=t.length,p=0,h=0;p<f;){var y=t[p],m=void 0,v=void 0;if(y.userId?(m=y.nick,v=o[y.userId]):(v=y,m=r.default.getNick(i,v.id)),!a||a(v)){var g=v.usernameLowerCase,E=null!=m?m.toLocaleLowerCase():null;g.substr(0,s)===e||m&&E.substr(0,s)===e?u.push({comparator:E||g,score:A,nick:m,user:v}):h<N&&((0,b.default)(e,g)||m&&(0,b.default)(e,E))&&(d.push({comparator:E||g,score:O,nick:m,user:v}),h+=1)}p+=1}return u.sort(S.sortByMatchScore),u.length<n&&(d.sort(S.sortByMatchScore),u=u.concat(d.slice(0,Math.max(0,n-u.length)))),u.length>n&&(u.length=n),u}function x(e,t){var n=i.default.getChannel(e);return(0,o.default)(s.default.getMessages(e).toArray()).reverse().map(function(e){return e.author}).reject(function(e){return e.isNonUserBot()}).uniqBy(function(e){return e.id}).map(function(e){var t=r.default.getMember(n.getGuildId(),e.id)||{};return{nick:t.nick||null,score:0,comparator:t.nick||e.username,user:e}}).take(t).value()}t.default={queryFriends:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments[3]);return U(e,m.default.getFriendIDs().map(function(e){return l.default.getUser(e)}),t,n)},queryDMUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments[3]);return U(e,i.default.getDMUserIds().map(function(e){return l.default.getUser(e)}),t,n)},queryChannelUsers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=i.default.getChannel(e);if(null==o)return[];var s=void 0;if(o.isPrivate()){s=o.recipients.map(function(e){return{userId:e,nick:o.nicks[e]}});var u=l.default.getCurrentUser();s.push({userId:u.id,nick:o.nicks[u.id]})}else if(0===t.length){var c=x(o.id,n);if(null!=c&&c.length>0)return c;s=r.default.getMembers(o.guild_id)}else s=r.default.getMembers(o.guild_id),a&&E.default.requestMembers(o.guild_id,t,n);return U(t,s,n,function(e){return o.isPrivate()||g.default.can(M.Permissions.VIEW_CHANNEL,e,o)})},queryGuildUsers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments[4];if(null==d.default.getGuild(e))return[];if(0===t.length)return x(u.default.getChannelId(e),n);var i=r.default.getMembers(e);return a&&t.length>0&&E.default.requestMembers(e,t,n),U(t,i,n,o)},queryUsers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=(!(arguments.length>2&&void 0!==arguments[2])||arguments[2],!(arguments.length>3&&void 0!==arguments[3])||arguments[3]),a=arguments[4];return n&&e.length>0&&E.default.requestMembers(null,e,t),U(e,(0,o.default)(l.default.getUsers()).values().value(),t,a)},queryChannels:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:M.ChannelTypes.GUILD_TEXT;e=e.toLocaleLowerCase();var u=new RegExp("^"+_.default.escape(e),"i"),c=new RegExp(_.default.escape(e),"i"),p=l.default.getCurrentUser(),h=void 0;return h=t?(0,o.default)(f.default.getChannels(t)[s]).map(function(e){return e.channel}):(0,o.default)(i.default.getChannels()).values().filter(function(e){return e.type===s}),s===M.ChannelTypes.GUILD_TEXT?h=h.filter(function(e){return g.default.can(M.Permissions.VIEW_CHANNEL,p,e)}):s===M.ChannelTypes.GUILD_VOICE&&(h=h.filter(function(e){return g.default.can(M.Permissions.VIEW_CHANNEL|M.Permissions.CONNECT,p,e)})),h.filter(r).map(function(n){var o=d.default.getGuild(n.guild_id),r=i.default.getChannel(n.parent_id),l=k((t?n.toString()+" "+(null!=r?r.toString():""):n.toString()+" "+(null!=r?r.toString():"")+" "+o.toString()).toLocaleLowerCase(),u,c,e,a);return l>0?{channel:n,score:l,comparator:n.toString()}:null}).filter(function(e){return!!e}).sortBy(function(e){return e.channel.name}).sort(S.sortByMatchScore).take(n).value()},queryGuilds:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;e=e.toLocaleLowerCase();var r=new RegExp("^"+_.default.escape(e),"i"),i=new RegExp(_.default.escape(e),"i");return(0,o.default)(d.default.getGuilds()).values().filter(a).map(function(t){var a=k(t.name.toLocaleLowerCase(),r,i,e,n);return a>0?{guild:t,score:a,comparator:t.toString()}:null}).filter(function(e){return!!e}).sortBy(function(e){return e.name}).sort(S.sortByMatchScore).take(t).value()},queryGroupDMs:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;e=e.toLocaleLowerCase();var a=new RegExp("^"+_.default.escape(e),"i"),r=new RegExp(_.default.escape(e),"i"),l=y.default.getPrivateChannelIds(),s=i.default.getChannels();return(0,o.default)(l).map(function(e){return s[e]}).map(function(n){if(n.type!==M.ChannelTypes.GROUP_DM)return null;var o=k(n.toString().toLocaleLowerCase(),a,r,e,t);return o>0?{channel:n,score:o,comparator:n.toString()}:null}).filter(function(e){return!!e}).filter(n).sort(S.sortByMatchScore).value()},queryApplications:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;e=e.toLocaleLowerCase();var r=new RegExp("^"+_.default.escape(e),"i"),i=new RegExp(_.default.escape(e),"i"),l=D();return(0,o.default)(l).map(function(t){var a=t.application,o=a.name.toLocaleLowerCase(),l=k(o,r,i,e,n);if(l>0)return{application:a,score:l,comparator:o}}).filter(Boolean).filter(a).sort(S.sortByMatchScore).take(t).value()},querySKUs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;e=e.toLocaleLowerCase();var r=new RegExp("^"+_.default.escape(e),"i"),i=new RegExp(_.default.escape(e),"i"),l=v.default.getSKUs();return(0,o.default)(l).values().map(function(t){var a=t.name.toLocaleLowerCase(),o=k(a,r,i,e,n);if(o>0)return{sku:t,score:o,comparator:a}}).filter(Boolean).filter(a).sort(S.sortByMatchScore).take(t).value()},getRecentlyTalked:x,queryMentionResults:function(e,t,n){var r=this.queryChannelUsers(t.id,e).map(function(e){return a({},e,{status:p.default.getStatus(e.user.id)})}),i=r.length,l=[];if(i<M.MAX_AUTOCOMPLETE_RESULTS){var s=d.default.getGuild(t.getGuildId());null!=s&&((0,o.default)(s.roles).filter(function(t){var n=t.mentionable,a=t.name;return n&&(0,b.default)(e,a.toLowerCase())}).take(M.MAX_AUTOCOMPLETE_RESULTS-i).forEach(function(e){return l.push(e)}),i+=l.length)}var u=[];return t.isDM()||t.isGroupDM()||!n||(i<M.MAX_AUTOCOMPLETE_RESULTS&&(0,b.default)(e,R().test)&&(u.push(R()),i+=1),i<M.MAX_AUTOCOMPLETE_RESULTS&&(0,b.default)(e,L().test)&&u.push(L())),{users:r,globals:u,roles:l}},queryChannelResults:function(e,t){return{channels:this.queryChannels(e,t.getGuildId()).map(function(e){return e.channel})}},queryEmojiResults:function(e,t){return{emojis:h.default.search(t,e,M.MAX_AUTOCOMPLETE_RESULTS)}},matchSentinel:function(e,t,n){return!P.test(t)&&e===n}},e.exports=t.default},6070:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=s(n(3)),r=n(56),i=s(n(2)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=[],c=[],d=null,f=new r.Timeout;function p(){location.pathname.startsWith(l.Routes.APPLICATION_STORE)?f.start(l.STORE_NAVIGATION_CACHE_TIME,p):i.default.dispatch({type:l.ActionTypes.APPLICATION_STORE_RESET_NAVIGATION})}function h(e){var t=null!=e&&null!=e.search?e.search:"";return null!=e?""+e.pathname+t:null}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getHistory=function(){return u},t.prototype.getFuture=function(){return c},t.prototype.getCurrentPath=function(){return null!=d?d.pathname:null},t.prototype.getCurrentRoute=function(){return h(d)},t.prototype.getLocationAtIndex=function(e){return 0===e?d:e>0?c[c.length-e]:u[u.length+e]},t.prototype.getRouteAtIndex=function(e){return h(this.getLocationAtIndex(e))},t.prototype.reset=function(){throw new Error("Should not reset the store this way outside of a test environment")},t}(o.default.Store);t.default=new y(i.default,{APPLICATION_STORE_LOCATION_CHANGE:function(e){var t=e.location,n=e.action;if(f.start(l.STORE_NAVIGATION_CACHE_TIME,p),null!=d){if(t.pathname===d.pathname&&t.search===d.search)return!1;var o=null!=t.state&&t.state.back,r=null!=t.state&&t.state.forward;o?(u.pop(),c.push(d)):"REPLACE"!==n&&"POP"!==n&&u.push(d),r&&c.pop(),!r&&!o&&c.length>0&&(c=[]),d=a({},t)}else d=a({},t)},APPLICATION_STORE_RESET_NAVIGATION:function(e){return u=[],c=[],void(d=null)}}),e.exports=t.default},6077:function(e,t,n){"use strict";t.__esModule=!0;var a=i(n(3)),o=i(n(2)),r=i(n(24));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l="GuildNSFWAgreeStore",s={};var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){s=r.default.get(l)||s},t.prototype.didAgree=function(e){return s[e]||!1},t}(a.default.Store);t.default=new u(o.default,{GUILD_NSFW_AGREE:function(e){var t=e.guildId;s[t]=!0,r.default.set(l,s)}}),e.exports=t.default},6079:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=j(n(7)),s=j(n(6033)),u=j(n(9)),c=j(n(42)),d=j(n(3)),f=j(n(6081)),p=j(n(126)),h=j(n(116)),y=j(n(234)),m=j(n(6628)),v=j(n(30)),g=j(n(117)),E=j(n(18)),_=j(n(958)),b=j(n(7530)),S=j(n(6127)),M=j(n(37)),C=j(n(7529)),A=j(n(7527)),T=j(n(6626)),O=j(n(29)),N=j(n(165)),I=j(n(6625)),P=j(n(6)),w=j(n(6055)),R=n(7513),L=j(n(237)),D=j(n(17)),k=n(0),U=j(n(5887)),x=n(521);function j(e){return e&&e.__esModule?e:{default:e}}var G="@",B="#",F=":",V="+",H="/",K="COMMAND";var z=[].concat((0,l.default)(k.ChannelTextAreaIntegrations).values().map(function(e){return r({},e,{isIntegration:!0,horizontal:e.type===k.ChannelTextAreaIntegrationTypes.GIF,description:function(e){switch(e.title){case k.ChannelTextAreaIntegrations.XIVDB.title:return P.default.Messages.COMMAND_XIVDB_DESCRIPTION;case k.ChannelTextAreaIntegrations.GIPHY.title:case k.ChannelTextAreaIntegrations.TENOR.title:return P.default.Messages.COMMAND_GIPHY_DESCRIPTION;default:return""}}(e)})}).value(),[{command:"tts",description:P.default.Messages.COMMAND_TTS_DESCRIPTION,predicate:function(e){return v.default.enableTTSCommand&&(e.isPrivate()||h.default.can(k.Permissions.SEND_TSS_MESSAGES,e))}},{command:"me",description:P.default.Messages.COMMAND_ME_DESCRIPTION},{command:"tableflip",description:P.default.Messages.COMMAND_TABLEFLIP_DESCRIPTION},{command:"unflip",description:P.default.Messages.COMMAND_TABLEUNFLIP_DESCRIPTION},{command:"shrug",description:P.default.Messages.COMMAND_SHRUG_DESCRIPTION},{command:"nick",description:P.default.Messages.COMMAND_NICK_DESCRIPTION,predicate:function(e){return!e.isPrivate()&&(h.default.can(k.Permissions.CHANGE_NICKNAME,e)||h.default.can(k.Permissions.MANAGE_NICKNAMES,e))}}]),Y=new RegExp("^("+z.filter(function(e){return e.isIntegration}).map(function(e){return e.command}).join("|")+")\\s(.+)","i");function W(e,t,n,a){var r=n.length>0?e.format({prefix:a(n)}):t;return o(T.default.Title,{title:r},"autocomplete-title-"+r)}function $(e,t,n,a,o,l,s,u,c,d){if(null==n||0===n.length)return null;var f=n.map(function(e,n){return i.createElement(u,r({onClick:o,onHover:a,selected:t===n,index:n},c(e,n)))});return[W(l,s,e,d),f]}function J(e,t,n,a,r,i){var d;return(d={MENTIONS:{matches:function(e,t){return w.default.matchSentinel(e,t,G)},queryResults:function(t){return w.default.queryMentionResults(t,e,r)},renderResults:function(e,n,a,r,l){var s=l.users,u=l.globals,c=l.roles;if(null==s||null==u||null==c||0===s.length&&0===u.length&&0===c.length)return null;var d=s.map(function(e,l){return o(T.default.User,{onClick:r,onHover:a,selected:n===l,index:l,user:e.user,nick:e.nick,status:e.status,hidePersonalInformation:t,colorblindMode:i},e.user.id)}),f=u.map(function(e,t){return o(T.default.Generic,{onClick:r,onHover:a,selected:n===t+s.length,index:s.length+t,text:e.text,description:e.description},e.text)}),p=c.map(function(e,t){return o(T.default.Role,{onClick:r,onHover:a,selected:n===t+s.length+u.length,index:s.length+u.length+t,role:e},e.id)});return[W(P.default.Messages.MEMBERS_MATCHING,P.default.Messages.MEMBERS,e,function(e){return""+G+e}),d,s.length>0&&u.length>0?o(T.default.Divider,{},"autocomplete-divider-1"):null,f,s.length>0&&c.length>0||u.length>0&&c.length>0?o(T.default.Divider,{},"autocomplete-divider-2"):null,p]},getText:function(e,n){var a=n.users,o=n.globals,r=n.roles;if(null==a||null==o||null==r)return"";var i=a[e],l=o[e-a.length],s=r[e-a.length-o.length];return null!=i?t?""+G+i.user.username:""+G+i.user.tag:null!=l?l.text:null!=s?""+G+s.name:""}},CHANNELS:{matches:function(t,n){return!e.isDM()&&!e.isGroupDM()&&w.default.matchSentinel(t,n,B)},queryResults:function(t){return w.default.queryChannelResults(t,e)},renderResults:function(e,t,n,a,o){return $(e,t,o.channels,n,a,P.default.Messages.TEXT_CHANNELS_MATCHING,P.default.Messages.TEXT_CHANNELS,T.default.Channel,function(e){return{channel:e,key:e.id,category:E.default.getChannel(e.parent_id)}},function(e){return""+B+e})},getText:function(e,t){var n=t.channels;if(null==n)return"";var a=n[e];if(null==a)return"";var o=g.default.getTextChannelNameDisambiguations(a.guild_id)[a.id];return"#"+(null!=o?o.name:a.name)}},EMOJIS:{matches:function(e,t){return t.length>1&&e===F},queryResults:function(t){return w.default.queryEmojiResults(t,e)},renderResults:function(e,t,n,a,o){return $(e,t,o.emojis,n,a,P.default.Messages.EMOJI_MATCHING,P.default.Messages.EMOJI,T.default.Emoji,function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:F}},function(e){return""+F+e})},getText:function(e,t){var n=t.emojis;return null==n||null==n[e]?"":""+F+n[e].name+F}},REACTIONS:{matches:function(e,t,n){return 0===n&&e===V&&t.startsWith(F)},queryResults:function(t){return w.default.queryEmojiResults(t.substring(1),e)},renderResults:function(e,t,n,a,o){return $(e,t,o.emojis,n,a,P.default.Messages.REACTIONS_MATCHING,P.default.Messages.EMOJI,T.default.Emoji,function(e){return{emoji:e,key:e.id||e.uniqueName||e.name,sentinel:F}},function(e){return""+V+e})},getText:function(e,t){var n=t.emojis;return null==n||null==n[e]?"":""+V+F+n[e].name+F}}})[K]={matches:function(e,t,n){return 0===n&&(e===H||null!=t.match(Y))},queryResults:function(t){var n=t.match(Y);if(n){var a=n[1],o=l.default.findKey(k.ChannelTextAreaIntegrations,function(e){return e.command===a});return b.default.search(o,n[2]),{integrationQuery:n[2],integration:o}}var r=new RegExp("^"+L.default.escape(t),"i"),i=[],u=[];(0,l.default)(z).forEach(function(n){(null==n.predicate||n.predicate(e))&&(r.test(n.command)?i.push(n):(0,s.default)(t,n.command.toLowerCase())&&u.push(n))});var c=[],d=function(e){var t=e,n=Array.isArray(t),a=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(a>=t.length)break;o=t[a++]}else{if((a=t.next()).done)break;o=a.value}var r=o;if(!(c.length<k.MAX_AUTOCOMPLETE_RESULTS))break;c.push(r)}};return d(i),d(u),{commands:c}},renderResults:function(e,t,r,i,l){if(null!=l&&null!=l.commands)return $(e,t,l.commands,r,i,P.default.Messages.COMMANDS_MATCHING,P.default.Messages.COMMANDS,T.default.Command,function(e){return{command:e.command,description:e.description,key:e.command}},function(e){return""+H+e});if(a)return o(N.default,{className:U.default.spinner,type:N.default.Type.SPINNING_CIRCLE});if(null!=n&&null!=n.integrations){var s,d=e.match(Y);if(null==d||null==n.integrations)return null;var f=!1,p=n.integrations.map(function(e,n){switch(e.type){case k.ChannelTextAreaIntegrationTypes.GIF:return f=!0,o(T.default.GIFIntegration,{className:U.default.horizontalAutocomplete,onClick:i,onHover:r,selected:t===n,index:n,width:e.meta.width,height:e.meta.height,src:e.meta.src,url:e.meta.url},""+e.meta.url+e.meta.src);case k.ChannelTextAreaIntegrationTypes.LINK:return o(T.default.LinkIntegration,{onClick:i,onHover:r,selected:t===n,index:n,title:e.meta.title,url:e.meta.url,type:e.meta.type,iconUrl:e.meta.icon_url},""+e.meta.title+e.meta.url)}}),h=z.find(function(e){return e.command===d[1]}),y=e.length>0&&null!=h&&null!=h.title?P.default.Messages.CONTENT_MATCHING.format({query:d[2],command:h.title}):null!=h&&null!=h.title?h.title:d[1];return[o(T.default.Title,{title:y},"autocomplete-title-"+y),f?o(O.default,{className:(0,u.default)((s={},s[U.default.horizontalAutocompletes]="Firefox"!==c.default.name,s))},"autocomplete-horizontal-completes",p):p]}},getText:function(e,t){var n=t.commands,a=t.integrations;return null!=n&&null!=n[e]?""+H+n[e].command:null!=a&&null!=a[e]?a[e].meta.url:""}},d}W.displayName="renderHeader";var q=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));l.default.bindAll(a,["renderEmojiPickerPopout","handleSetRef","handleSaveCurrentText","handleFileUpload","handleInviteToPlay","handleInviteToSpectate","handleInviteToListen","handleInviteToWatch","handleAutocompleteQuery"]);var o={};return a.state={integration:null,integrationQuery:null,autocompleteOptions:J(n.channel,n.hidePersonalInformation,o,!1,n.canMentionEveryone,n.colorblindMode),autocompletes:o,isAutocompletesLoading:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.focused&&this.focus()},t.prototype.componentDidUpdate=function(e,t){var n=this;this.grabIntegrationResults(e,t,function(){return n.grabAutocompleteOptions(e,t)}),this.fixFocus(e)},t.prototype.fixFocus=function(e){e.focused&&!this.props.focused?this.blur():!e.focused&&this.props.focused&&this.focus()},t.prototype.focus=function(){this._ref&&this._ref.focus()},t.prototype.blur=function(){this._ref&&this._ref.blur()},t.prototype.grabIntegrationResults=function(e,t,n){var a=this.state,o=a.integration,r=a.integrationQuery,i=a.autocompletes,l=m.default.getResults(o,r);null==l||null!=i&&i.integrations===l.results?n():this.setState({autocompletes:{integrations:l.results},isAutocompletesLoading:l.loading},n)},t.prototype.grabAutocompleteOptions=function(e,t){var n=this.props,a=n.channel,o=n.hidePersonalInformation,r=n.canMentionEveryone,i=n.colorblindMode,l=this.state,s=l.autocompletes,u=l.isAutocompletesLoading;if(a!==e.channel||o!==e.hidePersonalInformation||!(null!=s&&null!=t.autocompletes||null==s&&null!=t.autocompletes||null!=s&&null!=t.autocompletes&&s.integrations!==t.autocompletes.integrations)||u!==t.isAutocompletesLoading||r!==e.canMentionEveryone||i!==e.colorblindMode){var c=J(a,o,s,u,r,i);this.setState({autocompleteOptions:c})}},t.prototype.getPlaceholder=function(){var e=this.props,t=e.disabled,n=e.placeholder;return t?P.default.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:n},t.prototype.renderEmojiPickerPopout=function(e,t){return i.createElement(I.default,r({},e,t))},t.prototype.render=function(){var e=this,t=this.props,n=t.value,a=t.className,r=t.disabled,l=t.channel,s=t.type,u=t.canAttachFiles,c=t.canSendInvites,d=t.canPasteFiles,f=t.activities,p=t.onChange,h=t.onResize,y=t.onKeyDown,m=t.onKeyUp,v=t.onBlur,g=t.onFocus,E=t.onSubmit,_=this.state,b=_.autocompletes,S=_.autocompleteOptions;return o(x.BackgroundOpacityContext.Consumer,{},void 0,function(t){return i.createElement(A.default,{ref:e.handleSetRef,value:n,className:a,backgroundOpacity:t.backgroundOpacity,disabled:r,placeholder:e.getPlaceholder(),channel:l,type:s,canAttachFiles:u,canSendInvites:c,canPasteFiles:d,activities:f,autocompleteOptions:S,autocompletes:b,renderEmojiPickerPopout:e.renderEmojiPickerPopout,onChange:p,onResize:h,onKeyDown:y,onKeyUp:m,onSaveCurrentText:e.handleSaveCurrentText,onFileUpload:e.handleFileUpload,onInviteToPlay:e.handleInviteToPlay,onInviteToSpectate:e.handleInviteToSpectate,onInviteToListen:e.handleInviteToListen,onInviteToWatch:e.handleInviteToWatch,onOpenAttachPopout:e.handleOpenAttachPopout,onBlur:v,onFocus:g,onAutocompleteQuery:e.handleAutocompleteQuery,onSubmit:E})})},t.prototype.handleSetRef=function(e){this._ref=e},t.prototype.handleSaveCurrentText=function(e){S.default.saveDraft(e,this.props.value)},t.prototype.handleFileUpload=function(e){(0,R.promptToUpload)(e,this.props.channel.id)},t.prototype.handleStartFileUpload=function(){this._ref&&this._ref.handleStartFileUpload()},t.prototype.handleInviteToPlay=function(e){var t=this.props.channel;D.default.track(k.AnalyticEvents.OPEN_MODAL,{type:"Send Join Invite",application_id:e.application_id}),M.default.push(function(){return o(C.default,{activity:e,channel:t,activityActionType:k.ActivityActionTypes.JOIN})})},t.prototype.handleInviteToSpectate=function(e){var t=this.props.channel;D.default.track(k.AnalyticEvents.OPEN_MODAL,{type:"Send Spectate Invite",application_id:e.application_id}),M.default.push(function(){return o(C.default,{activity:e,channel:t,activityActionType:k.ActivityActionTypes.SPECTATE})})},t.prototype.handleInviteToListen=function(e){var t=this.props.channel;D.default.track(k.AnalyticEvents.OPEN_MODAL,{type:"Send Listen Invite"}),M.default.push(function(){return o(C.default,{activity:e,channel:t,activityActionType:k.ActivityActionTypes.LISTEN})})},t.prototype.handleInviteToWatch=function(e){var t=this.props.channel;D.default.track(k.AnalyticEvents.OPEN_MODAL,{type:"Send Watch Invite"}),M.default.push(function(){return o(C.default,{activity:e,channel:t,activityActionType:k.ActivityActionTypes.WATCH})})},t.prototype.handleInsertText=function(e){var t=e.content;this._ref&&this._ref.insertText(t),this.focus()},t.prototype.handleOpenAttachPopout=function(){D.default.track(k.AnalyticEvents.OPEN_POPOUT,{type:"Send Attachment"})},t.prototype.handleAutocompleteQuery=function(e,t,n){var a=e.queryResults(t);n===K&&null==a.commands?this.setState({autocompletes:null,integrationQuery:a.integrationQuery,integration:a.integration}):this.setState({autocompletes:a,integrationQuery:null})},t}(i.PureComponent);q.defaultProps={type:k.TextareaTypes.NORMAL,disableActivity:!1,disableAttachments:!1,disableImagePaste:!1,disableInvites:!1,focused:!1},q.displayName="ChannelTextAreaContainer";var X=(0,f.default)(function(e,t){var n;return(n={})[k.ComponentActions.UPLOAD_FILE]=t.handleStartFileUpload.bind(t),n[k.ComponentActions.INSERT_TEXT]=t.handleInsertText.bind(t),n})(q),Q=d.default.connectStores([m.default,h.default,y.default,p.default,_.default],function(e){var t=e.channel,n=e.disableAttachments,a=e.disableImagePaste,o=e.disableActivity,r=e.disableInvites,i=t.isPrivate(),l=i||h.default.can(k.Permissions.ATTACH_FILES,t),s=i||h.default.can(k.Permissions.EMBED_LINKS,t);return{query:m.default.getQuery(),canAttachFiles:!n&&l,canPasteFiles:!a&&l,canSendInvites:!r&&s,disabled:!i&&!h.default.can(k.Permissions.SEND_MESSAGES,t),canMentionEveryone:i||h.default.can(k.Permissions.MENTION_EVERYONE,t),activities:o?null:y.default.getActivities(),hidePersonalInformation:p.default.hidePersonalInformation,colorblindMode:_.default.colorblindMode}})(X);t.default=Q,e.exports=t.default},6080:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=j(n(6079)),s=j(n(224)),u=n(266),c=j(n(7509)),d=n(6616),f=j(n(7496)),p=j(n(6611)),h=j(n(375)),y=n(6145),m=j(n(141)),v=j(n(6122)),g=j(n(963)),E=j(n(116)),_=j(n(14)),b=j(n(126)),S=j(n(128)),M=j(n(11)),C=j(n(7469)),A=j(n(6121)),T=j(n(3)),O=j(n(37)),N=n(34),I=n(6621),P=j(n(6242)),w=n(140),R=j(n(972)),L=n(0),D=j(n(525)),k=j(n(7456)),U=j(n(7455)),x=n(521);function j(e){return e&&e.__esModule?e:{default:e}}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var B=function(e){var t=e.guildId;return E.default.can(L.Permissions.MANAGE_GUILD,{guildId:t})},F=function(e){var t=e.message,n=e.channel,a=e.canChat,o=e.renderReactions,r=e.canAddNewReactions,i=n.isPrivate(),l=t.type!==L.MessageTypes.DEFAULT,s=!l&&(a||i);return{disableReactionReads:!o,disableReactionCreates:!s||!(!l&&(!0===r||i)),disableReactionUpdates:!s}},V=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,u=Array(s),p=0;p<s;p++)u[p]=arguments[p];return n=a=G(this,e.call.apply(e,[this].concat(u))),a.onResize=function(e){var t=e.target,n=e.isEditing,o=a.props,r=o.onEdit,i=o.onUpdate;n?r&&t&&r(t):i&&t&&i(t)},a.onClickUsername=function(e,t){var n=t.user;if(e.shiftKey&&!n.isNonUserBot()){var o=a.props.disablePersonalInformation,r=n.username,i=n.tag,l="@"+(o?r:i);w.ComponentDispatch.dispatchToLastSubscribed(L.ComponentActions.INSERT_TEXT,{content:l}),e.preventDefault(),e.stopPropagation();var s=a.props.channel;null!=s&&R.default.typing(s.id)}},a.onContextMenuMessage=function(e,t){if(M.default.embedded){var n=t.message.type!==L.MessageTypes.DEFAULT?L.ContextMenuTypes.MESSAGE_SYSTEM:L.ContextMenuTypes.MESSAGE_MAIN;(0,N.openContextMenu)(e,function(e){return i.createElement(C.default,r({},e,t,{type:n}))})}},a.onContextMenuUser=function(e,t){var n=t.user,a=t.channel;(0,I.openUserContextMenu)(e,n,a)},a.renderAccessories=function(e){var t=e.message,n=a.props,l=n.compact,s=n.channel,u=n.accessoriesClassName,c=n.gifAutoPlay,d=n.renderReactions,p=n.canAddNewReactions,h=n.inlineAttachmentMedia,y=n.inlineEmbedMedia,m=n.renderEmbeds,v=n.canChat,g=F({message:t,channel:s,canChat:v,renderReactions:d,canAddNewReactions:p});return o(x.BackgroundOpacityContext.Consumer,{},void 0,function(e){return i.createElement(f.default,r({},g,{className:u,message:t,channel:s,isCompact:l,disableAutoPlayGif:!c,disableEmbeds:!m,inlineAttachmentMedia:h,inlineEmbedMedia:y,onContextMenuMessage:a.onContextMenuMessage,backgroundOpacity:e.backgroundOpacity}))})},a.renderButtonsMessage=function(e){var t=e.message,n=e.channel,r=t.state===L.MessageStates.SENDING,l=a.props,s=l.developerMode,u=l.canManageMessages,c=l.messageOption,f=l.currentUserId;if(!1===c||r)return null;var p=t.author,y=u||p.id===f,g=t.type!==L.MessageTypes.DEFAULT,E=!g&&(u||n.isPrivate()),_=!g&&a.props.canEdit,b=a.props,S=b.canChat,M=b.canAddNewReactions,C=b.renderReactions,T=F({message:t,channel:n,canChat:S,renderReactions:C,canAddNewReactions:M}).disableReactionCreates;return o(i.Fragment,{},void 0,!T&&!g&&o(d.ButtonAddReaction,{message:t,channel:n}),o(k.default,{channel:n,message:t,developerMode:s,canEdit:_,canPin:E,canDelete:y,onStartEditMessage:m.default.startEditMessage,onRetrySendMessage:m.default.retrySendMessage,onDeleteMessage:m.default.deleteMessage,onConfirmDelete:A.default.confirmDelete,onConfirmPin:A.default.confirmPin,onOpenGuildSettings:h.default.open,onUnpinMessage:v.default.unpinMessage,onConfirmUnpin:A.default.confirmUnpin,onCanManageGuild:B,onShowReactionsModal:a.renderReactionsModal,currentUserId:f}))},a.renderEditor=function(e){var t=e.value,n=e.message,a=e.channel,r=e.onChange,i=e.onSubmit,s=e.onKeyDown,u=e.onResize;return o(l.default,{className:"margin-top-8",value:t,channel:a,type:L.TextareaTypes.EDIT,onChange:r,onSubmit:i,onKeyDown:s,onResize:u},n.id)},a.renderPopoutUser=function(e){return i.createElement(D.default,e)},a.renderSystemMessage=function(e){return i.createElement(c.default,r({},e,{key:e.message.id,onContextMenu:a.onContextMenuMessage}))},G(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.validateEdit=function(e){var t=e.value,n=e.channel;return g.default.applyChatRestrictions(null,t,n,!1,!1)},t.prototype.renderReactionsModal=function(e){var t=e.message;O.default.push(P.default,{message:t})},t.prototype.render=function(){var e=this,t=this.props,n=t.onClickAnywhere,a=t.hasDivider,l=t.compact,s=t.canFlash,u=t.enableInteraction,c=t.messages,d=t.channel,f=t.jumpSequenceId,p=t.jumpMessageId,h=t.registerMessageDOMNode,v=t.renderMentioned,g=t.groupOption,E=t.editingMessageId,_=t.disableInteractionLabel,b=t.editingContent,S=t.isFocusedWindow,M=t.className,C=t.cozyClassName,T=t.canChat,O=t.renderReactions,N=t.canAddNewReactions,I=t.gifAutoPlay,P=t.renderEmbeds,w=t.canManageMessages,R=t.developerMode,L={messages:c,channel:d,jumpSequenceId:f,jumpMessageId:p,registerMessageDOMNode:h,editingMessageId:E,disableInteractionLabel:_,editingContent:b,isFocusedWindow:S},D=r({},F({message:c[0],channel:d,canChat:T,renderReactions:O,canAddNewReactions:N}),{disableAutoPlayGif:!I,disableEmbeds:!P,disableManageMessages:!w,disableDeveloperMode:!R});return o(x.BackgroundOpacityContext.Consumer,{},void 0,function(t){return i.createElement(U.default,r({isCompact:l,onClick:n,disableDivider:a,disableJumpFlash:!s,disableInteraction:!u,disableMentionStyles:!v,onResize:e.onResize,validateEdit:e.validateEdit,onCancelEditing:m.default.endEditMessage,onConfirmDelete:A.default.confirmDelete,onChange:m.default.updateEditMessage,saveMessage:m.default.editMessage,editingMessageId:E,onManualAck:y.manualAck,onClickUsername:e.onClickUsername,onContextMenuMessage:e.onContextMenuMessage,onContextMenuUser:e.onContextMenuUser,onDeleteMessage:m.default.deleteMessage,renderAccessories:e.renderAccessories,renderButtonsMessage:e.renderButtonsMessage,renderEditor:e.renderEditor,renderPopoutUser:e.renderPopoutUser,renderSystemMessage:e.renderSystemMessage,renderButtonsGroup:g,className:M,cozyClassName:C,backgroundOpacity:t.backgroundOpacity},L,D))})},t}(i.Component);V.defaultProps={canManageMessages:!1,hasDivider:!1,popoutPosition:s.default.Positions.RIGHT,avatarSize:u.AvatarSizes.LARGE,compact:!1,messageOption:!0,canEdit:!0,jumpTargetIndex:-1,enableInteraction:!0,developerMode:!1,canFlash:!0,renderMentioned:!0,inlineAttachmentMedia:!1,inlineEmbedMedia:!1,gifAutoPlay:!1,renderEmbeds:!1,renderEmbedsSmall:!1,renderReactions:!0,canChat:!1},V.displayName="ConnectedMessageGroup",t.default=T.default.connectStores([p.default,_.default,S.default],function(e){var t=e.channel,n=e.messages,a=e.canEdit,o=t.id,r=!1!==a&&n.some(function(e){return e&&p.default.isEditing(o,e.id)}),i=r?p.default.getEditingMessageId():null,l=r?p.default.getEditingContent():null,s=S.default.isFocused(),u=b.default.hidePersonalInformation;return{currentUserId:_.default.getId(),editingMessageId:i,isFocusedWindow:s,disablePersonalInformation:u,editingContent:l}})(V),e.exports=t.default},6081:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.default=function(e){return function(t){return function(n){function l(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var a=arguments.length,o=Array(a),r=0;r<a;r++)o[r]=arguments[r];return t=i(this,n.call.apply(n,[this].concat(o))),e=t,t._subscriptions=null,t.handleSetRef=function(e){t._ref=e},i(t,e)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,n),l.prototype.componentDidMount=function(){for(var t in this._subscriptions=e(this.props,this._ref),this._subscriptions)null!=this._subscriptions&&this._subscriptions.hasOwnProperty(t)&&r.ComponentDispatch.subscribe(t,this._subscriptions[t])},l.prototype.componentWillUnmount=function(){for(var e in this._subscriptions)null!=this._subscriptions&&this._subscriptions.hasOwnProperty(e)&&r.ComponentDispatch.unsubscribe(e,this._subscriptions[e])},l.prototype.render=function(){return o.createElement(t,a({ref:this.handleSetRef},this.props))},l}(o.Component)}};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(140);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}e.exports=t.default},6087:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(9)),l=m(n(369)),s=m(n(37)),u=m(n(17)),c=m(n(548)),d=m(n(80)),f=m(n(6)),p=m(n(5552)),h=m(n(5940)),y=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(){return o("div",{className:h.default.premiumPromo},void 0,o(d.default,{onClick:function(){u.default.track(y.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:null,location_section:y.AnalyticsSections.FILE_UPLOAD_POPOUT}),s.default.pop(),l.default.open(y.UserSettingsSections.PREMIUM)},className:h.default.content},void 0,f.default.Messages.PREMIUM_UPLOAD_PROMO.format({maxUploadPremium:f.default.Messages.FILE_UPLOAD_LIMIT_PREMIUM}),o("img",{alt:"",className:h.default.navArrow,src:n(7894)})))};v.displayName="PremiumPromo";var g=o(v,{}),E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.promo;return o("div",{className:p.default.uploadModalIn},void 0,o("div",{className:(0,i.default)(p.default.uploadDropModal,p.default.error)},void 0,o("div",{className:p.default.inner},void 0,o("div",{className:p.default.icons},void 0,o("div",{className:p.default.wrapOne},void 0,o("div",{className:(0,i.default)(p.default.icon,p.default.one)})),o("div",{className:p.default.wrapThree},void 0,o("div",{className:(0,i.default)(p.default.icon,p.default.three)})),o("div",{className:p.default.wrapTwo},void 0,o("div",{className:(0,i.default)(p.default.icon,p.default.two)}))),o("div",{className:p.default.title},void 0,this.props.title),o("div",{className:p.default.instructions},void 0,this.props.help),e?g:null)))},t}(r.Component);E.modalConfig={backdropStyle:c.default.Styles.DARK,backdropInstant:!0},E.displayName="UploadError",t.default=E,e.exports=t.default},6090:function(e,t,n){"use strict";t.__esModule=!0;var a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=N(n(3)),i=N(n(7)),l=N(n(5)),s=N(n(6033)),u=N(n(2)),c=N(n(11)),d=n(988),f=n(389),p=n(144),h=n(201),y=N(n(58)),m=N(n(23)),v=N(n(67)),g=N(n(388)),E=N(n(57)),_=N(n(30)),b=N(n(6287)),S=N(n(126)),M=N(n(200)),C=N(n(6286)),A=N(n(146)),T=n(132),O=n(0);function N(e){return e&&e.__esModule?e:{default:e}}var I=5,P=(0,l.default)().subtract(1,"week"),w=[],R="",L=!1;function D(e,t){return e.application.name.localeCompare(t.application.name,_.default.locale,{sensitivity:"base"})}var k=((a={})[O.GameTableListKeys.NAME]=D,a[O.GameTableListKeys.PLATFORM]=function(e,t,n){var a=e.libraryApplication.getDistributor(),o=t.libraryApplication.getDistributor();return a===o?(n===O.TableSortDirections.DESCENDING?-1:1)*D(e,t):null==a?1:null==o?-1:a.localeCompare(o)},a[O.GameTableListKeys.LAST_PLAYED]=function(e,t){return e.isNew&&!t.isNew?-1:!e.isNew&&t.isNew?1:e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1},a[O.GameTableListKeys.ACTIONS]=null,a),U=(0,d.cachedFunction)(function(e){return e.filter(function(e){return null!=e.libraryApplication&&e.shouldShowInLibrary})}),x=(0,d.cachedFunction)(function(e){return e.filter(function(e){return e.isLaunchable&&(null==e.libraryApplication||e.shouldShowInLibrary)})}),j=(0,d.cachedFunction)(function(e,t){return e.filter(function(e){return(0,s.default)(t.toLowerCase(),e.application.name.toLowerCase())})}),G=(0,d.cachedFunction)(function(e,t,n,a){var o=k[t];if(null==o)return e;var r=[].concat(e).sort(o);return n===O.TableSortDirections.DESCENDING?r.reverse():r}),B=(0,d.cachedFunction)(function(e){return e.filter(function(e){return null!=e.libraryApplication&&e.libraryApplication.isHidden()})});function F(e,t){var n=C.default.getCurrentUserStatisticsForApplication(e.id);if(null!=n)return new Date(n.last_played_at).getTime();var a=t[e.id];return null!=a?a:0}function V(e,t,n,a,o){if(!o&&t.has(e.id))return null;var r=m.default.getGame(e.id);if(null==r)return null;var i=F(r,n);return t.add(e.id),e instanceof T.LocalApplicationRecord||e.isEntitled()||v.default.isInstalled(e.id,e.branchId)?{key:e.id+"-"+e.branchId,application:r,libraryApplication:e,lastPlayed:i,supportsCloudSync:null!=e&&!(e instanceof T.LocalApplicationRecord)&&v.default.supportsCloudSync(e.id,e.branchId),isNew:function(e,t){return null!=e&&(0,l.default)(e.createdAt).isAfter(P)&&0===t&&!(e instanceof T.LocalApplicationRecord)}(e,i),isLaunching:m.default.launchingGames.has(e.id),isRunning:a.has(e.id),isLaunchable:(0,f.isLaunchable)(E.default,m.default,v.default,M.default,e.id,e.branchId),isUpdatingFlags:E.default.isUpdatingFlags(e.id,e.branchId),shouldShowInLibrary:(0,p.shouldShowGameInLibrary)(r,e,A.default,S.default),defaultAction:(0,h.getDefaultLibraryApplicationAction)(e,v.default,g.default)}:null}function H(){var e=new Set(y.default.getRunningVerifiedApplicationIds()),t={},n=new Set,a=y.default.getGamesSeen(!1,!1).map(function(e){var n=m.default.getGameBySettingGame(e);return null!=n?(t[n.id]=1e3*e.lastFocused,n.id):null}),o=Object.values(E.default.getAllLibraryApplications()).map(function(a){return V(a,n,t,e,!0)}).filter(Boolean),r=Object.values(A.default.localApplications).map(function(a){return V(a,n,t,e,!1)}).filter(Boolean),l=a.map(function(a){return function(e,t,n,a){var o=null!=e?m.default.getGame(e):null;if(null==o||null==e||t.has(e))return null;var r=F(o,n);return t.add(e),{key:e,application:o,lastPlayed:r,supportsCloudSync:!1,isNew:!1,isLaunching:m.default.launchingGames.has(e),isRunning:a.has(e),isLaunchable:(0,f.isLaunchable)(E.default,m.default,v.default,M.default,e,null),isUpdatingFlags:!1,shouldShowInLibrary:!1,libraryApplication:null,defaultAction:null}}(a,n,t,e)}).filter(Boolean),s=[].concat(l,r,o).sort(function(e,t){return e.lastPlayed===t.lastPlayed?0:e.lastPlayed>t.lastPlayed?-1:1});return L=null!=m.default.lastFetched&&E.default.fetched,!i.default.isEqual(s,w)&&(w=s,c.default.embedded&&c.default.setSystemTrayApplications(x(w).map(function(e){return e.application}).slice(0,I)),!0)}var K=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([m.default,y.default,v.default,g.default,E.default,C.default,S.default,M.default],H,200),this.syncWith([b.default,_.default],function(){return!0})},o(t,[{key:"applicationFilterQuery",get:function(){return R}},{key:"applicationViewItems",get:function(){return w}},{key:"launchableApplicationViewItems",get:function(){return x(w)}},{key:"libraryApplicationViewItems",get:function(){return U(w)}},{key:"filteredLibraryApplicationViewItems",get:function(){return j(this.libraryApplicationViewItems,R)}},{key:"sortedFilteredLibraryApplicationViewItems",get:function(){return G(this.filteredLibraryApplicationViewItems,b.default.sortKey,b.default.sortDirection,_.default.locale)}},{key:"hiddenLibraryApplicationViewItems",get:function(){return B(w)}},{key:"hasFetchedApplications",get:function(){return L}}]),t}(r.default.Store);t.default=new K(u.default,{LIBRARY_APPLICATION_FILTER_UPDATE:function(e){var t=e.query;R=t}}),e.exports=t.default},6117:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(0),r=n(2),i=(a=r)&&a.__esModule?a:{default:a};t.default={setEnabled:function(e){this.update({enabled:e})},update:function(e){var t=Object.keys(e),n=Array.isArray(t),a=0;for(t=n?t:t[Symbol.iterator]();;){var r;if(n){if(a>=t.length)break;r=t[a++]}else{if((a=t.next()).done)break;r=a.value}var l=r;i.default.dispatch({type:o.ActionTypes.STREAMER_MODE_UPDATE,key:l,value:e[l]})}}},e.exports=t.default},6118:function(e,t,n){"use strict";t.__esModule=!0,t.PRETTY_KEYS=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(6001))),i=s(n(9)),l=s(n(5547));function s(e){return e&&e.__esModule?e:{default:e}}var u=o("g",{fill:"#4F545C"},void 0,o("polygon",{transform:"translate(5.025000, 5.000000) scale(1, -1) translate(-5.025000, -5.000000) ",points:"4.16666667 10 4.16666672 3.33333333 1.25 6.25 0.05 5 5.00000005 0 9.99999967 5 8.75 6.25 5.83333338 3.33333333 5.83333333 10"})),c=function(e){var t=e.direction,n=void 0===t?"up":t;return o("svg",{width:"10",height:"10",xmlns:"http://www.w3.org/2000/svg",className:(0,i.default)(l.default.bindArrow,l.default[n])},void 0,u)};c.displayName="ArrowSVG";var d=o(c,{direction:"up"}),f=o(c,{direction:"down"}),p=o(c,{direction:"left"}),h=o(c,{direction:"right"}),y=t.PRETTY_KEYS={mod:function(){return r.default.modKey},alt:function(){return r.default.altKey},up:function(){return d},down:function(){return f},left:function(){return p},right:function(){return h},pageup:function(){return"page up"},pagedown:function(){return"page down"},"any-character":function(){return"any key"},return:function(){return r.default.returnKey}},m=function(e){var t=e.shortcut,n=e.className;return o("div",{className:(0,i.default)(l.default.keybindShortcut,n)},void 0,t.split("+").map(function(e){return y[e]?y[e]():e}).map(function(e,t){return o("span",{},t,e)}))};m.displayName="KeyboardShortcut",t.default=m},6121:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(6)),s=_(n(9)),u=_(n(167)),c=_(n(6080)),d=_(n(7466)),f=_(n(71)),p=_(n(1e3)),h=_(n(930)),y=_(n(37)),m=_(n(141)),v=_(n(6122)),g=n(7464),E=_(n(5870));function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var S=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=b(this,e.call.apply(e,[this].concat(r))),a.state={report:!1},a.handleDelete=function(){var e=a.state.report,t=a.props,n=t.channel,o=t.message;e?y.default.push(d.default,{channel:n,message:o,onReport:function(){m.default.deleteMessage(n.id,o.id)}}):m.default.deleteMessage(n.id,o.id)},a.handleToggleReport=function(e){a.setState({report:e.currentTarget.checked})},b(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.state.report,t=this.props,n=t.channel,a=t.message,s=t.showContextMenuHint,d=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(t,["channel","message","showContextMenuHint"]),y=void 0;s&&(y=r(p.default,{className:E.default.spacingTop},void 0,l.default.Messages.DELETE_MESSAGE_CONTEXT_MENU_HINT.format()));var m=void 0;return(0,g.canReportMessage)(a)&&(m=r(h.default,{value:e,onChange:this.handleToggleReport,hideBorder:!0,className:E.default.spacingTop},void 0,l.default.Messages.DELETE_MESSAGE_REPORT)),i.createElement(u.default,o({header:l.default.Messages.DELETE_MESSAGE_TITLE,confirmText:l.default.Messages.DELETE,cancelText:l.default.Messages.CANCEL,onConfirm:this.handleDelete},d),r(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY,className:E.default.spacing},void 0,l.default.Messages.DELETE_MESSAGE_BODY),r("div",{className:E.default.message},void 0,r(c.default,{channel:n,messages:[a],enableInteraction:!1})),m,y)},t}(i.PureComponent);S.displayName="DeleteModal",t.default={confirmPin:function(e,t){y.default.push(function(n){var a=void 0;return a=e.isPrivate()?l.default.Messages.PIN_MESSAGE_BODY_PRIVATE_CHANNEL:l.default.Messages.PIN_MESSAGE_BODY.format({channelName:e.toString()}),i.createElement(u.default,o({red:!1,header:l.default.Messages.PIN_MESSAGE_TITLE,confirmText:l.default.Messages.PIN_CONFIRM,cancelText:l.default.Messages.CANCEL,onConfirm:function(){return v.default.pinMessage(e,t.id)}},n),r(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY,className:E.default.spacing},void 0,a),r("div",{className:E.default.message},void 0,r(c.default,{channel:e,messages:[t],enableInteraction:!1})))})},confirmUnpin:function(e,t){y.default.push(function(n){return i.createElement(u.default,o({header:l.default.Messages.UNPIN_MESSAGE_TITLE,confirmText:l.default.Messages.UNPIN_CONFIRM,cancelText:l.default.Messages.CANCEL,onConfirm:function(){return v.default.unpinMessage(e,t.id)}},n),r(f.default,{size:f.default.Sizes.MEDIUM,color:f.default.Colors.PRIMARY,className:E.default.spacing},void 0,l.default.Messages.UNPIN_MESSAGE_BODY),r("div",{className:(0,s.default)(E.default.message,E.default.spacing)},void 0,r(c.default,{channel:e,messages:[t],enableInteraction:!1})),r(p.default,{},void 0,l.default.Messages.UNPIN_MESSAGE_CONTEXT_MENU_HINT.format()))})},confirmDelete:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];y.default.push(function(a){return i.createElement(S,o({channel:e,message:t,showContextMenuHint:n},a))})}},e.exports=t.default},6122:function(e,t,n){"use strict";t.__esModule=!0;var a=u(n(2)),o=u(n(6610)),r=u(n(13)),i=u(n(6)),l=(u(n(127)),u(n(273))),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var c={pinMessage:function(e,t){var n=e.id,a=e.name;r.default.put({url:s.Endpoints.PIN(n,t)}).catch(function(){var t=void 0;t=e.isPrivate()?i.default.Messages.PIN_MESSAGE_TOO_MANY_BODY_PRIVATE_CHANNEL.format({maxPins:s.MAX_PINS_PER_CHANNEL}):i.default.Messages.PIN_MESSAGE_TOO_MANY_BODY.format({maxPins:s.MAX_PINS_PER_CHANNEL,channelName:a}),l.default.show({title:i.default.Messages.PIN_MESSAGE_TOO_MANY_TITLE,body:t,confirmText:i.default.Messages.OKAY})})},unpinMessage:function(e,t){r.default.delete({url:s.Endpoints.PIN(e.id,t)}).catch(function(){return l.default.show({title:i.default.Messages.UNPIN_MESSAGE_FAILED_TITLE,body:i.default.Messages.UNPIN_MESSAGE_FAILED_BODY,confirmText:i.default.Messages.TRY_AGAIN,cancelText:i.default.Messages.CANCEL,onConfirm:c.unpinMessage.bind(c,e,t)})})},ackPins:function(e){a.default.dirtyDispatch({type:s.ActionTypes.CHANNEL_PINS_ACK,channelId:e})},fetchPins:function(e){var t=o.default.getPinnedMessages(e);t&&(t.loaded||t.loading)||(a.default.dirtyDispatch({type:s.ActionTypes.LOAD_PINNED_MESSAGES,channelId:e}),r.default.get({url:s.Endpoints.PINS(e),retries:2}).then(function(t){a.default.dispatch({type:s.ActionTypes.LOAD_PINNED_MESSAGES_SUCCESS,messages:t.body,channelId:e})},function(){a.default.dispatch({type:s.ActionTypes.LOAD_PINNED_MESSAGES_FAILURE,channelId:e})}))}};t.default=c,e.exports=t.default},6123:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=n(56);function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=a=i(this,e.call.apply(e,[this].concat(l))),a.timer=new r.Interval,a.state={hovered:!1},a.handlePause=function(){a.state.hovered||a.setState({hovered:!0})},a.handleResume=function(){a.setState({hovered:!1})},i(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e){return e.disable?{hovered:!1}:null},t.prototype.componentDidMount=function(){var e=this.props,t=e.pauseOnHover,n=e.disable,a=this.state.hovered&&t;n||a||this.startTimer()},t.prototype.componentWillUnmount=function(){this.stopTimer()},t.prototype.componentDidUpdate=function(e,t){var n=this.props,a=function(e,t){return!(e.disable||t.hovered&&e.pauseOnHover)},o=a(n,this.state),r=a(e,t);o&&!r||e.interval!==n.interval?this.startTimer():!o&&r&&this.stopTimer()},t.prototype.startTimer=function(){var e=this.props,t=e.interval,n=e.onInterval;e.disable||this.timer.start(t,function(){n()})},t.prototype.stopTimer=function(){this.timer.stop()},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.disable?null:{onMouseEnter:this.handlePause,onFocus:this.handlePause,onMouseLeave:this.handleResume,onBlur:this.handleResume};return o.createElement("div",a({},r,{className:n}),t)},t}(o.Component);l.defaultProps={disable:!1,pauseOnHover:!1},l.displayName="IntervalWrapper",t.default=l,e.exports=t.default},6124:function(e,t,n){"use strict";function a(e){return null!=e.requestFullscreen||null!=e.webkitRequestFullscreen||e.webkitSupportsFullscreen||null!=e.mozRequestFullScreen||null!=e.msRequestFullscreen}t.__esModule=!0,t.getFullScreenNode=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(function(e){return null!=e&&a(e)})},t.supportsFullScreen=a,t.requestFullScreen=function(e,t){if("function"==typeof e.requestFullscreen)e.requestFullscreen();else if("function"==typeof e.webkitRequestFullscreen)e.webkitRequestFullscreen();else if("function"==typeof e.webkitEnterFullscreen)e.webkitEnterFullscreen();else if("function"==typeof e.mozRequestFullScreen)e.mozRequestFullScreen();else{if("function"!=typeof e.msRequestFullscreen)return void console.warn("Fullscreen API is not supported.");e.msRequestFullscreen()}null!=t&&t()},t.exitFullScreen=function(e,t){if("function"==typeof document.exitFullscreen)document.exitFullscreen();else if("function"==typeof document.webkitExitFullscreen)document.webkitExitFullscreen();else if("function"==typeof e.webkitExitFullscreen)e.webkitExitFullscreen();else if("function"==typeof document.mozCancelFullScreen)document.mozCancelFullScreen();else{if("function"!=typeof document.msExitFullscreen)return void console.warn("Fullscreen API is not supported.");document.msExitFullscreen()}null!=t&&t()},t.isFullScreen=function(e){return null!=document.fullscreenElement||null!=document.mozFullScreenElement||null!=document.webkitFullscreenElement||null!=document.msFullscreenElement||null!=e&&e.webkitDisplayingFullscreen};var o;t.FULLSCREEN_CHANGE_EVENT="function"==typeof(o=document.createElement("video")).requestFullscreen?"fullscreenchange":"function"==typeof o.webkitRequestFullscreen?"webkitfullscreenchange":"function"==typeof o.webkitEnterFullscreen?"webkitendfullscreen":"function"==typeof o.mozRequestFullScreen?"mozfullscreenchange":"function"==typeof o.msRequestFullscreen?"msfullscreenchange":"fullscreenchange"},6125:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=c(n(6)),i=c(n(967)),l=n(6016),s=c(n(6247)),u=n(0);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.fileSize,c=e.className,d=e.mediaPlayerClassName,f=e.poster,p=e.fileName,h=e.naturalWidth,y=e.naturalHeight,m=e.playable,v=e.autoPlay,g=e.autoMute,E=e.mediaPlayerRef,_=e.onPlay,b=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["src","fileSize","className","mediaPlayerClassName","poster","fileName","naturalWidth","naturalHeight","playable","autoPlay","autoMute","mediaPlayerRef","onPlay"]);return o.createElement(i.default,a({alt:r.default.Messages.VIDEO,className:c,src:f},b,{minWidth:s.default.minWidth,shouldLink:!1,shouldAnimate:!1}),function(e){var a=e.src,r=e.size,i=r.width,c=r.height,f=!(h<=u.MAX_VIDEO_WIDTH&&y<=u.MAX_VIDEO_HEIGHT||h<=u.MAX_VIDEO_HEIGHT&&y<=u.MAX_VIDEO_WIDTH);return o.createElement(s.default,{className:d,forceExternal:f,src:t,poster:a,width:i,height:c,autoPlay:v||!1,autoMute:g||!1,type:s.default.Types.VIDEO,fileName:p,fileSize:(0,l.sizeString)(n),playable:m,ref:E,onPlay:_})})},t}(o.Component);d.displayName="LazyVideo",t.default=d,e.exports=t.default},6126:function(e,t,n){"use strict";t.__esModule=!0;var a=s(n(7)),o=s(n(3)),r=s(n(2)),i=s(n(18)),l=s(n(287));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u=2500,c={};function d(e){var t=e.channelId,n=e.draft;return n?c[t]={timestamp:Date.now(),draft:function(e){return e.length>u&&(e=e.substr(0,u)),e}(n)}:delete c[t],!1}function f(){if(!(l.default.totalUnavailableGuilds>0))for(var e in c)null==i.default.getChannel(e)&&delete c[e]}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(e){c=e||{},this.waitFor(i.default,l.default)},t.prototype.getState=function(){return c},t.prototype.getRecentlyEditedDrafts=function(){return(0,a.default)(c).toPairs().map(function(e){var t=e[0],n=e[1];return{channelId:t,timestamp:n.timestamp,draft:n.draft}}).sortBy(function(e){return-e.timestamp}).value()},t.prototype.getDraft=function(e){var t=c[e];return null==t?"":t.draft},t}(o.default.PersistedStore);p.persistKey="DraftStore",t.default=new p(r.default,{CONNECTION_OPEN:function(e){return f(),!1},GUILD_DELETE:function(e){return f(),!1},CHANNEL_DELETE:function(e){var t=e.channel.id;return null!=c[t]&&delete c[t],!1},DRAFT_SAVE:function(e){d(e)},DRAFT_CHANGE:d}),e.exports=t.default},6127:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0);t.default={saveDraft:function(e,t){r.default.dirtyDispatch({type:i.ActionTypes.DRAFT_SAVE,channelId:e,draft:t})},changeDraft:function(e,t){r.default.dirtyDispatch({type:i.ActionTypes.DRAFT_CHANGE,channelId:e,draft:t})}},e.exports=t.default},6144:function(e,t,n){"use strict";t.__esModule=!0;var a=l(n(571)),o=l(n(7)),r=l(n(231)),i=l(n(27));function l(e){return e&&e.__esModule?e:{default:e}}var s=new a.default({maxAge:6e4}),u=void 0;t.default={requestMembers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=(e||"")+":"+t;null==s.get(a)&&(s.set(a,!0),function(e,t,n){null!=u&&clearTimeout(u),u=setTimeout(function(){var a=[],l=function(e){a.push(e.id)};if(null==e)o.default.forEach(i.default.getGuilds(),l);else{var s=i.default.getGuild(e);null!=s&&l(s)}a.length>0&&r.default.requestMembers(a,t.toLocaleLowerCase(),n)},200)}(e,t,n))},getAcronym:function(e){return null!=e?e.replace(/\w+/g,function(e){return e[0]}).replace(/\s/g,""):""}},e.exports=t.default},6145:function(e,t,n){"use strict";t.__esModule=!0,t.ack=c,t.ackCategory=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=r.default.getChannel(e);if(null==a||null==a.guild_id)return;var o=i.default.getCategories(a.guild_id);if(null==o[e])return;o[e].filter(function(e){var t=e.channel;return t.type===s.ChannelTypes.GUILD_TEXT}).forEach(function(e){var a=e.channel;l.default.hasUnread(a.id)&&c(a.id,t,n)})},t.localAck=function(e){a.default.dispatch({type:s.ActionTypes.CHANNEL_LOCAL_ACK,channelId:e})},t.manualAck=function(e,t){o.default.post({url:s.Endpoints.MESSAGES(e)+"/"+t+"/ack",body:{manual:!0}})};var a=u(n(2)),o=u(n(13)),r=u(n(18)),i=u(n(940)),l=u(n(373)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];a.default.dispatch({type:s.ActionTypes.CHANNEL_ACK,channelId:e,immediate:t,force:n,context:s.CURRENT_APP_CONTEXT})}},6167:function(e,t,n){"use strict";t.__esModule=!0,t.MARK_CHANNEL_READ=void 0;var a=n(0),o=n(140),r=f(n(192)),i=f(n(65)),l=f(n(276)),s=n(6145),u=f(n(141)),c=f(n(373)),d=f(n(953));function f(e){return e&&e.__esModule?e:{default:e}}var p=t.MARK_CHANNEL_READ={binds:["esc","shift+pagedown"],global:!0,action:function(){if(o.ComponentDispatch.hasSubscribers(a.ComponentActions.CALL_DECLINE))return o.ComponentDispatch.dispatch(a.ComponentActions.CALL_DECLINE),!1;if(d.default.isOpen())return o.ComponentDispatch.dispatch(a.ComponentActions.CONTEXT_MENU_CLOSE),!1;if(o.ComponentDispatch.hasSubscribers(a.ComponentActions.POPOUT_CLOSE))return o.ComponentDispatch.dispatch(a.ComponentActions.POPOUT_CLOSE),!1;if(o.ComponentDispatch.hasSubscribers(a.ComponentActions.MODAL_CLOSE))return o.ComponentDispatch.dispatch(a.ComponentActions.MODAL_CLOSE),!1;var e=r.default.getGuildId(),t=i.default.getChannelId(e);t&&(l.default.getMessages(t).hasMoreAfter&&u.default.jumpToPresent(t,a.MAX_MESSAGES_PER_CHANNEL),c.default.hasUnread(t)&&(0,s.ack)(t),(0,s.localAck)(t));return o.ComponentDispatch.dispatch(a.ComponentActions.SCROLLTO_PRESENT),!1}};t.default={MARK_CHANNEL_READ:p}},6236:function(e,t,n){"use strict";t.__esModule=!0,t.JUMP_TO_GUILD=void 0;var a=n(0),o=s(n(382)),r=s(n(65)),i=s(n(192)),l=s(n(40));function s(e){return e&&e.__esModule?e:{default:e}}var u=t.JUMP_TO_GUILD={binds:function(){for(var e=[],t=1;t<10;t++)e.push("mod+"+t);return e}(),global:!0,action:function(e,t){var n=parseInt(t.split("+")[1],10);if(0===n&&(n=10),n){var s=void 0;if(s=1===n?a.ME:o.default.guildPositions[n-2]){var u=r.default.getChannelId(s);return s===a.ME&&null==i.default.getGuildId()&&(u=null),l.default.transitionTo(u?a.Routes.CHANNEL(s,u):a.Routes.GUILD(s)),!1}}}};t.default={JUMP_TO_GUILD:u}},6239:function(e,t,n){"use strict";t.__esModule=!0,t.SearchContext=void 0;var a=c(n(3)),o=c(n(2)),r=c(n(61)),i=c(n(18)),l=c(n(12)),s=n(0),u=c(n(97));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=null,p=10;function h(e){null!=f&&(e=e.filter(function(e){return null!=e}),f.postMessage({type:s.UserSearchWorkerMessageTypes.UPDATE_USERS,payload:e}))}function y(e){if(null==e||r.default.isBlocked(e.id))return null;var t={id:e.id,username:e.username+"#"+e.discriminator};return e.bot&&(t.isBot=!0),r.default.isFriend(e.id)&&(t.isFriend=!0),t}function m(e,t,n){null!=e&&(e[t]=n||null)}function v(e,t){var n=[];return e.forEach(function(e){var a=y(e.user);m(a,t,e.nick),n.push(a)}),n}function g(e){var t=e.guildId,n=e.user,a=e.nick,o=y(n);return null!=o&&(m(o,t,a),h([o])),!1}function E(e){var t=e.channel.id,n=_(i.default.getChannel(t));if(0===n.length)return!1;var a=y(l.default.getCurrentUser());return m(a,t),n.push(a),h(n),!1}function _(e){var t=[];if(null==e||e.type!==s.ChannelTypes.DM&&e.type!==s.ChannelTypes.GROUP_DM)return t;var n=e.recipients;return(void 0===n?[]:n).forEach(function(n){var a=y(l.default.getUser(n));null!=e&&m(a,e.id),t.push(a)}),t}var b=t.SearchContext=function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;d(this,e),this.handleMessages=function(e){var t=e.data;t&&t.type===s.UserSearchWorkerMessageTypes.USER_RESULTS&&t.uuid===n._uuid&&(!1!==n._currentQuery&&n._callback(t.payload),null!=n._currentQuery&&(n._currentQuery=null),n._setNextQuery())},this._uuid=u.default.v4(),this._callback=t,this._limit=a,this._currentQuery=null,this._nextQuery=null,this._subscribed=!1,this._subscribe()}return e.prototype._subscribe=function(){null==f||this._subscribed||(f.addEventListener("message",this.handleMessages,!1),this._subscribed=!0,this._setNextQuery())},e.prototype._unsubscribe=function(){null!=f&&this._subscribed&&(f.removeEventListener("message",this.handleMessages,!1),this._subscribed=!1)},e.prototype.destroy=function(){this._unsubscribe(),this.clearQuery()},e.prototype.clearQuery=function(){this._currentQuery=!1,this._nextQuery=null,null!=f&&this._subscribed&&f.postMessage({uuid:this._uuid,type:s.UserSearchWorkerMessageTypes.QUERY_CLEAR})},e.prototype.setQuery=function(e,t,n,a,o){null!=e&&(this._nextQuery={query:e,filters:t,blacklist:n,whitelist:a,boosters:o||{},limit:this._limit},this._setNextQuery())},e.prototype._setNextQuery=function(){!this._currentQuery&&this._nextQuery&&(null!=f&&this._subscribed?(this._currentQuery=this._nextQuery,this._nextQuery=null,f.postMessage({uuid:this._uuid,type:s.UserSearchWorkerMessageTypes.QUERY_SET,payload:this._currentQuery})):this._subscribed||this._subscribe())},e}(),S=function(e){function t(){return d(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(r.default,i.default,l.default)},t.prototype.getSearchContext=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return new b(e,t)},t}(a.default.Store);t.default=new S(o.default,{LOGOUT:function(e){null!=f&&(f.terminate(),f=null)},CONNECTION_OPEN:function(e){var t=e.user,a=e.guilds,o=e.channels,r=e.relationships;null!=f&&f.terminate(),f=new(n(6606));var l=y(t),u=[l];return a.forEach(function(e){u=u.concat(v(e.members,e.id))}),o.forEach(function(e){var t=e.id,n=i.default.getChannel(t);null==n||n.type!==s.ChannelTypes.DM&&n.type!==s.ChannelTypes.GROUP_DM||(m(l,n.id),u=u.concat(_(n)))}),r.forEach(function(e){var t=e.user;u.push(y(t))}),h(u),!1},OVERLAY_INITIALIZE:function(e){var t=e.users,a=e.guildMembers;null!=f&&f.terminate(),f=new(n(6606));var o=new Map,r=t,i=Array.isArray(r),l=0;for(r=i?r:r[Symbol.iterator]();;){var s;if(i){if(l>=r.length)break;s=r[l++]}else{if((l=r.next()).done)break;s=l.value}var u=s;o.set(u.id,y(u))}var c=Object.keys(a),d=Array.isArray(c),p=0;for(c=d?c:c[Symbol.iterator]();;){var v;if(d){if(p>=c.length)break;v=c[p++]}else{if((p=c.next()).done)break;v=p.value}var g=v,E=a[g];if(null!=E){var _=Object.keys(E),b=Array.isArray(_),S=0;for(_=b?_:_[Symbol.iterator]();;){var M;if(b){if(S>=_.length)break;M=_[S++]}else{if((S=_.next()).done)break;M=S.value}var C=M,A=o.get(C),T=E[C];null!=A&&null!=T&&null!=T.nick&&(m(A,g,T.nick),o.set(C,A))}}}return h(Array.from(o.values())),o.clear(),!1},CURRENT_USER_UPDATE:function(e){var t=y(e.user);return t&&h([t]),!1},GUILD_CREATE:function(e){var t=e.guild;return h(v(t.members,t.id)),!1},GUILD_MEMBERS_CHUNK:function(e){return h(v(e.members,e.guildId)),!1},GUILD_MEMBER_ADD:g,GUILD_MEMBER_UPDATE:g,RELATIONSHIP_ADD:function(e){return h([y(e.relationship.user)]),!1},CHANNEL_CREATE:E,CHANNEL_UPDATE:E,CHANNEL_RECIPIENT_ADD:function(e){var t=e.channelId,n=y(e.user);m(n,t),h([n])}})},6241:function(e,t,n){"use strict";t.__esModule=!0,t.TabBarSeparator=t.TabBarItem=t.TabBarHeader=t.TabBarTypes=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(9)),l=u(n(142)),s=u(n(80));function u(e){return e&&e.__esModule?e:{default:e}}n(5864);var c=t.TabBarTypes=(0,l.default)({SIDE:null,TOP:null,UNIQUE:null}),d=t.TabBarHeader=function(e){var t=e.className,n=e.onClick,a=e.children;return o(s.default,{className:(0,i.default)("tab-bar-header",t),onClick:n},void 0,a)};d.displayName="TabBarHeader";var f=t.TabBarItem=function(e){var t=e.className,n=e.onClick,a=e.children;return o(s.default,{className:(0,i.default)("tab-bar-item",t),onClick:n},void 0,a)};f.displayName="TabBarItem";var p=o("div",{className:"tab-bar-separator"});(t.TabBarSeparator=function(){return p}).displayName="TabBarSeparator";var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.selectedItem,n=e.onItemSelect,a=e.className,l=e.type,s=r.Children.map(this.props.children,function(e){if(null==e)return e;var a=void 0;if(e.type===d||e.type.displayName===d.name)a={key:"HEADER"};else if(e.type===f||e.type.displayName===f.name){var o=e.props,l=o.onClick,s=o.className;a={className:(0,i.default)(s,{selected:e.key===t}),onClick:function(){n&&n(e.key),l&&l.apply(void 0,arguments)}}}return r.cloneElement(e,a)});return o("div",{className:(0,i.default)("tab-bar",a,l)},void 0,s)},t}(r.Component);h.defaultProps={type:c.SIDE},h.displayName="TabBar",t.default=h},6242:function(e,t,n){"use strict";(function(a){t.__esModule=!0;var o,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),l=j(n(1)),s=x(n(3)),u=x(n(9)),c=x(n(7)),d=x(n(531)),f=x(n(92)),p=x(n(29)),h=x(n(80)),y=x(n(533)),m=x(n(270)),v=x(n(71)),g=x(n(165)),E=x(n(106)),_=x(n(935)),b=x(n(931)),S=x(n(59)),M=x(n(999)),C=x(n(62)),A=x(n(18)),T=x(n(276)),O=x(n(12)),N=x(n(30)),I=j(n(541)),P=n(34),w=x(n(240)),R=x(n(86)),L=x(n(82)),D=x(n(238)),k=n(0),U=x(n(5869));function x(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var V=function(e){function t(){return G(this,t),B(this,e.apply(this,arguments))}return F(t,e),t.prototype.render=function(){var e,t=this.props,n=t.emoji,a=t.count,o=t.selected,r=t.setSelected,l=null==n.id?w.default.getURL(n.name):R.default.getEmojiURL({id:n.id,animated:n.animated}),s=void 0;s=null==n.id?D.default.convertSurrogateToName(n.name):":"+n.name+":";var c=l?i("img",{className:U.default.emoji,src:l,alt:n.name}):i("span",{className:(0,u.default)(U.default.emoji,U.default.emojiText)},void 0,n.name);return i(E.default,{position:E.default.Positions.LEFT,text:s},void 0,i(h.default,{className:(0,u.default)((e={},e[U.default.reactionDefault]=!o,e[U.default.reactionSelected]=o,e)),onClick:r},void 0,c,i(v.default,{color:v.default.Colors.PRIMARY,className:U.default.count},void 0,a)))},t}(l.PureComponent);V.displayName="Reaction";var H=function(e){function t(n){G(this,t);var a=B(this,e.call(this,n));return a.renderUserContextMenu=a.renderUserContextMenu.bind(a),a.removeReaction=a.removeReaction.bind(a),a}return F(t,e),t.prototype.removeReaction=function(){var e=this.props,t=e.emoji,n=e.user,a=e.message,o=e.channel;I.removeReaction(o.id,a.id,t,n.id)},t.prototype.renderUserContextMenu=function(e){var t=this;(0,P.openContextMenu)(e,function(e){return l.createElement(b.default,r({},e,{type:k.ContextMenuTypes.USER_CHANNEL_MEMBERS,user:t.props.user,guildId:t.props.guildId,channelId:t.props.channel.id}))})},t.prototype.render=function(){var e,t=this.props,n=t.user,a=t.guildId,o=t.channel,r=t.final,l=L.default.can(k.Permissions.MANAGE_MESSAGES,O.default.getCurrentUser(),o)?i(h.default,{onClick:this.removeReaction},void 0,i(S.default,{name:S.default.Names.CLOSE,width:16,height:16,className:U.default.remove})):null,s=null!=a&&C.default.getNick(a,n.id);return i(p.default,{className:(0,u.default)((e={},e[U.default.reactorDefault]=!r,e[U.default.reactorFinal]=r,e)),onContextMenu:this.renderUserContextMenu,align:p.default.Align.CENTER},void 0,i(p.default.Child,{wrap:!0,grow:0,shrink:0,className:"margin-reset"},void 0,i(_.default,{user:n,size:"xsmall"})),i(p.default.Child,{},void 0,i(v.default,{color:v.default.Colors.PRIMARY,className:U.default.name},void 0,s&&i("span",{className:U.default.nickname},void 0,s),i(d.default,{user:n,className:s?U.default.tagFaded:U.default.tag,discriminatorClass:U.default.discriminator}))),l)},t}(l.PureComponent);H.displayName="Reactor";var K=s.default.connectStores([M.default],function(e){var t=e.message,n=e.reaction,a=M.default.getReactions(t.getChannelId(),t.id,n.emoji);return{hasMore:n.count>Object.keys(a).length,reactors:Object.values(a)}})(function(e){function t(n){G(this,t);var a=B(this,e.call(this,n));return a.handleScroll=a.handleScroll.bind(a),a.state={lastId:null,loadingMore:!1},a}return F(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.loadMore()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this;c.default.isEqual(this.props.reaction,e.reaction)||this.setState({lastId:null,loadingMore:!1},function(){return t.loadMore()})},t.prototype.handleScroll=function(){var e=this.refs.SCROLLER_REF.getScrollerNode();e.scrollTop+e.offsetHeight>=e.scrollHeight-44&&this.props.hasMore&&!this.state.loadingMore&&this.loadMore()},t.prototype.loadMore=function(){var e=this,t=this.props,n=t.message,a=t.reaction,o=this.state.lastId;this.setState({loadingMore:!0}),I.getReactions(n.getChannelId(),n.id,a.emoji,o).then(function(t){return e.setState({loadingMore:!1,lastId:t[t.length-1].id})})},t.prototype.render=function(){var e=this.props,t=e.message,n=e.guildId,a=e.channel,o=e.reaction,r=e.hasMore,s=e.reactors,u=s.map(function(e,r){return i(H,{message:t,emoji:o.emoji,guildId:n,channel:a,user:e,final:r===s.length-1},e.id)});return!u.length&&this.state.loadingMore?u.push(i(g.default,{className:U.default.spinner},"loadingMore")):r&&u.push(i(g.default,{className:U.default.spinnerMore},"hasMore")),l.createElement(y.default,{outerClassName:U.default.reactors,className:"scroller",fade:!0,theme:y.default.Themes.GHOST_HAIRLINE,ref:"SCROLLER_REF",onScroll:r?this.handleScroll:void 0,elementHeight:44,batchEndMultiplier:2},u)},t}(l.PureComponent)),z=i(g.default,{}),Y=function(e){function t(n){G(this,t);var a=B(this,e.call(this,n)),o=a.props.reactions;return a.state={selectedReaction:o[0]},a}return F(t,e),t.prototype.UNSAFE_componentWillUpdate=function(e){var t=this.props,n=t.reactions,o=t.onClose;n.length!==e.reactions.length&&0===e.reactions.length&&a(o)},t.prototype.setSelectedReaction=function(e){this.setState({selectedReaction:e})},t.prototype.render=function(){var e=this,t=this.props,n=t.message,a=t.reactions,o=this.state.selectedReaction;if(!o)return z;var s=A.default.getChannel(n.getChannelId());if(null==s)throw new Error("MessageReactions.render: Message does not have a channelId");var u=null==s||s.isPrivate()?null:s.getGuildId(),d=a.map(function(e,t){return r({},e,{pos:t})}).sort(function(e,t){return e.count!==t.count?t.count-e.count:e.pos-t.pos}).map(function(t){return l.createElement(V,r({key:(t.emoji.id||"")+":"+t.emoji.name,selected:c.default.isEqual(o.emoji,t.emoji),setSelected:function(){return e.setSelectedReaction(t)}},t))});return i(f.default,{size:U.default.size,className:U.default.container},void 0,i(m.default,{outerClassName:U.default.sidebar,className:U.default.scroller,theme:m.default.Themes.GHOST_HAIRLINE,fade:!0},void 0,d),i(K,{message:n,reaction:o,guildId:u,channel:s},(o.emoji.id||"")+":"+o.emoji.name))},t}(l.PureComponent);Y.displayName="MessageReactions",t.default=s.default.connectStores([T.default,N.default],function(e){var t=e.message,n=T.default.getMessage(t.getChannelId(),t.id),a=null!=n?n.reactions:[];return{theme:N.default.theme,reactions:a}})(Y),e.exports=t.default}).call(this,n(36).setImmediate)},6243:function(e,t,n){"use strict";t.__esModule=!0,t.OperatingSystemSection=void 0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=h;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var i=f(n(9)),l=f(n(59)),s=f(n(106)),u=f(n(6)),c=n(0),d=f(n(5874));function f(e){return e&&e.__esModule?e:{default:e}}var p=((o={})[c.OperatingSystems.WINDOWS]={iconName:l.default.Names.OS_WINDOWS,label:u.default.Messages.WINDOWS},o[c.OperatingSystems.MACOS]={iconName:l.default.Names.OS_MAC,label:u.default.Messages.MACOS},o[c.OperatingSystems.LINUX]={iconName:l.default.Names.OS_LINUX,label:u.default.Messages.LINUX},o);function h(e){var t=e.operatingSystem,n=e.className,a=p[t];if(null==a)throw new Error("Unexpected operating system: "+t);return r(s.default,{text:a.label,className:n},void 0,r(l.default,{name:a.iconName}))}h.displayName="OperatingSystemIcon",(t.OperatingSystemSection=function(e){var t=e.systems,n=e.className,a=e.iconClassName;return r("div",{className:(0,i.default)(d.default.OSSection,n)},void 0,t.map(function(e){return r(h,{operatingSystem:e,className:(0,i.default)(d.default.purchaseUnitOperatingSystem,a)},e)}))}).displayName="OperatingSystemSection"},6244:function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=i(n(3)),r=i(n(2));n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={matureAgree:!1,muted:!0};var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"didMatureAgree",get:function(){return l.matureAgree}},{key:"isDirectoryMuted",get:function(){return l.muted}}]),t}(o.default.Store);t.default=new s(r.default,{APPLICATION_STORE_MATURE_AGREE:function(e){l.matureAgree=!0},APPLICATION_STORE_DIRECTORY_MUTE:function(e){l.muted=!0},APPLICATION_STORE_DIRECTORY_UNMUTE:function(e){l.muted=!1}}),e.exports=t.default},6247:function(e,t,n){"use strict";t.__esModule=!0,t.Controls=void 0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=_(n(7)),s=_(n(9)),u=_(n(161)),c=_(n(59)),d=_(n(80)),f=_(n(554)),p=_(n(163)),h=_(n(7480)),y=n(6124),m=n(0),v=_(n(933)),g=_(n(5880)),E=n(521);function _(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var C={friction:14,tension:200},A={VIDEO:"VIDEO",AUDIO:"AUDIO"},T={width:"100%",height:"100%",backgroundColor:"black"};function O(e){var t=(e|=0)%60;return(e-t)/60+":"+String(t).padStart(2,"0")}var N=function(e){var t=e.current,n=e.duration,a=null!=t?O(t):"-:--",o=null!=n?O(n):"-:--";return a=a.padStart(o.length,"0"),r("div",{className:g.default.durationTimeWrapper},void 0,r("span",{className:g.default.durationTimeDisplay},void 0,a),r("span",{className:g.default.durationTimeSeparator},void 0,"/"),r("span",{className:g.default.durationTimeDisplay},void 0,o))};N.displayName="DurationTime";var I=t.Controls=function(e){function t(){var n,a;b(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=S(this,e.call.apply(e,[this].concat(r))),a.state={translateY:new u.default.Value(0),iconHover:!1,barHover:!1},a.setDurationRef=function(e){a.durationBar=e},a.setVolumeRef=function(e){a.volumeBar=e},S(a,n)}return M(t,e),t.prototype.componentDidMount=function(){this.state.translateY.setValue(this.props.autoPlay?1:0)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.hide,a=t.playing;n&&!e.hide?this.animateControls(1,a):!n&&e.hide&&this.animateControls(0,a)},t.prototype.updateProgress=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.durationBar;null!=n&&n.setGrabber(e,t)},t.prototype.animateControls=function(e,t){var n=this.state.translateY;t?u.default.spring(n,o({toValue:e},C)).start():n.setValue(e)},t.prototype.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}]}},t.prototype.renderPlayIcon=function(){var e=this.props,t=e.playing,n=e.currentTime,a=e.duration,o=e.onPause,i=e.onPlay;return t?r(d.default,{onClick:o},void 0,r(c.default,{name:c.default.Names.PAUSE,className:g.default.controlIcon},"pause")):r(d.default,{onClick:i},void 0,null!=n&&n===a?r(c.default,{name:c.default.Names.REPLAY,className:g.default.controlIcon},"replay"):r(c.default,{name:c.default.Names.PLAY,className:g.default.controlIcon},"play"))},t.prototype.render=function(){var e=this,t=this.props,n=t.buffers,a=t.children,o=t.currentTime,l=t.duration,f=t.muted,p=t.onDrag,y=t.onDragEnd,m=t.onDragStart,_=t.onToggleMuted,b=t.width,S=t.volume,M=t.dragging,C=t.hide,T=t.type,O=this.state,I=O.barHover,P=O.iconHover,w=C||!I&&!P&&M!==h.default.Types.VOLUME,R="string"==typeof b||b>250,L=r(N,{current:o,duration:l});return r(E.BackgroundOpacityContext.Consumer,{},void 0,function(t){var o;return r(u.default.div,{className:(0,s.default)(T===A.VIDEO?g.default.videoControls:g.default.audioControls,g.default[t.backgroundOpacity+"BackgroundOpacity"]),onClick:function(e){return e.stopPropagation()},onDoubleClick:function(e){return e.stopPropagation()},style:e.getAnimatedStyle()},void 0,e.renderPlayIcon(),R?L:null,i.createElement(h.default,{buffers:n,value:l||0,onDrag:p,onDragEnd:y,onDragStart:m,type:h.default.Types.DURATION,ref:e.setDurationRef}),r("div",{className:v.default.flex,onMouseEnter:function(){clearTimeout(e._timeout),e.setState({barHover:!1,iconHover:!0})},onMouseLeave:function(){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.setState({iconHover:!1})},500)}},void 0,r(d.default,{onClick:_},void 0,r(c.default,{name:f?c.default.Names.SPEAKER_OFF:c.default.Names.SPEAKER,className:(0,s.default)(g.default.controlIcon,w?void 0:g.default.opaque)}))),r("div",{className:(0,s.default)(T===A.VIDEO?g.default.videoVolumeWrapper:g.default.audioVolumeWrapper,(o={},o[g.default.hidden]=w,o)),onMouseEnter:function(){clearTimeout(e._timeout),e.setState({barHover:!0,iconHover:!1})},onMouseLeave:function(){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.setState({barHover:!1})},500)}},void 0,i.createElement(h.default,{value:S,onDrag:p,onDragEnd:y,onDragStart:m,type:h.default.Types.VOLUME,ref:e.setVolumeRef})),a)})},t}(i.Component);I.displayName="Controls";var P=function(e){function t(){var n,a;b(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=S(this,e.call.apply(e,[this].concat(r))),a.state={translateY:new u.default.Value(0)},S(a,n)}return M(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.hide;t&&!e.hide?this.animateControls(1):!t&&e.hide&&this.animateControls(0)},t.prototype.animateControls=function(e){u.default.spring(this.state.translateY,o({toValue:e},C)).start()},t.prototype.getAnimatedStyle=function(){return{transform:[{translateY:this.state.translateY.interpolate({inputRange:[0,1],outputRange:["0%","-100%"]})}]}},t.prototype.renderVideoMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,a=e.src;return r(u.default.div,{className:g.default.metadata,style:this.getAnimatedStyle()},void 0,r("div",{className:g.default.metadataContent},void 0,r("div",{className:g.default.metadataName},void 0,t),r("div",{className:g.default.metadataSize},void 0,n)),r(p.default,{href:a,target:"_blank",rel:"noreferrer noopener",className:g.default.metadataDownload},void 0,r(c.default,{name:c.default.Names.DOWNLOAD,className:g.default.metadataIcon})))},t.prototype.renderAudioMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,a=e.src;return r(E.BackgroundOpacityContext.Consumer,{},void 0,function(e){return r("div",{className:(0,s.default)(g.default.audioMetadata,g.default[e.backgroundOpacity+"BackgroundOpacity"])},void 0,r("div",{className:g.default.metadataContent},void 0,r(p.default,{className:g.default.metadataName,href:a},void 0,t),r("div",{className:g.default.metadataSize},void 0,n)),r(p.default,{href:a,className:g.default.metadataDownload},void 0,r(c.default,{name:c.default.Names.DOWNLOAD,className:g.default.metadataIcon})))})},t.prototype.render=function(){return this.props.type===A.AUDIO?this.renderAudioMetadata():this.renderVideoMetadata()},t}(i.Component);P.displayName="Metadata";var w=function(e){function t(){var n,a;b(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=S(this,e.call.apply(e,[this].concat(i))),a.state={play:!1,scale:new u.default.Value(0),opacity:new u.default.Value(0)},a.popAnimation=function(){var e=a.state,t=e.opacity,n=e.scale;n.setValue(0),t.setValue(0),u.default.parallel([u.default.sequence([u.default.timing(t,{toValue:1,duration:200}),u.default.timing(t,{toValue:0,duration:200})]),u.default.spring(n,o({toValue:1.5},C,{friction:80}))]).start()},S(a,n)}return M(t,e),t.prototype.pop=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({play:e},this.popAnimation)},t.prototype.getAnimatedStyle=function(){var e=this.state,t=e.opacity,n=e.scale;return u.default.accelerate({opacity:t.interpolate({inputRange:[0,1],outputRange:[0,.8]}),transform:[{scale:n.interpolate({inputRange:[0,1],outputRange:[1,2]})}]})},t.prototype.render=function(){var e=this.state.play;return r(u.default.div,{className:g.default.playPausePop,style:this.getAnimatedStyle()},void 0,r(c.default,{name:e?c.default.Names.PLAY:c.default.Names.PAUSE,className:g.default.playPausePopIcon}))},t}(i.Component);w.displayName="PlayPausePop";var R=function(e){function t(n){b(this,t);var a=S(this,e.call(this,n));L.call(a);var o=a.props,r=o.autoPlay,i=o.autoMute;return a.state={buffers:[],currentTime:null,dragging:null,duration:null,fullscreen:!1,hasClickedPlay:!1,hasLoadedMetadata:!1,hideControls:!1,muted:i,volume:1,playing:r,preload:"none",width:t.minWidth},a}return M(t,e),t.getDerivedStateFromProps=function(e,t){return!e.playable&&t.playing?{playing:!1,hideControls:!1}:null},t.prototype.componentDidMount=function(){var e=this.elementRef,t=this.state,n=t.playing,a=t.muted,o=this.props.onPlay;null!=e&&(a&&(e.muted=a),n&&(e.play(),this.handleUIUpdate(),o&&o()))},t.prototype.componentDidUpdate=function(e,t){var n=this.props,a=n.onPlay,o=n.onPause,r=this.state,i=r.playing,l=r.fullscreen,s=r.muted,u=r.dragging,c=r.volume,d=this.elementRef,f=this.controlsRef,p=this.playPausePopRef;if(null!=d){i&&!t.playing?(d.play(),this.handleMouseMove(),this.handleUIUpdate(),t.hasClickedPlay&&p&&p.pop(i),a&&a()):!i&&t.playing&&(d.pause(),p&&p.pop(i),o&&o());var m=(0,y.getFullScreenNode)(d.parentNode,d);l&&!t.fullscreen&&null!=m?((0,y.requestFullScreen)(m),m.addEventListener(y.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit)):!l&&t.fullscreen&&null!=m&&(m.removeEventListener(y.FULLSCREEN_CHANGE_EVENT,this.handleFullScreenExit),(0,y.exitFullScreen)(m)),u===h.default.Types.DURATION&&t.dragging!==h.default.Types.DURATION&&i?d.pause():u!==h.default.Types.DURATION&&t.dragging===h.default.Types.DURATION&&i&&d.play(),s!==t.muted&&(d.muted=s,null!=f&&null!=f.volumeBar&&(s?f.volumeBar.setGrabber(0):f.volumeBar.setGrabber(c))),null!=f&&null!=f.volumeBar&&c!==t.volume&&(d.volume=c,f.volumeBar.setGrabber(c)),null!=f&&null!=f.volumeBar&&!s&&c>0&&f.volumeBar.setGrabber(c)}},t.prototype.componentWillUnmount=function(){this._unmounted=!0},t.prototype.getWidth=function(){var e=this.props.width;return"100%"===e?e:Math.max(e,t.minWidth)},t.prototype.updateValue=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.controlsRef;null!=n&&n.updateProgress(e,t)},t.prototype.updateTime=function(e,t){e|=0,t|=0,this.state.currentTime===e&&this.state.duration===t||this.setState({currentTime:e,duration:t})},t.prototype.updateControlsVisibility=function(){var e=this.state,t=e.dragging,n=e.fullscreen?1e3:3e3,a=Math.max(0,Date.now()-this._lastMove)>n;a!==this.state.hideControls&&null==t&&this.setState({hideControls:a})},t.prototype.renderVideo=function(){var e=this,t=this.props,n=t.height,a=t.src,o=t.poster,l=t.forceExternal,s=t.onError,u=this.state.playing,c=this.getWidth();return l?r("video",{className:g.default.video,controls:!1,height:n,poster:o,width:c,playsInline:!0,autoPlay:u}):i.createElement("video",{className:g.default.video,controls:!1,playsInline:!0,autoPlay:u,height:n,onClick:this.handleVideoClick,onEnded:this.handleEnded,onError:s,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,poster:o,preload:this.state.preload,ref:function(t){return e.elementRef=t},width:c},r("source",{src:a}))},t.prototype.renderAudio=function(){var e=this;return i.createElement("audio",{className:g.default.audio,controls:!1,onClick:this.handleVideoClick,onEnded:this.handleEnded,onLoadedMetadata:this.handleLoaded,onProgress:this.handleBuffer,preload:this.state.preload,ref:function(t){return e.elementRef=t}},r("source",{src:this.props.src}))},t.prototype.renderControls=function(){var e=this,t=this.props,n=t.type,a=t.autoPlay,o=this.state,l=o.buffers,s=o.currentTime,u=o.duration,p=o.hasClickedPlay,h=o.hideControls,y=o.muted,m=o.playing,v=o.fullscreen,_=o.volume,b=o.dragging,S=this.getWidth();return p||a||n===A.AUDIO?i.createElement(I,{buffers:l,currentTime:s,duration:u,volume:_,hide:n===A.VIDEO&&h,muted:y,autoPlay:a,onDrag:this.handleDrag,onDragEnd:this.handleDragEnd,onDragStart:this.handleDragStart,onDurationChange:this.handleDurationChange,onPause:function(){return e.setPlay(!1)},onPlay:function(){return e.setPlay(!0)},onToggleMuted:this.toggleMuted,playing:m,dragging:b,type:n,ref:this.setControlRef,width:v?window.screen.width:S},n===A.VIDEO?r(d.default,{onClick:this.toggleFullscreen},void 0,r(c.default,{className:g.default.controlIcon,name:c.default.Names.FULL_SCREEN,style:{marginLeft:0}})):null):r("div",{className:g.default.playCenter},void 0,r(E.BackgroundOpacityContext.Consumer,{},void 0,function(t){return r(f.default,{className:g.default.playButton,onPlay:e.handleVideoClick,backgroundOpacity:t.backgroundOpacity})}))},t.prototype.renderMetadata=function(){var e=this.props,t=e.fileName,n=e.fileSize,a=e.src,o=e.type,i=this.state.hideControls;return null==t||null==n?null:r(P,{fileName:t,fileSize:n,src:a,hide:o===A.VIDEO&&i,type:o})},t.prototype.renderPlayPausePop=function(){return i.createElement(w,{ref:this.setPlayPausePopRef})},t.prototype.render=function(){var e=this,t=this.props,n=t.height,a=t.type,o=t.src,i=t.forceExternal,l=t.className,u=this.getWidth(),c=this.state,d=c.fullscreen,p=c.hideControls,h=c.playing,y=c.preload,m=g.default.wrapperPaused;return a===A.AUDIO?m=g.default.wrapperAudio:p?m=g.default.wrapperControlsHidden:h&&(m=g.default.wrapperPlaying),i&&a===A.VIDEO?r(E.BackgroundOpacityContext.Consumer,{},void 0,function(t){return r("div",{className:m,style:{width:u,height:n}},void 0,e.renderMetadata(),e.renderVideo(),r("div",{className:g.default.playCenter},void 0,r(f.default,{className:g.default.playButton,externalURL:o,backgroundOpacity:t.backgroundOpacity})))}):r("div",{className:(0,s.default)(m,l),"data-fullscreen":d,onMouseEnter:"none"===y?this.handlePreload:null,onMouseLeave:h?this.handleMouseLeave:null,onMouseMove:h?this.handleMouseMove:null,onKeyDown:this.handleKeyDown,tabIndex:0,style:d?T:{width:u,height:a===A.AUDIO?"auto":n}},void 0,this.renderMetadata(),a===A.AUDIO?this.renderAudio():this.renderVideo(),this.renderControls(),a===A.VIDEO?this.renderPlayPausePop():null)},t}(i.PureComponent);R.Types=A,R.defaultProps={width:498,height:80,forceExternal:!1,playable:!0,autoPlay:!1,autoMute:!1},R.minWidth=150;var L=function(){var e=this;this._unmounted=!1,this._lastMove=0,this.handleFullScreenExit=function(){var t=(0,y.getFullScreenNode)(e.elementRef&&e.elementRef.parentNode,e.elementRef);null!=t&&(0,y.isFullScreen)(t)||e.setState({fullscreen:!1})},this.toggleFullscreen=function(){var t=!e.state.fullscreen;e.setState({fullscreen:t})},this.setMuted=function(t){e.setState({muted:t})},this.toggleMuted=function(){e.setMuted(!e.state.muted)},this.setTime=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.elementRef;null!=a&&isFinite(a.duration)&&isFinite(a.currentTime)&&(a.currentTime=t,e.updateValue(t/a.duration,n),e.updateTime(t,a.duration))},this.handleUIUpdate=function(){if(e.state.playing&&!e._unmounted){var t=e.elementRef;null!=t&&(t.duration>0&&e.updateValue(t.currentTime/t.duration),e.updateTime(t.currentTime,t.duration),e.updateControlsVisibility(),requestAnimationFrame(e.handleUIUpdate))}},this.handleDrag=function(t,n){var a=e.elementRef;n===h.default.Types.DURATION?null!=a&&isFinite(a.duration)&&e.setTime(a.duration*t,!1):n===h.default.Types.VOLUME&&(0===t?e.setState({muted:!0,volume:t}):e.state.muted&&t>0?e.setState({muted:!1,volume:t}):e.setState({volume:t}))},this.handleLoaded=function(){var t=e.elementRef;null!=t&&(e.updateTime(t.currentTime,t.duration),e.setState({hasLoadedMetadata:!0,currentTime:t.currentTime,duration:t.duration}))},this.handleDurationChange=function(){var t=e.elementRef;null!=t&&(e.updateTime(t.currentTime,t.duration),e.setState({duration:t.duration}))},this.handleBuffer=l.default.debounce(function(){var t=e.elementRef,n=[];if(t)for(var a=t.duration,o=0;o<t.buffered.length;o++){var r=t.buffered.start(o),i=t.buffered.end(o);if(!(i-r<1)){var l=(i-r)/a,s=r/a;n.push([s,l])}}e.setState({buffers:n})},400),this.handleEnded=function(){var t=e.props.onEnd;e.setState({playing:!1,hideControls:!1}),null!=t&&t()},this.handleMouseMove=function(){e._lastMove=Date.now()},this.handleMouseLeave=function(){e._lastMove=0},this.handlePreload=function(){e.setState({preload:"metadata"})},this.setControlRef=function(t){e.controlsRef=t},this.setPlayPausePopRef=function(t){e.playPausePopRef=t},this.handleVideoClick=function(){var t=e.state,n=t.hasClickedPlay,a=t.playing,o=e.props,r=o.autoPlay,i=o.autoMute;r&&!n&&a&&i?e.setState({muted:!1,hasClickedPlay:!0}):e.setPlay(!e.state.playing)},this.setPlay=function(t){var n=e.props.autoMute,a=e.state,o=a.hasClickedPlay,r=a.muted;t!==e.state.playing&&(t?e.setState({playing:t,hasClickedPlay:!0,muted:!(!o&&n)&&r}):e.setState({playing:!1,hideControls:!1}))},this.handleDragStart=function(t){e.setState({dragging:t})},this.handleDragEnd=function(){e.setState({dragging:null}),e._lastMove=Date.now()},this.handleKeyDown=function(t){var n=e.elementRef;if(t.which===m.KeyboardKeys.SPACE)t.preventDefault(),e.setPlay(!e.state.playing);else if(t.which>=m.KeyboardKeys.DIGIT_0&&t.which<=m.KeyboardKeys.DIGIT_9&&null!=n){t.preventDefault();var a=(t.which-m.KeyboardKeys.DIGIT_0)/10;n.currentTime=n.duration*a,e.setPlay(!0)}}};R.displayName="MediaPlayer",t.default=R},6248:function(e,t,n){"use strict";t.__esModule=!0;var a={};a=n(6623),t.default=a,e.exports=t.default},6249:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(2),r=(a=o)&&a.__esModule?a:{default:a},i=n(0);t.default={popFirstFile:function(){r.default.dispatch({type:i.ActionTypes.UPLOAD_MODAL_POP_FILE})},pushFiles:function(e){var t=e.files,n=e.channelId;r.default.dispatch({type:i.ActionTypes.UPLOAD_MODAL_PUSH_FILES,files:t,channelId:n})},clearAll:function(){r.default.dispatch({type:i.ActionTypes.UPLOAD_MODAL_CLEAR_ALL_FILES})}},e.exports=t.default},6286:function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=l(n(3)),r=l(n(2)),i=(n(0),n(6720));function l(e){return e&&e.__esModule?e:{default:e}}var s={};var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.hasApplicationStatistic=function(e){return null!=s[e]},t.prototype.getCurrentUserStatisticsForApplication=function(e){return s[e]},t.prototype.getQuickSwitcherScoreForApplication=function(e){var t=s[e],n=0;if(null!=t){var a=Date.now(),o=new Date(t.last_played_at).getTime(),r=Math.floor((a-o)/864e5),i=Math.floor(1e3*t.total_duration/36e5);0===r?n+=50:r>=1&&r<2?n+=40:r>=2&&r<4?n+=30:r>=4&&r<7?n+=20:r>=7&&(n+=10),0===i?n+=0:i>=1&&i<12?n+=10:i>=12&&i<168?n+=20:i>=168&&i<720?n+=40:i>=720&&(n+=50)}return n},a(t,[{key:"applicationStatistics",get:function(){return s}}]),t}(o.default.Store);t.default=new u(r.default,{CONNECTION_OPEN:function(e){return(0,i.fetchActivityStatistics)(),!1},USER_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){e.statistics.forEach(function(e){s[e.application_id]=e})},ACTIVITY_UPDATE_START:function(e){var t=e.duration,n=e.applicationId,a=e.isDiscordApplication,o=s[n],r=(new Date).toISOString(),i=0,l=0;null!=o&&(i=o.total_duration,l=o.total_discord_sku_duration||0),i+=t,a&&(l+=t),s[n]={application_id:n,total_duration:i,last_played_at:r,total_discord_sku_duration:l}},LOGOUT:function(e){s={}}}),e.exports=t.default},6287:function(e,t,n){"use strict";t.__esModule=!0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=u(n(3)),r=u(n(24)),i=u(n(7)),l=u(n(2)),s=n(0);function u(e){return e&&e.__esModule?e:{default:e}}var c="GameLibraryViewStore",d=s.TableSortDirections.ASCENDING,f=s.GameTableListKeys.LAST_PLAYED,p=void 0,h=!1,y=i.default.debounce(function(){h=!1,m.emitChange()},200);var m=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){var e=r.default.get(c)||{};null!=e.sortDirection&&null!=e.sortKey&&(d=e.sortDirection,f=e.sortKey)},a(t,[{key:"sortDirection",get:function(){return d}},{key:"sortKey",get:function(){return f}},{key:"activeRowKey",get:function(){return p}},{key:"isNavigatingByKeyboard",get:function(){return h}}]),t}(o.default.Store))(l.default,{LIBRARY_TABLE_SORT_UPDATE:function(e){var t=e.direction,n=e.key;d=t,f=n,r.default.set(c,{sortDirection:d,sortKey:f})},LIBRARY_TABLE_ACTIVE_ROW_ID_UPDATE:function(e){var t=e.key;e.isKeyboardEvent&&(h=!0,y()),p=t}});t.default=m,e.exports=t.default},6290:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=u(n(6)),l=u(n(35)),s=n(34);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=c(this,e.call.apply(e,[this].concat(r))),a.handleSearchWithGoogle=function(){(0,s.closeContextMenu)(),window.open("https://www.google.com/search?q="+encodeURIComponent(a.props.value||""),"_blank")},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.value;return null==e||0===e.length?null:o(l.default,{label:i.default.Messages.SEARCH_WITH_GOOGLE,action:this.handleSearchWithGoogle})},t}(r.PureComponent);d.defaultProps={value:""},d.displayName="SearchWithGoogle",t.default=d,e.exports=t.default},6291:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(11)),s=d(n(195)),u=d(n(35)),c=n(34);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=f(this,e.call.apply(e,[this].concat(r))),a.handleCopyLink=function(){(0,c.closeContextMenu)(),l.default.copy(a.props.href||a.props.src)},a.handleOpenLink=function(){(0,c.closeContextMenu)(),window.open(a.props.href||a.props.src)},f(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return l.default.embedded&&(this.props.href||this.props.src)?o(s.default,{},void 0,o(u.default,{label:i.default.Messages.COPY_LINK,action:this.handleCopyLink}),o(u.default,{label:i.default.Messages.OPEN_LINK,action:this.handleOpenLink})):null},t}(r.PureComponent);p.displayName="NativeLinkGroup",t.default=p,e.exports=t.default},6292:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(6)),l=c(n(11)),s=c(n(35)),u=n(34);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=d(this,e.call.apply(e,[this].concat(r))),a.handleCopyItem=function(){(0,u.closeContextMenu)(),l.default.copy(a.props.value),a.props.target&&a.props.target.focus()},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.useSelection,n=e.value;return!l.default.embedded||t&&(null==n||0===n.length)?null:o(s.default,{label:i.default.Messages.COPY,hint:l.default.isOSX()?"âŒ˜C":"Ctrl+C",action:this.handleCopyItem})},t}(r.PureComponent);f.defaultProps={value:"",useSelection:!1},f.displayName="NativeCopyItem",t.default=f,e.exports=t.default},6379:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(9)),l=p(n(29)),s=n(43),u=p(s),c=n(0),d=p(n(5722)),f=n(521);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.description,a=e.agreement,r=e.disagreement,c=e.onAgree,p=e.onDisagree;return o(f.BackgroundOpacityContext.Consumer,{},void 0,function(e){var f=e.backgroundOpacity;return o(l.default,{className:(0,i.default)(d.default.gatedContent,d.default[f+"BackgroundOpacity"]),justify:l.default.Justify.CENTER,align:l.default.Align.CENTER,direction:l.default.Direction.VERTICAL},void 0,o("div",{className:(0,i.default)(d.default.image,"margin-bottom-20")}),o("div",{className:(0,i.default)(d.default.title,"margin-bottom-8")},void 0,t),o("div",{className:(0,i.default)(d.default.description,"margin-bottom-20")},void 0,n),o("div",{className:(0,i.default)(d.default.separator,"margin-bottom-40")}),o(l.default,{justify:l.default.Justify.CENTER,align:l.default.Align.CENTER,grow:0},void 0,o(u.default,{className:d.default.action,size:s.ButtonSizes.LARGE,look:s.ButtonLooks.OUTLINED,color:s.ButtonColors.PRIMARY,onClick:p},void 0,r),o(u.default,{className:d.default.action,color:d.default.actionRed,size:s.ButtonSizes.LARGE,onClick:c},void 0,a)))})},t}(r.PureComponent);h.defaultProps={onAgree:c.NOOP,onDisagree:c.NOOP},h.displayName="GatedContent",t.default=h,e.exports=t.default},6606:function(e,t,n){e.exports=function(){return new Worker(n.p+"3b33246f471d03673055.worker.js")}},6610:function(e,t,n){"use strict";t.__esModule=!0;var a=h(n(3)),o=h(n(7)),r=h(n(2)),i=(n(0),h(n(18))),l=h(n(12)),s=h(n(27)),u=h(n(30)),c=h(n(62)),d=h(n(283)),f=h(n(276)),p=h(n(61));function h(e){return e&&e.__esModule?e:{default:e}}var y={};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=i.default.getChannel(e),r=null!=o?o.getGuildId():null;return{id:e,messages:t.map(function(e){return d.default.create(e)}),guildId:r,loaded:n,loading:a}}function v(){o.default.forEach(y,function(e){o.default.forEach(e.messages,function(e){e.timestamp.locale(u.default.locale)})})}function g(){o.default.forEach(y,function(e){e.messages=e.messages.map(function(e){return e.set("blocked",p.default.isBlocked(e.author.id))})})}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(i.default,s.default,c.default,f.default,l.default,u.default)},t.prototype.getPinnedMessages=function(e){return y[e]&&y[e]||null},t.prototype.loaded=function(e){return y[e]&&y[e].loaded},t}(a.default.Store);t.default=new E(r.default,{CONNECTION_OPEN:function(e){y={}},GUILD_DELETE:function(e){var t=e.guild;y=(0,o.default)(y).filter(function(e){return e.guildId!==t.id}).keyBy("id").value()},MESSAGE_UPDATE:function(e){var t=e.message.id,n=e.message.channel_id,a=y[n];if(null!=e.message.author)if(e.message.pinned){if(!a)return a=m(n,[e.message],!1),void(y[n]=a);a.messages=a.messages.slice();var r=o.default.findIndex(a.messages,function(e){return e.id===t});-1===r?a.messages.unshift(d.default.create(e.message)):a.messages[r]=a.messages[r].updateMessage(e.message),y[n]=a}else{if(!a)return;var i=o.default.findIndex(a.messages,function(e){return e.id===t});if(-1===i)return;a.messages=a.messages.slice(),a.messages.splice(i,1),y[n]=a}else if(a){var l=o.default.findIndex(a.messages,function(e){return e.id===t});if(l>=0){var s=a.messages[l],u=s.updateMessage(e.message);if(u!==s){var c=a.messages.slice();c[l]=u,y[n].messages=c}}}},MESSAGE_DELETE:function(e){var t=e.id,n=e.channelId,a=y[n];a&&0!==o.default.remove(a.messages,function(e){return e.id===t}).length&&(a.messages=a.messages.slice(),y[n]=a)},MESSAGE_DELETE_BULK:function(e){var t=e.ids,n=e.channelId,a=y[n];a&&(a.messages=a.messages.filter(function(e){return-1===t.indexOf(e.id)}))},LOAD_PINNED_MESSAGES:function(e){var t=e.channelId;y[t]=m(t,[],!1,!0)},LOAD_PINNED_MESSAGES_SUCCESS:function(e){var t=e.channelId,n=e.messages;y[t]=m(t,n,!0)},LOAD_PINNED_MESSAGES_FAILURE:function(e){var t=e.channelId;delete y[t]},USER_SETTINGS_UPDATE:function(e){return v()},I18N_LOAD_SUCCESS:function(e){return v()},CHANNEL_DELETE:function(e){var t=e.channel;delete y[t.id]},RELATIONSHIP_ADD:function(e){return g()},RELATIONSHIP_REMOVE:function(e){return g()}}),e.exports=t.default},6611:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=s(n(3)),r=s(n(2)),i=s(n(276)),l=s(n(280));n(0);function s(e){return e&&e.__esModule?e:{default:e}}var u={editingChannelId:null,editingMessageId:null,editingContent:null};function c(){u={editingChannelId:null,editingMessageId:null,editingContent:null}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isEditing=function(e,t){return e===u.editingChannelId&&t===u.editingMessageId},t.prototype.getEditingContent=function(){return u.editingContent},t.prototype.getEditingMessageId=function(){return u.editingMessageId},t.prototype.getEditingMessage=function(){return null!=u.editingChannelId&&null!=u.editingMessageId?i.default.getMessage(u.editingChannelId,u.editingMessageId):null},t}(o.default.Store);t.default=new d(r.default,{MESSAGE_START_EDIT:function(e){var t=e.channelId,n=e.messageId,a=e.content;u={editingChannelId:t,editingMessageId:n,editingContent:l.default.unparse(a,t)}},MESSAGE_UPDATE_EDIT:function(e){var t=e.content;if(null==u.editingChannelId&&null==u.editingMessageId&&null==u.editingContent)return!1;u=a({},u,{editingContent:t})},MESSAGE_END_EDIT:function(e){return c()},CHANNEL_SELECT:function(e){return c()},GUILD_SELECT:function(e){return c()}}),e.exports=t.default},6612:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(9))),i=s(n(6)),l=s(n(5876));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.className;return o("div",{className:(0,r.default)(l.default.tag,t)},void 0,o("span",{className:l.default.text},void 0,i.default.Messages.APPLICATION_STORE_FIRST_ON_DISCORD))};u.displayName="FirstOnDiscordTag",t.default=u,e.exports=t.default},6613:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(9)),l=n(56),s=m(n(161)),u=m(n(370)),c=n(943),d=m(n(59)),f=m(n(80)),p=m(n(6123)),h=m(n(5877)),y=m(n(165));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=400,b=function(e){function t(){var n,a;v(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=g(this,e.call.apply(e,[this].concat(r))),a._animatedValue=new s.default.Value(1),a.state={imageLoadError:!1,imageLoading:!0},a.componentWillEnter=function(e){a._animatedValue.setValue(0),s.default.timing(a._animatedValue,{toValue:1,duration:_}).start(e)},a.componentWillLeave=function(e){s.default.timing(a._animatedValue,{toValue:0,duration:_}).start(e)},a.getImageStyle=function(){return{opacity:a._animatedValue}},a.handleImageError=function(){a.setState({imageLoadError:!0,imageLoading:!1})},a.handleImageLoaded=function(){a.setState({imageLoading:!1})},g(a,n)}return E(t,e),t.prototype.renderMedia=function(){var e,t=this.props,n=t.src,a=t.className,r=t.title,l=this.state.imageLoading;return o(s.default.img,{className:(0,i.default)((e={},e[h.default.imageLoading]=l,e),a),src:n,alt:r,style:this.getImageStyle(),onError:this.handleImageError,onLoad:this.handleImageLoaded})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.title,a=e.src,r=this.state,l=r.imageLoadError,u=r.imageLoading;return null==a||l?o(s.default.div,{className:(0,i.default)(h.default.titleContainer,t),style:this.getImageStyle()},void 0,n):o(s.default.div,{className:(0,i.default)(u?h.default.loadingContainer:null,t),style:this.getImageStyle()},void 0,u?o(y.default,{className:h.default.spinner,itemClassName:h.default.spinnerItem,type:y.default.Type.PULSING_ELLIPSIS,animated:!0}):null,this.renderMedia())},t}(r.Component);b.displayName="TileMediaImage";var S=function(e){function t(){var n,a;v(this,t);for(var s=arguments.length,p=Array(s),y=0;y<s;y++)p[y]=arguments[y];return n=a=g(this,e.call.apply(e,[this].concat(p))),a.state={currentIndex:0,videoLoadError:!1,videoLoaded:!1},a._video=r.createRef(),a.videoTimeout=new l.Timeout,a.videoPlaying=!1,a.handleToggleMute=function(e){e.stopPropagation(),e.preventDefault();var t=a.props.onToggleMute;t&&t(e)},a.handleVideoError=function(){a.setState({videoLoadError:!0})},a.handleVideoLoaded=function(){a.setState({videoLoaded:!0})},a.renderTypeVideo=function(){var e,t=a.state.videoLoaded,n=a.props,l=n.video,s=n.image,p=n.title,y=n.playing,m=n.muted,v=n.splashClassName,g=n.splashPlaceholderClassName;return o(r.Fragment,{},void 0,c.isMobile?null:r.createElement("video",{className:(0,i.default)(h.default.splash,v),muted:m,loop:!0,preload:"none",ref:a._video,onLoadedMetadata:a.handleVideoLoaded,onError:a.handleVideoError},o("source",{src:l,type:"video/mp4"})),o(u.default,{},void 0,y&&t?null:o(b,{className:(0,i.default)(h.default.splashPlaceholder,g),src:s,title:p},0)),o(f.default,{className:(0,i.default)(h.default.muteContainer,(e={},e[h.default.muteContainerPlaying]=y&&t,e)),onClick:a.handleToggleMute},void 0,y&&t?o(d.default,{name:m?d.default.Names.SPEAKER_OFF:d.default.Names.SPEAKER,className:h.default.mute}):null))},a.nextItem=function(){var e=a.props.slideImages;null!=e&&a.setState({currentIndex:(a.state.currentIndex+1)%e.length})},a.renderSlideItem=function(e){var t=a.props,n=t.image,r=t.title,l=t.playing,s=t.splashClassName,u=a.state.currentIndex;return l?o(b,{className:(0,i.default)(h.default.splash,s),src:e[u],title:r},u):o(b,{className:(0,i.default)(h.default.splash,s),src:n,title:r},"image")},g(a,n)}return E(t,e),t.prototype.componentWillUnmount=function(){this.videoTimeout.stop()},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.playing,a=this._video.current;if(null!=a)if(n&&!e.playing){this.videoTimeout.stop(),isFinite(a.duration)&&isFinite(a.currentTime)&&(a.currentTime=0),a.volume=.3;var o=a.play();null!=o&&o.then(function(){t.videoPlaying=!0})}else e.playing&&!n&&this.videoTimeout.start(_,function(){t.videoPlaying&&(a.pause(),t.videoPlaying=!1)})},t.prototype.renderTypeImage=function(){var e=this.props,t=e.playing,n=e.slideImages,a=e.image,r=e.title,l=e.splashClassName;return null==n?o(b,{className:(0,i.default)(h.default.splash,l),src:a,title:r},"image"):o(p.default,{onInterval:this.nextItem,interval:2e3,className:h.default.slideshowWrapper,disable:!t},void 0,o(u.default,{},void 0,this.renderSlideItem(n)))},t.prototype.render=function(){var e=this.props,t=e.video,n=e.className;return e.placeholder?o("div",{className:n}):o("figure",{className:(0,i.default)(h.default.tileMedia,n)},void 0,null==t||this.state.videoLoadError?this.renderTypeImage():this.renderTypeVideo())},t}(r.Component);S.displayName="TileMedia",t.default=S,e.exports=t.default},6614:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(9)),l=n(227),s=m(n(6613)),u=m(n(43)),c=m(n(6612)),d=m(n(6048)),f=m(n(966)),p=n(6243),h=(m(n(527)),m(n(964)),n(0)),y=m(n(5873));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderActions=function(){var e=this.props,t=e.inLibrary,n=e.sku,a=e.customActions,r=e.isMouseOver,i=(e.showBuyInline||!n.requiresPayment)&&!t,l=i&&r;return o("div",{className:y.default.actions},void 0,null!=a?a:o("div",{className:y.default.priceOs},void 0,o(d.default,{type:d.default.Types.DIRECTORY_TILE,sku:n,inLibrary:t,className:l?y.default.tilePriceWithVisibleBuyButton:y.default.tilePrice}),o(p.OperatingSystemSection,{systems:[h.OperatingSystems.WINDOWS],className:y.default.platform}),i?o(f.default,{skuId:n.id,applicationId:n.applicationId,size:u.default.Sizes.SMALL,shouldRenderPrice:!0,onStoreListing:!0,onClick:function(e){return e.preventDefault()},className:l?y.default.tileBuyButtonVisible:y.default.tileBuyButton}):null))},t.prototype.render=function(){var e,t,n,a,r=this.props,u=r.sku,d=r.storeListing,f=r.playing,p=r.muted,h=r.showMediaPlaceholder,m=r.onToggleMute,v=r.isHorizontal,g=r.className;return o("div",{className:(0,i.default)(y.default.applicationTile,(e={},e[y.default.applicationTileHorizontal]=v,e),g)},void 0,o("div",{className:(0,i.default)(y.default.mediaWrapper,(t={},t[y.default.mediaWrapperHorizontal]=v,t))},void 0,o(s.default,{className:(0,i.default)(y.default.splashContainer,(n={},n[y.default.splashContainerHorizontal]=v,n)),video:null!=d.previewVideo?(0,l.getAssetURL)(u.applicationId,d.previewVideo):null,image:null!=d.thumbnail?(0,l.getAssetURL)(u.applicationId,d.thumbnail,600):null,title:u.name,playing:f,muted:p,placeholder:h,onToggleMute:m,splashClassName:y.default.splashVideo,splashPlaceholderClassName:y.default.splashPlaceholder}),u.exclusive?o(c.default,{className:(0,i.default)(y.default.exclusiveRegular,(a={},a[y.default.exclusivePlaying]=f,a))}):null),o("div",{className:y.default.description},void 0,o("h2",{className:y.default.gameTitle},void 0,u.name),o("div",{className:y.default.tagline},void 0,d.tagline),this.renderActions()))},t}(r.PureComponent);v.defaultProps={showMediaPlaceholder:!1,isMouseOver:!1,showBuyInline:!1,isHorizontal:!1},v.displayName="ApplicationTile",t.default=v,e.exports=t.default},6615:function(e,t,n){"use strict";t.__esModule=!0,t.AttachmentUpload=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(9))),i=h(n(6282)),l=h(n(6)),s=h(n(163)),u=h(n(955)),c=h(n(59)),d=h(n(80)),f=n(6016),p=h(n(5882));function h(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t=e.filename,a=(0,f.classifyFileName)(t),r=n(7494)("./icon-file-small-"+a+".svg");return o("img",{className:p.default.icon,src:r,alt:l.default.Messages.IMG_ALT_ATTACHMENT_FILE_TYPE.format({fileType:a}),title:a})};y.displayName="AttachmentIcon",(t.AttachmentUpload=function(e){var t=e.className,n=e.filename,a=e.size,s=e.progress,f=e.onCancelUpload,h=e.onClick,m=e.onContextMenu,v=100===s,g=!v&&a>0;return o("div",{className:(0,r.default)(p.default.attachment,t)},void 0,o(y,{filename:n}),o("div",{className:p.default.attachmentInner},void 0,o("div",{className:p.default.filenameWrapper},void 0,o(d.default,{className:p.default.filename,onClick:h,onContextMenu:m},void 0,n),g?o("div",{className:p.default.size},void 0,"â€” "+i.default.filesize(a)):null),o("div",{className:p.default.progressContainer},void 0,v?l.default.Messages.ATTACHMENT_PROCESSING:o(u.default,{className:p.default.progress,percent:s}))),v?null:o(d.default,{onClick:f},void 0,o(c.default,{name:c.default.Names.CLOSE,className:p.default.cancelButton,width:24,height:24})))}).displayName="AttachmentUpload";var m=function(e){var t=e.className,n=e.url,a=e.filename,l=e.size,u=e.onClick,d=e.onContextMenu;return o("div",{className:(0,r.default)(p.default.attachment,t)},void 0,o(y,{filename:a}),o("div",{className:p.default.attachmentInner},void 0,o("div",{className:p.default.filenameLinkWrapper},void 0,o(s.default,{className:p.default.fileNameLink,href:n,onClick:u,onContextMenu:d},void 0,a)),o("div",{className:p.default.metadata},void 0,i.default.filesize(l))),o(s.default,{href:n,target:"_blank",rel:"noreferrer noopener"},void 0,o(c.default,{name:c.default.Names.DOWNLOAD,className:p.default.downloadButton,width:24,height:24})))};m.displayName="Attachment",t.default=m},6616:function(e,t,n){"use strict";t.__esModule=!0,t.ButtonAddReaction=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(7)),s=C(n(370)),u=C(n(161)),c=C(n(9)),d=C(n(1220)),f=C(n(6625)),p=C(n(106)),h=C(n(80)),y=C(n(224)),m=C(n(7497)),v=n(541),g=C(n(999)),E=C(n(128)),_=n(561),b=n(0),S=C(n(5883)),M=n(521);function C(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var N=t.ButtonAddReaction=function(e){function t(){var n,a;A(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=a=T(this,e.call.apply(e,[this].concat(l))),a.onAddReaction=function(e){if(null!=e){var t=a.props,n=t.channel,o=t.message;(0,v.addReaction)(n.id,o.id,(0,_.toReactionEmoji)(e))}},a.renderReactionPopout=function(e){var t=a.props.channel;return i.createElement(f.default,r({},e,{channel:t,onSelectEmoji:a.onAddReaction}))},T(a,n)}return O(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.left,a=e.className;return t.state===b.MessageStates.SENDING||t.author.isLocalBot()?null:o(y.default,{closeOnScroll:!1,render:this.renderReactionPopout,position:n?y.default.Positions.LEFT:y.default.Positions.RIGHT,offsetX:n?-10:0,subscribeTo:n?b.ComponentActions.TOGGLE_REACTION_POPOUT(t.id):null},void 0,o("div",{className:(0,c.default)(S.default.reactionBtn,a)}))},t}(i.Component);N.defaultProps={left:!0},N.displayName="ButtonAddReaction";var I=function(e){function t(n){A(this,t);var a=T(this,e.call(this,n));return a.state={tooltipText:""},a.scale=new u.default.Value(1),a.opacity=new u.default.Value(1),l.default.bindAll(a,["handleClick","handleMouseOver","handleMouseOut","handleStoreChange"]),a}return O(t,e),t.prototype.componentWillAppear=function(e){this.animateIn(e)},t.prototype.componentWillEnter=function(e){this.animateIn(e)},t.prototype.componentWillUnmount=function(){this.handleMouseOut()},t.prototype.animateIn=function(e){E.default.isFocused()?(this.scale.setValue(0),this.opacity.setValue(0),u.default.parallel([u.default.timing(this.scale,{toValue:1,duration:300,easing:u.default.Easing.inOut(u.default.Easing.back())}),u.default.timing(this.opacity,{toValue:1,duration:300})]).start(e)):(this.scale.setValue(1),this.opacity.setValue(1),e())},t.prototype.handleClick=function(){var e=this.props,t=e.message,n=e.emoji,a=e.me,o=e.readOnly,r=t.getChannelId();a?(0,v.removeReaction)(r,t.id,n):o||(0,v.addReaction)(r,t.id,n)},t.prototype.handleMouseOver=function(){var e=this;this.timeout=this.timeout||setTimeout(function(){e.timeout=null,e.handleStoreChange(),g.default.addChangeListener(e.handleStoreChange)},500)},t.prototype.handleMouseOut=function(){null!=this.timeout&&(clearTimeout(this.timeout),this.timeout=null,this.setState({tooltipText:""})),g.default.removeChangeListener(this.handleStoreChange)},t.prototype.handleStoreChange=function(){var e=this.props,t=e.message,n=e.emoji;this.setState({tooltipText:(0,_.getReactionTooltip)(t,n)})},t.prototype.render=function(){var e,t=this.props,n=t.count,a=t.emoji,r=t.me,i=t.readOnly,l=t.backgroundOpacity,s={transform:[{scale:this.scale}],opacity:this.opacity};return o(p.default,{text:this.state.tooltipText},void 0,o(u.default.div,{className:(0,c.default)(S.default.reaction,S.default[l+"BackgroundOpacity"],(e={},e[S.default.reactionMe]=r,e[S.default.reactionReadOnly]=i,e)),style:s},void 0,o(h.default,{className:S.default.reactionInner,onClick:this.handleClick,onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut},void 0,o(d.default,{emojiId:a.id,emojiName:a.name,animated:a.animated}),o(m.default,{className:(0,c.default)(S.default.reactionCount,S.default[l+"BackgroundOpacity"]),value:n,digitWidth:9}))))},t}(i.PureComponent);I.displayName="Reaction";var P=function(e){function t(){var n,a;A(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=T(this,e.call.apply(e,[this].concat(r))),a.state={disableTransitionAppear:!0,reactionsCount:a.props.message.reactions.length},T(a,n)}return O(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.message.reactions.length;return 0===t.reactionsCount&&n>0?{disableTransitionAppear:!1,reactionsCount:n}:t.reactionsCount!==n?{reactionsCount:n}:null},t.prototype.render=function(){var e=this.props,t=e.message,n=e.disableReactionCreates,a=e.disableReactionUpdates,l=e.channel,u=this.state.disableTransitionAppear;if(!t.reactions.length)return null;var c=o(N,{message:t,channel:l,left:!1});return o(M.BackgroundOpacityContext.Consumer,{},void 0,function(e){return o(s.default,{className:S.default.reactions,transitionAppear:!u,transitionLeave:!1},void 0,t.reactions.map(function(n){return i.createElement(I,r({key:(n.emoji.id||0)+":"+n.emoji.name,message:t,readOnly:a,backgroundOpacity:e.backgroundOpacity},n))}),!n&&c)})},t}(i.PureComponent);P.displayName="Reactions",t.default=P},6617:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),l=h(n(106)),s=h(n(6)),u=n(526),c=n(0),d=h(n(5884)),f=h(n(1214)),p=n(521);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){var t=e.timestamp;return o(l.default,{text:null!=t?(0,u.calendarFormat)(t):null},void 0,o("time",{dateTime:t.toISOString(),className:d.default.edited,role:"note"},void 0,"(",s.default.Messages.MESSAGE_EDITED,")"))};m.displayName="SuffixEdited";var v=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=y(this,e.call.apply(e,[this].concat(r))),a.onContextMenu=function(e){var t=a.props;(0,t.onContextMenu)(e,{message:t.message,channel:t.channel,target:e.target})},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e,t=this,n=this.props,a=n.className,r=n.message,l=n.channel,s=n.renderButtons,u=n.renderPrefix,h=n.children,y=n.disableButtons,v=n.disableMentionStyles,g=n.isCompact,E=r.isEdited(),_=r.state===c.MessageStates.SEND_FAILED,b=r.state===c.MessageStates.SENDING,S=r.type!==c.MessageTypes.DEFAULT,M=r.mentioned&&!S,C=(0,i.default)(a,((e={})[d.default.isMentionedCompact]=M&&!v&&g,e[d.default.isMentionedCozy]=M&&!v&&!g,e[d.default.isSending]=b,e[d.default.containerCompact]=g,e[d.default.containerCozy]=!g,e));return o(p.BackgroundOpacityContext.Consumer,{},void 0,function(e){var n;return o("div",{className:(0,i.default)(C,d.default[e.backgroundOpacity+"BackgroundOpacity"],f.default[e.backgroundOpacity+"BackgroundOpacity"]),onContextMenu:t.onContextMenu},void 0,!y&&s&&o("div",{className:d.default.buttonContainer},void 0,s({message:r,channel:l})),h||o("div",{className:(0,i.default)(d.default.markup,f.default.markup,(n={},n[d.default.isFailed]=_,n[d.default.isCompact]=g,n))},void 0,null!=u&&u({message:r,channel:l}),r.contentParsed,E&&null!=r.editedTimestamp&&o(m,{timestamp:r.editedTimestamp})))})},t}(r.PureComponent);v.defaultProps={disableMentionStyles:!1,disableButtons:!1},v.displayName="MessageContent",t.default=v,e.exports=t.default},6618:function(e,t,n){"use strict";t.__esModule=!0;var a=c(n(6)),o=n(0),r=c(n(14)),i=c(n(12)),l=n(584),s=c(n(293)),u=c(n(145));function c(e){return e&&e.__esModule?e:{default:e}}function d(){}var f=function(){return[a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_01,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_02,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_03,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_04,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_05,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_06,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_07,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_08,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_09,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_10,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_11,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_12,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_13,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_14,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_15,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_16,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_17,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_18,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_19,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_20,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_21,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_22,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_23,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_24,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_25,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_26,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_27,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_28,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_29,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_30,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_31,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_32,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_33,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_34,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_35,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_36,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_37,a.default.Messages.SYSTEM_MESSAGE_GUILD_MEMBER_JOIN_38]};function p(e){var t=f();return t[u.default.extractTimestamp(e)%t.length]}t.default={stringify:function(e){var t=e.mentions[0]&&i.default.getUser(e.mentions[0].id),n=e.channel_id,u=s.default.getName(null,n,e.author);switch(e.type){case o.MessageTypes.RECIPIENT_ADD:if(!t)return;return(0,l.astToString)(a.default.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD.format({username:u,usernameOnClick:d,otherUsername:s.default.getName(null,n,t),otherUsernameOnClick:d},!1));case o.MessageTypes.RECIPIENT_REMOVE:if(!t)return;return e.author.id===t.id?(0,l.astToString)(a.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF.format({username:u,usernameOnClick:d},!1)):(0,l.astToString)(a.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE.format({username:u,usernameOnClick:d,otherUsername:s.default.getName(null,n,t),otherUsernameOnClick:d},!1));case o.MessageTypes.CALL:var c=e.call;return c&&-1===c.participants.indexOf(r.default.getId())?(0,l.astToString)(a.default.Messages.SYSTEM_MESSAGE_CALL_STARTED.format({username:u,usernameOnClick:d},!1)):void 0;case o.MessageTypes.CHANNEL_NAME_CHANGE:return(0,l.astToString)(a.default.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE.format({username:u,usernameOnClick:d,channelName:e.content},!1));case o.MessageTypes.CHANNEL_ICON_CHANGE:return(0,l.astToString)(a.default.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE.format({username:u,usernameOnClick:d},!1));case o.MessageTypes.CHANNEL_PINNED_MESSAGE:return(0,l.astToString)(a.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA.format({username:u,usernameOnClick:d},!1));case o.MessageTypes.USER_JOIN:var f=p(e.id);return(0,l.astToString)(f.format({username:u,usernameOnClick:d},!1));default:return e.content}},getSystemMessageUserJoin:p},e.exports=t.default},6619:function(e,t,n){e.exports=n.p+"b8029fe196b8f1382e90bbe81dab50dc.svg"},6620:function(e,t,n){e.exports=n.p+"0c9615349350c4185381d58c69b88cbc.svg"},6621:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.openUserContextMenu=function(e,t,n){var o={user:t,channelId:n.id};n.isGroupDM()?o.type=l.ContextMenuTypes.USER_GROUP_DM:n.isDM()?(o.selected=!0,o.type=l.ContextMenuTypes.USER_PRIVATE_CHANNELS_MESSAGE):(o.type=l.ContextMenuTypes.USER_CHANNEL_MESSAGE,o.guildId=n.getGuildId());(0,i.openContextMenu)(e,function(e){return r.createElement(u.default,a({},e,o))})};var o,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=n(34),l=n(0),s=n(931),u=(o=s)&&o.__esModule?o:{default:o}},6622:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=N(n(53)),l=N(n(3)),s=N(n(6)),u=N(n(9)),c=N(n(6248)),d=n(0),f=N(n(6079)),p=N(n(6126)),h=N(n(938)),y=N(n(982)),m=N(n(6127)),v=N(n(194)),g=N(n(280)),E=N(n(956)),_=N(n(7510)),b=N(n(6249)),S=N(n(963)),M=N(n(969)),C=N(n(5552)),A=N(n(516)),T=N(n(106)),O=N(n(43));function N(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=function(e){function t(){var n,a;I(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=P(this,e.call.apply(e,[this].concat(r))),a.tryAbort=function(){a.reader&&1===a.reader.readyState&&a.reader.abort()},a.loadImagePreview=function(e){a.tryAbort(),a.reader=new FileReader,a.reader.onload=function(e){return a.setState({imageDataUri:e.target.result,imageLoaded:!0})},a.reader.readAsDataURL(e.file)},a.state={imageDataUri:a.state?a.state.imageDataUri:null,imageLoaded:!1},P(a,n)}return w(t,e),t.prototype.UNSAFE_componentWillMount=function(){this.loadImagePreview(this.props)},t.prototype.UNSAFE_componentWillUpdate=function(e){this.loadImagePreview(e)},t.prototype.componentWillUnmount=function(){this.tryAbort()},t.prototype.render=function(){var e;if(this.state.imageLoaded){var t={backgroundImage:"url('"+this.state.imageDataUri+"')"};return o("div",{className:(0,u.default)(C.default.icon,C.default.image),style:t})}return o("div",{className:(0,u.default)(C.default.icon,(e={},e[C.default.image]=!0,e))})},t}(r.PureComponent);R.defaultProps={file:null},R.displayName="ImageFilePreview";var L=function(e){function t(){return I(this,t),P(this,e.apply(this,arguments))}return w(t,e),t.prototype.render=function(){return this.props.upload.isImage?o(R,{file:this.props.upload.file},this.props.upload.id):o("div",{className:(0,u.default)([C.default.icon],(e={},e[C.default[this.props.upload.classification]]=!0,e))});var e},t}(r.Component);L.displayName="UploadIcon";var D=(0,i.default)({displayName:"Upload",mixins:[l.default.StoreListenerMixin(_.default,y.default),E.default,S.default,M.default],statics:{modalConfig:{closable:!1}},getStateFromStores:function(){var e=_.default.getFirstUpload(),t=e?e.channel.id:null,n=t?y.default.getSlowmodeCooldownGuess(t):0;return{upload:e,file:e?e.file:null,hasAdditionalUploads:_.default.hasAdditionalUploads(),cooldown:n}},getInitialState:function(){var e=_.default.getFirstUpload(),t=e?e.channel.id:null;return{transitioning:!1,textValue:p.default.getDraft(t)||"",textFocused:!0}},getSubscriptions:function(){var e;return(e={})[d.ComponentActions.MODAL_SUBMIT]=this.confirm,e[d.ComponentActions.MODAL_CLOSE]=this.cancel,e},shouldComponentUpdate:function(e,t){return t.upload},cancelAll:function(){b.default.clearAll(),this.props.onClose()},cancel:function(){this.showNextFile()},confirm:function(){var e=this,t=this.state,n=t.transitioning,a=t.upload,o=t.textValue,r=t.cooldown;return n||!a?Promise.resolve({shouldClear:!1,shouldRefocus:!1}):r>0?Promise.resolve({shouldClear:!1,shouldRefocus:!0}):h.default.isOpen("popout-channel-text-area-shouting")?(v.default.close("popout-channel-text-area-shouting"),this.submitUpload(!0,o,a),Promise.resolve({shouldClear:!0,shouldRefocus:!0})):this.applyChatRestrictions(this.channelTextAreaRef,o,a.channel).then(function(t){var n=t.valid;return e.submitUpload(n,o,a),{shouldClear:!1,shouldRefocus:!1}})},submitUpload:function(e,t,n){if(e){var a=g.default.parse(n.channel,t);m.default.saveDraft(n.channel.id,""),this.setState({textFocused:!0,textValue:""});var o=c.default.upload.bind(null,n.channel.id,n.file,a);setTimeout(o,125),this.showNextFile()}},showNextFile:function(){var e=this;this.state.transitioning||(this.state.hasAdditionalUploads?(this.setState({transitioning:!0}),this.setTimeout(function(){return b.default.popFirstFile()},100),this.setTimeout(function(){return e.setState({transitioning:!1})},200)):(b.default.popFirstFile(),this.props.onClose()))},handleTextChange:function(e,t){this.setState({textValue:t})},onSubmitText:function(){return this.confirm()},render:function(){var e,t=this,n=this.state,a=n.hasAdditionalUploads,i=n.transitioning,l=n.upload,c=n.sizeString,p=n.textValue,h=n.textFocused,y=n.cooldown,m=y>0,v=m?s.default.Messages.CHANNEL_SLOWMODE_COOLDOWN.format({seconds:Math.round((y+1e3)/1e3)}):null,g=null;return a&&(g=o("button",{type:"submit",className:(0,u.default)({button:!0}),onClick:this.cancelAll},void 0,o("span",{},void 0,s.default.Messages.UPLOAD_AREA_CANCEL_ALL))),o("div",{className:(0,u.default)(C.default.uploadModal,"theme-brand",(e={},e[C.default.transitioning]=i,e))},void 0,o("div",{className:C.default.inner},void 0,o("div",{className:C.default.file},void 0,o(L,{upload:l}),o("div",{className:C.default.description},void 0,o("div",{className:C.default.filename},void 0,l.filename),o("div",{className:C.default.filesize},void 0,c))),o("div",{className:C.default.comment},void 0,o("div",{className:C.default.label},void 0,o("span",{},void 0,s.default.Messages.UPLOAD_AREA_LEAVE_A_COMMENT),o("span",{className:C.default.optional},void 0,"(",s.default.Messages.UPLOAD_AREA_OPTIONAL,")")),r.createElement(f.default,{ref:function(e){t.channelTextAreaRef=e},className:(0,u.default)(C.default.channelTextAreaUpload,A.default.marginTop8),value:p,focused:h,channel:l.channel,onChange:this.handleTextChange,onSubmit:this.onSubmitText,type:d.TextareaTypes.FORM}))),o("div",{className:C.default.footer},void 0,g,o("button",{type:"submit",className:(0,u.default)({button:!0}),onClick:this.cancel},void 0,o("span",{},void 0,s.default.Messages.CANCEL)),o(T.default,{text:v},void 0,o("div",{},void 0,o(O.default,{disabled:m,type:"submit",className:(0,u.default)({button:!0,"button-primary":!0}),onClick:this.confirm},void 0,o("span",{},void 0,s.default.Messages.UPLOAD))))))}});t.default=D,e.exports=t.default},6623:function(e,t,n){"use strict";t.__esModule=!0;var a=c(n(2)),o=c(n(6)),r=c(n(37)),i=c(n(141)),l=c(n(6087)),s=c(n(7512)),u=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n){var c="",f=!1;null!=n&&(c=n.content,f=n.tts);var p=new s.default(u.Endpoints.MESSAGES(e));p.on("start",function(t){a.default.dispatch({type:u.ActionTypes.UPLOAD_START,channelId:e,file:t,uploader:p})}),p.on("progress",function(t){a.default.dispatch({type:u.ActionTypes.UPLOAD_PROGRESS,channelId:e,file:t})}),p.on("error",function(t,s){a.default.dispatch({type:u.ActionTypes.UPLOAD_FAIL,channelId:e,file:t}),s!==u.AbortCodes.EXPLICIT_CONTENT?r.default.push(l.default,{title:o.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_TITLE,help:o.default.Messages.UPLOAD_AREA_UPLOAD_FAILED_HELP.format({onClick:function(){r.default.pop(),d(e,t,n)}})}):i.default.sendClydeError(e,s)}),p.on("complete",function(t){a.default.dispatch({type:u.ActionTypes.UPLOAD_COMPLETE,channelId:e,file:t})}),p.upload(t,{content:c,tts:f})}t.default={instantBatchUpload:function(e,t){Array.prototype.forEach.call(t,function(t){d(e,t)})},upload:d,cancel:function(e){a.default.dispatch({type:u.ActionTypes.UPLOAD_CANCEL_REQUEST,file:e})}},e.exports=t.default},6624:function(e,t,n){e.exports=n.p+"f24711dae4f6d6b28335e866a93e9d9b.png"},6625:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=R(n(53)),s=R(n(66)),u=n(533),c=R(u),d=R(n(194)),f=R(n(369)),p=R(n(7)),h=R(n(9)),y=R(n(6)),m=R(n(6031)),v=R(n(43)),g=R(n(80)),E=R(n(7523)),_=R(n(3)),b=R(n(1222)),S=R(n(288)),M=R(n(27)),C=R(n(382)),A=R(n(6691)),T=R(n(161)),O=R(n(238)),N=R(n(17)),I=R(n(240)),P=n(0),w=R(n(5888));function R(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var U=b.default.convert.fromCodePoint("1f44c"),x=125,j=function(e){function t(){var n,a;L(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=D(this,e.call.apply(e,[this].concat(r))),a.state={opacity:new T.default.Value(a.props.fade?0:1)},D(a,n)}return k(t,e),t.prototype.componentDidMount=function(){this.props.fade&&T.default.timing(this.state.opacity,{delay:this.props.delay,toValue:1,duration:150}).start()},t.prototype.render=function(){var e=this,t=I.default.getURL(U+this.props.surrogate),n={opacity:this.state.opacity,backgroundImage:'url("'+t+'")'};return r(T.default.div,{onClick:function(){return e.props.onClick(e.props.surrogate)},className:w.default.item,style:n})},t}(i.Component);j.defaultProps={delay:0,fade:!1},j.displayName="DiversityIcon";var G=28,B=function(e){function t(){var n,a;L(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=D(this,e.call.apply(e,[this].concat(r))),a.state={isOpen:!1,height:new T.default.Value(G)},a.me=i.createRef(),a.handleDiversityColorChange=function(e){A.default.setDiversityColor(e),a.close()},a.handleOpen=function(){T.default.timing(a.state.height,{fromValue:G,toValue:180,duration:x}).start(),a.setState({isOpen:!0}),document.addEventListener("click",a.close,!0),a.props.onOpen&&a.props.onOpen(!0)},a.close=function(e){if(null!=e&&null!=a.me.current)for(var t=e.target;null!=t;){if(t===a.me.current)return;t=t.parentNode}a.setState({isOpen:!1}),a.state.height.setValue(G),a.props.onOpen&&a.props.onOpen(!1)},D(a,n)}return k(t,e),t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.close,!0)},t.prototype.render=function(){var e=this,t=this.props.selectedSurrogate;if(this.state.isOpen){var n=[""].concat(P.DIVERSITY_SURROGATES);p.default.remove(n,function(e){return e===t}),n.unshift(t);var a=n.map(function(t,n){return r(j,{fade:n>0,delay:20*n,surrogate:t,onClick:e.handleDiversityColorChange},n)});return i.createElement("div",{ref:this.me,className:w.default.diversitySelector},r(T.default.div,{className:w.default.popout,style:{height:this.state.height}},void 0,a))}var o=I.default.getURL(U+t);return r(g.default,{className:w.default.diversitySelector,onClick:this.handleOpen},void 0,r("div",{className:w.default.item,style:{backgroundImage:'url("'+o+'")'}}))},t}(i.PureComponent);B.displayName="DiversitySelector";var F=(0,l.default)({displayName:"EmojiPicker",mixins:[s.default,_.default.StoreListenerMixin(S.default)],getStateFromStores:function(){return{diversitySurrogate:S.default.diversitySurrogate}},getInitialState:function(){return{premiumPromoOpen:!1,diversityPickerOpen:!1,metaData:this.computeMetaData(null),searchResults:null,currentSection:S.default.categories[0],selectedRow:-1,selectedColumn:-1,query:"",placeholder:y.default.Messages.SEARCH_FOR_EMOJI}},selectEmoji:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null!=e&&I.default.isEmojiDisabled(e,this.props.channel)?this.setState({premiumPromoOpen:!0}):(this.props.onSelectEmoji&&this.props.onSelectEmoji(e),t?d.default.close(this.props.popoutKey):this.focusSearch())},clearNow:function(e){var t={query:"",placeholder:y.default.Messages.SEARCH_FOR_EMOJI,searchResults:null,metaData:this.computeMetaData(null),selectedRow:-1,selectedColumn:-1};""!==this.state.query&&(t.currentSection=S.default.categories[0]),this.focusSearch(),this.setState(t,e)},handleClear:function(){this.clearNow()},handleSelect:function(e,t,n){null!==e||null!==t?this.selectEmoji(this.state.metaData[e].items[t].emoji,!n.shiftKey):this.selectEmoji(null)},handleSelectionChange:function(e,t){if(!(e<0||t<0)){var n=this.state.metaData[e].items[t],a=n.emoji,o=n.offsetTop;this.setState({selectedRow:e,selectedColumn:t,placeholder:a.allNamesString}),this.refs.scroller.scrollIntoViewRect(o,o+32,!1)}},handleQueryChange:function(e){if(""!==e){var t=e;":"===t[0]&&(t=t.slice(1));var n=S.default.search(this.props.channel,t);this.setState({query:e,searchResults:n,metaData:this.computeMetaData(n),selectedRow:-1,selectedColumn:-1,currentSection:null})}else this.clearNow()},focusSearch:function(){this.refs.search.focus()},UNSAFE_componentWillMount:function(){this.spriteSheetSize=[22*P.EmojiSprites.NonDiversityPerRow+"px",22*Math.ceil(O.default.numNonDiversitySprites/P.EmojiSprites.NonDiversityPerRow)+"px"].join(" "),this.diversitySpriteSheetSize=[22*P.EmojiSprites.DiversityPerRow+"px",22*Math.ceil(O.default.numDiversitySprites/P.EmojiSprites.DiversityPerRow)+"px"].join(" ")},componentDidMount:function(){N.default.track(P.AnalyticEvents.OPEN_POPOUT,{type:"Emoji Picker"}),this.focusSearch();var e=this.props.onOpen;e&&e()},componentWillUnmount:function(){var e=this.props.onClose;e&&e()},onHoverEmoji:function(e,t,n){this.setState({selectedRow:t,selectedColumn:n,placeholder:e.allNamesString})},scrollNow:function(e){var t=this;this.clearNow(function(){t.refs.scroller.scrollTo(t.categoryOffsets[e],!0)})},getCurrentSection:function(){if(""!==this.state.query)return null;var e=this.refs.scroller.getScrollerNode(),t=e.scrollTop+.25*e.offsetHeight;if(0===e.scrollTop)return S.default.categories[0];var n=-1,a=null;return p.default.forEach(this.categoryOffsets,function(e,o){e<=t&&e>=n&&(n=e,a=o)}),a},handleScroll:function(){var e=this.getCurrentSection();e!==this.state.currentSection&&this.setState({currentSection:e})},computeMetaData:function(e){var t=this,n=S.default.categories.length,a=this.props.channel,o=a.getGuildId(),r=[],i=0,l=0,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=[],s=p.default.partition(e,function(e){return!I.default.isEmojiDisabled(e,a)}),u=s[0],c=s[1];p.default.forEach([].concat(u,c),function(e){I.default.isEmojiFiltered(e,a)||(o.push({emoji:e,offsetTop:32*i,row:l,column:o.length}),o.length===n&&(r.push({category:t,items:o}),o=[],l+=1,i+=1))}),o.length>0&&(r.push({category:t,items:o}),l+=1,i+=1)};if(e)s(e);else{if(this.cachedMetaDataNoSearch)return this.cachedMetaDataNoSearch;this.categoryOffsets={},this.categories=[];var u=function(e,n,a){t.categoryOffsets[e]=32*i,t.categories.push({category:e,offsetTop:32*i,title:n}),i+=1,s(a,e)},c=S.default.getDisambiguatedEmojiContext(o);p.default.forEach(S.default.categories,function(e){if(e===P.EMOJI_CATEGORY_CUSTOM){var t=0,n=c.getCustomEmoji(),a=p.default.groupBy(n,"guildId"),r=function(n){var o=a[n.id];null!=o&&0!==o.length&&u(0==t++?e:""+e+t,n.toString(),o)},i=M.default.getGuild(o);i&&r(i),p.default.each(C.default.getSortedGuilds(),function(e){var t=e.guild;t.id!==o&&r(t)})}else{var l=e===P.EMOJI_CATEGORY_RECENT?c.getFrequentlyUsedEmojis():O.default.getByCategory(e);u(e,y.default.Messages["EMOJI_CATEGORY_"+e.toUpperCase()],l)}}),this.cachedMetaDataNoSearch=r}return r},handleDiversityPickerToggled:function(e){this.setState({diversityPickerOpen:e})},renderStickyHeader:function(){if(""!==this.state.query)return null;if(!this.refs.scroller)return r("div",{className:w.default.stickyHeader},void 0,r("div",{className:w.default.category},void 0,this.categoryOffsets[S.default.categories[0]]));var e=this.refs.scroller.getScrollerNode().scrollTop,t=e+32,n=-1,a=null;p.default.forEach(this.categories,function(t,o){var r=t.offsetTop;r<=e&&n<r&&(n=r,a=o)});var o=a+1;if(o<this.categories.length&&this.categories[o].offsetTop<t){var i={marginTop:this.categories[o].offsetTop-t};return r("div",{className:w.default.stickyHeader,style:i},void 0,r("div",{className:w.default.category},void 0,this.categories[a].title),r("div",{className:w.default.category},void 0,this.categories[o].title))}return r("div",{className:w.default.stickyHeader},void 0,r("div",{className:w.default.category},void 0,this.categories[a].title))},render:function(){var e,t=this,a=this.props.channel,l=[],s=null,f=null;if(0===this.state.metaData.length)f=r(E.default,{message:y.default.Messages.NO_EMOJI_SEARCH_RESULTS});else{var v=""!==this.state.diversitySurrogate?b.default.convert.toCodePoint(this.state.diversitySurrogate):"";p.default.forEach(this.state.metaData,function(e){var a=e.category,u=e.items;if(a&&a!==s){s=a;var c=p.default.find(t.categories,function(e){return e.category===a}).title;l.push(r("div",{name:a,className:w.default.category},a,c))}var d=p.default.map(u,function(e){var a,l=e.emoji,s=e.row,u=e.column,c=null,d=s===t.state.selectedRow&&u===t.state.selectedColumn,f={key:l.name+"-"+s+"-"+u,className:(0,h.default)(w.default.emojiItem,(a={},a[w.default.selected]=d,a[w.default.disabled]=I.default.isEmojiDisabled(l,t.props.channel),a)),onClick:function(e){return t.selectEmoji(l,!e.shiftKey)},onMouseOver:function(){return t.onHoverEmoji(l,s,u)}};if(!l.useSpriteSheet)return i.createElement("div",o({},f,{style:{backgroundImage:"url('"+l.url+"')"}}));if(l.hasDiversity){var p=-l.index%P.EmojiSprites.DiversityPerRow*22,y=22*-Math.floor(l.index/P.EmojiSprites.DiversityPerRow);c={backgroundImage:"url('"+n(7522)("./spritesheet-"+v+".png")+"')",backgroundPosition:p+"px "+y+"px",backgroundSize:t.diversitySpriteSheetSize}}else{var m=-l.index%P.EmojiSprites.NonDiversityPerRow*22,g=22*-Math.floor(l.index/P.EmojiSprites.NonDiversityPerRow);c={backgroundImage:"url('"+n(6624)+"')",backgroundPosition:m+"px "+g+"px",backgroundSize:t.spriteSheetSize}}return i.createElement("div",f,r("div",{className:w.default.spriteItem,style:c}))});l.push(r("div",{className:w.default.row},l.length,d))}),f=i.createElement(c.default,{ref:"scroller",outerClassName:w.default.scrollerWrap,className:w.default.scroller,onScroll:this.handleScroll,elementHeight:32,fade:!0,theme:u.Themes.LIGHT,renderStickyHeader:function(){return t.renderStickyHeader()}},l)}var _=p.default.map(S.default.categories,function(e){var n;return r(g.default,{"aria-label":e,className:(0,h.default)(w.default.item,w.default[e],(n={},n[w.default.selected]=null!=t.state.currentSection&&0===t.state.currentSection.indexOf(e),n)),onClick:function(){return t.scrollNow(e)}},e)}),M=void 0;if(this.state.premiumPromoOpen){var C=null!=a.getGuildId();M=r(V,{onLearnMore:function(){return d.default.close(t.props.popoutKey)},onClose:function(){return t.setState({premiumPromoOpen:!1})},isGuildChannel:C})}return r("div",{className:w.default.emojiPicker},void 0,r("div",{className:(0,h.default)(w.default.dimmer,(e={},e[w.default.visible]=this.state.diversityPickerOpen,e))}),r("div",{className:w.default.header},void 0,i.createElement(m.default,{query:this.state.query,ref:"search",light:!0,placeholder:this.state.placeholder,gridResults:!0,selectedRow:this.state.selectedRow,selectedColumn:this.state.selectedColumn,sections:this.state.metaData.map(function(e){return e.items.length}),onClear:this.handleClear,onSelect:this.handleSelect,onSelectionChange:this.handleSelectionChange,onQueryChange:this.handleQueryChange}),r(B,{onOpen:this.handleDiversityPickerToggled,selectedSurrogate:this.state.diversitySurrogate})),f,r("div",{className:w.default.categories},void 0,_),M)}});var V=function(e){var t=e.onLearnMore,a=e.onClose,o=e.isGuildChannel;return r("div",{className:w.default.premiumPromo},void 0,r(g.default,{className:w.default.premiumPromoClose,onClick:a},void 0,y.default.Messages.CLOSE),r("img",{alt:"",className:w.default.premiumPromoImage,src:n(7514),width:124,height:96}),r("div",{className:w.default.premiumPromoTitle},void 0,y.default.Messages.PREMIUM_PROMO_TITLE),r("div",{className:w.default.premiumPromoDescription},void 0,y.default.Messages.PREMIUM_PROMO_DESCRIPTION),r(v.default,{onClick:function(){!function(e){N.default.track(P.AnalyticEvents.PREMIUM_PROMOTION_OPENED,{location_page:e?P.AnalyticsPages.GUILD_CHANNEL:P.AnalyticsPages.DM_CHANNEL,location_section:P.AnalyticsSections.EMOJI_PICKER_POPOUT})}(o),f.default.open(P.UserSettingsSections.PREMIUM),t()}},void 0,y.default.Messages.LEARN_MORE))};V.displayName="PremiumPromo",t.default=F,e.exports=t.default},6626:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=m(n(9)),s=n(107),u=m(n(29)),c=m(n(71)),d=m(n(266)),f=m(n(59)),p=m(n(80)),h=m(n(6)),y=m(n(5891));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _=function(e){function t(n){v(this,t);var a=g(this,e.call(this,n));return a.selectable=!0,a.orientation="Vertical",a.handleMouseEnter=a.handleMouseEnter.bind(a),a.handleClick=a.handleClick.bind(a),a}return E(t,e),t.prototype.getSelectedMode=function(){return this.selectable&&this.props.selected?"Selected":""},t.prototype.renderContent=function(){throw new Error("AutocompleteRow: renderContent must be extended")},t.prototype.render=function(){var e;return r(p.default,{className:(0,l.default)(this.props.className,(0,s.getClass)(y.default,"autocompleteRow",this.orientation)),onMouseEnter:this.selectable?this.handleMouseEnter:null,onClick:this.selectable?this.handleClick:null},void 0,r("div",{className:(0,l.default)((0,s.getClass)(y.default,"selector",this.getSelectedMode()),(e={},e[y.default.selectable]=this.selectable,e))},void 0,this.renderContent()))},t.prototype.handleMouseEnter=function(){var e=this.props,t=e.onHover,n=e.index;t&&t(n)},t.prototype.handleClick=function(){var e=this.props,t=e.onClick,n=e.index;t&&t(n)},t}(i.PureComponent);_.displayName="AutocompleteRow";var b=function(e){function t(){return v(this,t),g(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.text,n=e.description;return r(u.default,{className:y.default.content},void 0,r(u.default.Child,{grow:1},void 0,t),r(u.default.Child,{grow:0},void 0,r(c.default,{className:y.default.description},void 0,n)))},t}(_),S=function(e){function t(n){v(this,t);var a=g(this,e.call(this,n));return a.selectable=!1,a}return E(t,e),t.prototype.renderContent=function(){var e=this.props.title;return r(c.default,{className:y.default.contentTitle,weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.SMALL},void 0,e)},t}(_),M=function(e){function t(n){v(this,t);var a=g(this,e.call(this,n));return a.selectable=!1,a}return E(t,e),t.prototype.renderContent=function(){return r("div",{className:y.default.divider})},t}(_),C=function(e){function t(){var n,a;v(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=g(this,e.call.apply(e,[this].concat(r))),a.statusStyle={width:10,height:10,right:"-4px",bottom:"-4px",borderWidth:2,borderStyle:"solid"},g(a,n)}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.user,n=e.nick,a=e.status,o=e.hidePersonalInformation,i=e.colorblindMode;return r(u.default,{align:u.default.Align.CENTER,className:y.default.content},void 0,r(d.default,{size:d.default.Sizes.XSMALL,src:t.getAvatarURL(),status:a,statusClassName:y.default.avatarStatus,statusStyle:i?this.statusStyle:{}}),r(u.default.Child,{className:y.default.marginLeft8},void 0,n||t.username),r(u.default,{grow:0,align:u.default.Align.BASELINE,className:y.default.description},void 0,r(c.default,{className:y.default.descriptionUsername},void 0,t.username),o?null:r(c.default,{className:y.default.descriptionDiscriminator},void 0,"#",t.discriminator)))},t}(_),A=function(e){function t(){return v(this,t),g(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderContent=function(){var e=this.props.role;return r(u.default,{align:u.default.Align.CENTER,className:y.default.content},void 0,r(u.default.Child,{grow:1},void 0,r(c.default,{style:{color:e.colorString}},void 0,"@",e.name)),r(c.default,{className:y.default.description},void 0,h.default.Messages.MENTION_USERS_WITH_ROLE))},t}(_),T=function(e){function t(){return v(this,t),g(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.channel,n=e.category;return r(u.default,{align:u.default.Align.CENTER,className:y.default.content},void 0,r(f.default,{name:f.default.Names.CHANNEL_TEXT,className:y.default.icon,foreground:y.default.iconForeground}),r(u.default.Child,{className:y.default.marginLeft4},void 0,t.toString()),null!=n?r(c.default,{className:y.default.description},void 0,n.name):null)},t}(_),O=function(e){function t(){return v(this,t),g(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.command,n=e.description;return r(u.default,{align:u.default.Align.CENTER,className:y.default.content},void 0,r(f.default,{name:f.default.Names.SLASH,className:y.default.icon,foreground:y.default.iconForeground}),r(u.default.Child,{grow:1,className:y.default.marginLeft4},void 0,t),r(c.default,{className:y.default.description},void 0,n))},t}(_),N=function(e){function t(){return v(this,t),g(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.emoji,n=e.sentinel,a=t.url?r("img",{alt:"",className:y.default.icon,src:t.url}):r("span",{className:y.default.rawEmoji},void 0,t.surrogates);return r(u.default,{align:u.default.Align.CENTER,className:y.default.content},void 0,a,r("div",{className:y.default.marginLeft8},void 0,n,t.name,n))},t}(_),I=function(e){function t(n){v(this,t);var a=g(this,e.call(this,n));return a.orientation="Horizontal",a}return E(t,e),t.prototype.renderContent=function(){var e=this.props,t=e.width,n=e.height,a=e.src;return r("img",{alt:"",src:a,width:t,height:n})},t}(_),P=function(e){function t(){return v(this,t),g(this,e.apply(this,arguments))}return E(t,e),t.prototype.renderContent=function(){var e,t=this.props,n=t.title,a=t.type,o=t.iconUrl;return r(u.default,{className:y.default.content,align:u.default.Align.CENTER},void 0,null!=o?r("img",{alt:"",className:y.default.externalIcon,src:o}):null,r(u.default.Child,{grow:1,className:(0,l.default)((e={},e[y.default.marginLeft8]=null!=o,e))},void 0,n),r(c.default,{className:y.default.description},void 0,a))},t}(_),w=function(e){function t(){return v(this,t),g(this,e.apply(this,arguments))}return E(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,a=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["children","className"]);return 0===i.Children.count(t)?null:r("div",{className:(0,l.default)(y.default.autocomplete,n)},void 0,i.createElement("div",o({className:y.default.autocompleteInner},a),t))},t}(i.PureComponent);w.Generic=b,w.Title=S,w.Divider=M,w.User=C,w.Role=A,w.Channel=T,w.Command=O,w.Emoji=N,w.GIFIntegration=I,w.LinkIntegration=P,w.displayName="Autocomplete",t.default=w,e.exports=t.default},6627:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=j(n(1)),l=x(n(3)),s=x(n(200)),u=x(n(567)),c=x(n(12)),d=x(n(241)),f=x(n(577)),p=x(n(62)),h=x(n(239)),y=x(n(23)),m=x(n(67)),v=x(n(57)),g=x(n(130)),E=x(n(37)),_=j(n(402)),b=x(n(11)),S=x(n(17)),M=n(389),C=x(n(86)),A=x(n(93)),T=n(108),O=x(n(7528)),N=x(n(374)),I=x(n(377)),P=x(n(974)),w=x(n(525)),R=n(1198),L=x(R),D=n(301),k=n(0),U=n(521);function x(e){return e&&e.__esModule?e:{default:e}}function j(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var G={spotify:"Spotify"};function B(e,t,n,a){var o=null!=a.application_id?v.default.getFirstLibraryApplication(a.application_id):null;S.default.track(k.AnalyticEvents.APPLICATION_OPENED,{type:e,source:k.AnalyticsLocations.MESSAGE_EMBED,application_id:a.application_id,party_id:null!=a.party?a.party.id:void 0,other_user_id:t,message_id:n,distributor:null!=o?o.getDistributor():null})}var F=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return V.call(a),a.handleJoin=a.handleJoin.bind(a),a.handleSpectate=a.handleSpectate.bind(a),a.handleSync=a.handleSync.bind(a),a.handleDownloadApp=a.handleDownloadApp.bind(a),a.renderUserPopout=a.renderUserPopout.bind(a),a.renderSpotifyJoinButton=a.renderSpotifyJoinButton.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getCoverImage=function(){var e=this.props,t=e.activity,n=e.connectedApplication,a=e.applicationId,o=e.coverImage,r=e.isPreview,i=e.message;if(r||null!=i&&(0,T.isInviteActive)(t,i,a)){var l=(0,T.getCoverImageFromActivity)(t,a);if(null!=l)return l}return null!=a?C.default.getApplicationIconURL({id:a,icon:null!=n?n.coverImage:o,size:k.ACTIVITY_INVITE_COVER_IMAGE_SIZE}):null},t.prototype.handleJoin=function(){var e=this.props,t=e.activity,n=e.userId,a=e.applicationId,o=e.message,r=e.channelId;null!=t&&null!=n&&null!=o&&null!=t.session_id&&null!=t.application_id&&null!=a&&(g.default.join(n,t.session_id,a,r,o.id),B(k.AnalyticsGameOpenTypes.JOIN,n,o.id,t))},t.prototype.handleSpectate=function(){var e=this.props,t=e.activity,n=e.userId,a=e.applicationId,o=e.message,r=e.channelId;null!=t&&null!=n&&null!=o&&null!=t.session_id&&null!=t.application_id&&null!=a&&(g.default.spectate(n,t.session_id,a,r,o.id),B(k.AnalyticsGameOpenTypes.SPECTATE,n,o.id,t))},t.prototype.handleSync=function(){var e=this.props,t=e.activity,n=e.userId;null!=t&&null!=n&&_.sync(t,n)},t.prototype.handleDownloadApp=function(){E.default.push(I.default,{source:"Game Invite"})},t.prototype.handleOpenSpotifyTrack=function(e){(0,D.openTrack)(e)},t.prototype.handleOpenSpotifyArtist=function(e,t,n){(0,D.openArtist)(e,t,n)},t.prototype.handleOpenSpotifyAlbum=function(e,t){(0,D.openAlbum)(e,t)},t.prototype.renderUserPopout=function(e,t){var n=this.props,a=n.channelId,o=n.guildId;return null==a?null:i.createElement(w.default,r({},t,{user:e,guildId:o,channelId:a}))},t.prototype.renderSpotifyJoinButton=function(e){var t=this.props,n=t.channelId,a=t.guildId;return i.createElement(L.default,r({type:R.SpotifyButtonTypes.EMBED_SYNC,guildId:a,channelId:n,source:"Invite Embed"},e))},t.prototype.shouldRenderCustomButton=function(){var e=this.props,t=e.application,n=e.isLaunchable;return null!=t&&null!=t.getDiscordSkuId()&&!n&&b.default.embedded},t.prototype.render=function(){return o(N.default,{section:N.default.Sections.APPLICATION_EMBED},void 0,o(U.BackgroundOpacityContext.Consumer,{},void 0,this.renderEmbed))},t}(i.PureComponent);F.defaultProps={isPreview:!1};var V=function(){var e=this;this.renderCustomButton=function(t){return i.createElement(P.default,r({},t,{source:k.AnalyticsLocations.MESSAGE_EMBED,application:e.props.application}))},this.renderEmbed=function(t){var n=e.props,a=n.activity,r=n.partyId,i=n.myPartyId,l=n.application,s=n.applicationId,u=n.name,c=n.partyMembers,d=n.isPreview,f=n.isLaunching,p=n.activityActionType,h=n.className,y=n.channelId,m=n.message,v=n.hideParty,g=n.isSyncable,E=n.isLaunchable,_=void 0;if(null!=l)_=l.name;else if(null!=u)_=u;else if(null!=r){var S=r.split(":")[0];_=G[S]}return o(O.default,{activity:a,partyId:r,myPartyId:i,applicationId:s,name:_,partyMembers:c,className:h,coverImage:e.getCoverImage(),isPreview:d,isGameLaunchable:E,isLaunching:f,activityActionType:p,isInBrowser:!b.default.embedded,isSyncable:g,channelId:y,message:m,hideParty:v,onJoin:e.handleJoin,onSpectate:e.handleSpectate,onSync:e.handleSync,onDownloadApp:e.handleDownloadApp,onOpenSpotifyTrack:e.handleOpenSpotifyTrack,onOpenSpotifyArtist:e.handleOpenSpotifyArtist,onOpenSpotifyAlbum:e.handleOpenSpotifyAlbum,renderUserPopout:e.renderUserPopout,renderSpotifyJoinButton:e.renderSpotifyJoinButton,backgroundOpacity:t.backgroundOpacity,renderCustomButton:e.shouldRenderCustomButton()?e.renderCustomButton:null})}};F.displayName="ActivityInviteEmbedContainer",t.default=l.default.connectStores([f.default,s.default,d.default,u.default,c.default,p.default,h.default,y.default,m.default,v.default],function(e){var t=e.activity,n=e.applicationId,a=e.partyId,o=e.userId,r=e.guildId,i=null!=t&&null!=t.party&&t.party.id===a?u.default.getParty(t.party.id):null,l=n?d.default.getApplicationActivity(n):d.default.findActivity(function(e){return e.type===k.ActivityTypes.LISTENING}),g=!1,E=!1;null!=n&&(g=f.default.getState(n,k.ActivityActionTypes.JOIN)===k.ActivityActionStates.LOADING,E=f.default.getState(n,k.ActivityActionTypes.SPECTATE)===k.ActivityActionStates.LOADING);var _=Array.from(i||[]).map(function(e){var t=r?p.default.getMember(r,e):null,n=null!=t?t.nick:null,a=c.default.getUser(e),o=null==a;return null==a&&(a=new A.default({discriminator:"0005"})),{user:a,unknownUser:o,nick:n}}),b=null!=t&&h.default.canPlay(t),S=h.default.getSyncingWith(),C=null!=S&&null!=o&&S.userId===o,T=b&&!C;return{partyMembers:_,connectedApplication:null!=n?s.default.getApplication(n):null,application:null!=n?y.default.getGame(n):null,myPartyId:null!=l&&null!=l.party?l.party.id:null,isLaunching:g||E,isSyncable:T,isLaunchable:null!=n&&(0,M.isLaunchable)(v.default,y.default,m.default,s.default,n)}})(F),e.exports=t.default},6628:function(e,t,n){"use strict";t.__esModule=!0;var a=i(n(3)),o=i(n(2)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var l={},s="",u="";var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getResults=function(e,t){if(null==e||null==t)return null;var n=l[e];return null!=n&&null!=n[t]?n[t]:null},t.prototype.getQuery=function(){return{integration:s,query:u}},t}(a.default.Store);t.default=new c(o.default,{INTEGRATION_QUERY:function(e){var t=e.integration,n=e.query;l[t]=l[t]||{},l[t][n]={loading:!0,results:[]}},INTEGRATION_QUERY_SUCCESS:function(e){var t=e.integration,n=e.query,a=e.results;l[t][n].loading=!1,l[t][n].results=a.map(function(e){return{type:r.ChannelTextAreaIntegrations[t].type,meta:e}}),u=n,s=t},INTEGRATION_QUERY_FAILURE:function(e){var t=e.integration,n=e.query;delete l[t][n]}}),e.exports=t.default},6691:function(e,t,n){"use strict";t.__esModule=!0;var a=i(n(2)),o=i(n(13)),r=n(0);function i(e){return e&&e.__esModule?e:{default:e}}t.default={setDiversityColor:function(e){a.default.dispatch({type:r.ActionTypes.EMOJI_DIVERSITY_COLOR_CHANGE,color:e})},fetchEmoji:function(e){a.default.maybeDispatch({type:r.ActionTypes.EMOJI_FETCH,guildId:e}),o.default.get({url:r.Endpoints.GUILD_EMOJIS(e)}).then(function(t){return a.default.dispatch({type:r.ActionTypes.EMOJI_FETCH_SUCCESS,guildId:e,emojis:t.body})},function(){return a.default.dispatch({type:r.ActionTypes.EMOJI_FETCH_FAILURE,guildId:e})})},uploadEmoji:function(e,t,n){return a.default.dispatch({type:r.ActionTypes.EMOJI_UPLOAD_START,guildId:e}),o.default.post({url:r.Endpoints.GUILD_EMOJIS(e),body:{image:t,name:n}}).then(function(){return a.default.dispatch({type:r.ActionTypes.EMOJI_UPLOAD_STOP,guildId:e})},function(t){return a.default.dispatch({type:r.ActionTypes.EMOJI_UPLOAD_STOP,guildId:e}),Promise.reject(t)})},deleteEmoji:function(e,t){a.default.dispatch({type:r.ActionTypes.EMOJI_DELETE,guildId:e,emojiId:t}),o.default.delete({url:r.Endpoints.GUILD_EMOJI(e,t)})},updateEmoji:function(e,t,n){o.default.patch({url:r.Endpoints.GUILD_EMOJI(e,t),body:{name:n}})}},e.exports=t.default},6695:function(e,t,n){"use strict";t.__esModule=!0,t.sortByMatchScore=function(e,t){if(e.score===t.score){var n=e.comparator.toLocaleLowerCase(),a=t.comparator.toLocaleLowerCase();if(n<a)return-1;if(n>a)return 1}return t.score-e.score}},6709:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=p(n(1)),r=f(n(11)),i=f(n(37)),l=f(n(6)),s=p(n(6016)),u=f(n(6087)),c=f(n(7893)),d=f(n(109));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){var t=["openFile"];e.multiple&&t.push("multiSelections");var n=e.filters,a=s.maxFileSize();d.default.fileManager.openFiles({properties:t,filters:n},a,s.makeFile).then(function(t){null!=t&&e.onChange({stopPropagation:function(){return null},preventDefault:function(){return null},currentTarget:{files:t}})},function(e){if("ETOOLARGE"!==e.code)throw e;i.default.push(u.default,{title:l.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:l.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:s.sizeString(a)})})})}var y=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.setRef=a.setRef.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.activateUploadDialogue=function(){if(this._ref)return this._ref.activateUploadDialogue()},t.prototype.setRef=function(e){this._ref=e},t.prototype.render=function(){return o.createElement(c.default,a({ref:this.setRef,handleNativeClick:h,embedded:r.default.isDesktop()},this.props))},t}(o.Component);y.displayName="FileInput",t.default=y,e.exports=t.default},6720:function(e,t,n){"use strict";t.__esModule=!0,t.fetchActivityStatistics=void 0;t.fetchActivityStatistics=(a=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.default.get({url:l.Endpoints.USER_ACTIVITY_STATISTICS});case 3:return t=e.sent,i.default.dispatch({type:l.ActionTypes.USER_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:t.body}),e.abrupt("return",t.body);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}),o=function(){var e=a.apply(this,arguments);return new Promise(function(t,n){return function a(o,r){try{var i=e[o](r),l=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(l).then(function(e){a("next",e)},function(e){a("throw",e)});t(l)}("next")})},function(){return o.apply(this,arguments)});var a,o,r=s(n(13)),i=s(n(2)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}},7453:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(282),s=n(161),u=(o=s)&&o.__esModule?o:{default:o};function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=.2,f={toValue:0,duration:1e3,delay:1e3},p=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=c(this,e.call.apply(e,[this].concat(r))),a.state={backgroundColor:new u.default.Value},a.flashNow=function(){var e=a.props.onFlashComplete;a.state.backgroundColor.setValue(d),u.default.timing(a.state.backgroundColor,f).start(e)},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.flashNow()},t.prototype.componentDidUpdate=function(e){e.sequenceId!==this.props.sequenceId&&this.flashNow()},t.prototype.render=function(){var e={backgroundColor:this.state.backgroundColor.interpolate({inputRange:[0,1],outputRange:[l.Colors.BRAND_PURPLE_TRANSPARENT,l.Colors.BRAND_PURPLE]}),borderRadius:2};return r(u.default.div,{style:e},void 0,this.props.children)},t}(i.Component);p.displayName="BackgroundFlash",t.default=p,e.exports=t.default},7454:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=c(n(6)),l=c(n(280)),s=n(0),u=c(n(5867));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=a=d(this,e.call.apply(e,[this].concat(i))),a.node=r.createRef(),a.onClickSave=function(){var e=a.props.value;a.onSubmit(e)},a.onSubmit=function(e){var t=a.props,n=t.message,o=t.channel,r=t.onConfirmDelete,i=t.onCancel,s=t.saveMessage,u=t.validateEdit;return 0===e.length?(r(o,n),i(),Promise.resolve({shouldClear:!1,shouldRefocus:!1})):u({value:e,channel:o}).then(function(t){if(!t.valid)return Promise.resolve({shouldClear:!1,shouldRefocus:!1});var n=l.default.parse(a.props.channel,e,!0);return n.content!==a.props.message.content&&s(a.props.channel.id,a.props.message.id,n),i(),Promise.resolve({shouldClear:!0,shouldRefocus:!0})})},a.onChange=function(e,t){(0,a.props.onChange)(t)},a.onKeyDown=function(e){if(e.keyCode===s.KeyboardKeys.ESCAPE&&!e.shiftKey){var t=a.props.onCancel;e.preventDefault(),t()}},a.onResize=function(){var e=a.props.onResize,t=a.node.current;e&&t instanceof HTMLElement&&e(t)},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.value,a=e.message,l=e.channel,s=e.onCancel,c=e.children;return r.createElement("div",{className:t,ref:this.node},c({value:n,message:a,channel:l,onChange:this.onChange,onSubmit:this.onSubmit,onKeyDown:this.onKeyDown,onResize:this.onResize}),o("div",{className:u.default.operations},void 0,i.default.Messages.EDIT_TEXTAREA_HELP.format({onCancel:s,onSave:this.onClickSave})))},t}(r.PureComponent);f.displayName="MessageEditor",t.default=f,e.exports=t.default},7455:function(e,t,n){"use strict";t.__esModule=!0,t.Message=t.MessageAvatar=t.ClickOverlay=t.LocalBotMessage=t.MessageUsername=void 0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.MessageTimestamp=N;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=b(n(9)),s=b(n(277)),u=b(n(224)),c=b(n(80)),d=b(n(266)),f=b(n(1015)),p=b(n(7454)),h=b(n(6617)),y=b(n(7453)),m=n(0),v=b(n(6)),g=n(86),E=n(526),_=b(n(5866));function b(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A={LATIN12:_.default.latin12CompactTimeStamp,LATIN24:_.default.latin24CompactTimeStamp,ASIAN:_.default.asianCompactTimeStamp},T=5,O=/(AM|PM)$/;function N(e){var t,n=e.isCompact,a=void 0!==n&&n,o=e.timestamp,i=e.isVisibleOnlyOnHover,s=void 0!==i&&i,u=e.isMentioned,c=e.backgroundOpacity,d=a?(0,E.dateFormat)(o,"LT"):(0,E.calendarFormat)(o),f=a?function(e){return e.match(O)?A.LATIN24:e.length<=T?A.LATIN12:A.ASIAN}(d):null;return r("time",{className:(0,l.default)(f,_.default[c+"BackgroundOpacity"],(t={},t[_.default.timestampVisibleOnHover]=s,t[_.default.timestampCozy]=!a,t[_.default.timestampCompact]=a&&!u,t[_.default.timestampCompactIsMentioned]=a&&u,t)),dateTime:o},void 0,a&&r("i",{className:_.default.separatorLeft},void 0,"["),d,a&&r("i",{className:_.default.separatorRight},void 0,"] "))}N.displayName="MessageTimestamp";var I=t.MessageUsername=function(e){function t(){var n,a;S(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=M(this,e.call.apply(e,[this].concat(r))),a.onClick=function(e){var t=a.props,n=t.message;(0,t.onClick)(e,n)},M(a,n)}return C(t,e),t.prototype.onMouseDown=function(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation())},t.prototype.render=function(){var e=this.props,t=e.message,n=e.isCompact,a=e.renderPopout,o=e.popoutPosition,i=e.onContextMenu,s=e.backgroundOpacity,d=t.colorString?{color:t.colorString}:null,p=t.author.bot?r(f.default,{className:n?_.default.botTagCompact:_.default.botTagCozy}):null;return r(u.default,{closeOnScroll:!1,render:a,position:o,shadow:!n},void 0,r("span",{onContextMenu:i,className:_.default.usernameWrapper},void 0,n?p:null,r(c.default,{tag:"span",className:(0,l.default)(_.default.username,_.default[s+"BackgroundOpacity"]),style:d,onMouseDown:this.onMouseDown,onClick:this.onClick},void 0,t.nick||t.author.toString()),n&&r("i",{className:_.default.separatorRight},void 0,": "),n?null:p))},t}(i.Component);I.defaultProps={isCompact:!1},I.displayName="MessageUsername";var P=t.LocalBotMessage=function(e){function t(){var n,a;S(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=M(this,e.call.apply(e,[this].concat(r))),a.onDeleteMessages=function(){var e=a.props,t=e.messages,n=e.channelId,o=e.onDeleteMessage;t.forEach(function(e){return o(n,e.id,!0)})},M(a,n)}return C(t,e),t.prototype.render=function(){var e=this.props.messages.length;return r("div",{className:_.default.localBotMessage},void 0,v.default.Messages.ONLY_YOU_CAN_SEE_AND_DELETE_THESE.format({count:e,handleDelete:this.onDeleteMessages}))},t}(i.Component);P.displayName="LocalBotMessage";var w=t.ClickOverlay=function(e){var t=e.onClick,n=e.label;return t&&n?r(c.default,{className:_.default.clickOverride,onClick:t,"aria-label":n}):r("div",{className:_.default.disableInteraction})},R=t.MessageAvatar=function(e){var t=e.user,n=e.isAnimated,a=e.onContextMenu,o=e.renderPopout,i=(0,g.hasAnimatedAvatar)(t),l=n&&i?t.getAvatarURL("gif"):t.getAvatarURL("jpg");return r(u.default,{closeOnScroll:!1,render:o,position:u.default.Positions.RIGHT,shadow:!1},void 0,r(d.default,{"aria-hidden":!0,src:l,size:d.default.Sizes.LARGE,className:_.default.avatar,onContextMenu:a,tabIndex:-1}))};R.displayName="MessageAvatar";var L=t.Message=function(e){function t(){var n,a;S(this,t);for(var l=arguments.length,s=Array(l),u=0;u<l;u++)s[u]=arguments[u];return n=a=M(this,e.call.apply(e,[this].concat(s))),a.setRef=function(e){var t=a.props,n=t.registerMessageDOMNode,o=t.message;e&&(a.ref=e,null!=n&&n(o.id,e))},a.onClick=function(e){var t=a.props,n=t.onManualAck,o=t.channel,r=t.message;e.altKey&&(e.preventDefault(),n(o.id,r.id))},a.onContextMenuMessage=function(e,t){var n=a.props.onContextMenuMessage,r=e.target;n(e,o({target:r},t))},a.onContextMenuUser=function(e){var t=a.props,n=t.channel,o=t.message.author;(0,t.onContextMenuUser)(e,{user:o,channel:n})},a.onClickUsername=function(e,t){var n=a.props,o=n.onClickUsername,r=n.channel;o(e,{user:t.author,channel:r})},a.onResize=function(e){var t=a.props;(0,t.onResize)({target:e,isEditing:t.isEditing})},a.renderPopoutUser=function(e){var t=a.props,n=t.renderPopoutUser,r=t.channel,i=t.message.author,l=r.getGuildId(),s=r.id;return n(o({channelId:s,guildId:l,user:i},e))},a.renderCompactHeader=function(){var e=a.props,t=e.message,n=e.isHeader,o=e.isEditing,l=e.popoutPosition,s=e.backgroundOpacity,u=o||n,c=t.mentioned,d={message:t,isCompact:!0,renderPopout:a.renderPopoutUser,popoutPosition:l,onContextMenu:a.onContextMenuUser,onClick:a.onClickUsername,backgroundOpacity:s};return r("h2",{className:_.default.headerCompact},void 0,r(N,{isVisibleOnlyOnHover:!u,isCompact:!0,timestamp:t.timestamp,isMentioned:c,backgroundOpacity:s}),i.createElement(I,d))},M(a,n)}return C(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.isEditing,a=t.message,o=t.onResize,r=t.registerMessageDOMNode,i=e.message.embeds!==a.embeds||e.message.attachments!==a.attachments||e.message.reactions.length!==a.reactions.length;this.ref&&i&&o({isEditing:n,target:this.ref});var l=e.isEditing!==n;this.ref&&l&&o({isEditing:!0,target:this.ref}),e.registerMessageDOMNode!==r&&r&&this.ref&&r(a.id,this.ref)},t.prototype.renderCompact=function(){var e=this.props,t=e.message,n=e.channel,a=e.renderAccessories,o=e.renderEditor,l=e.renderButtons,s=e.editingContent,u=e.isEditing,c=e.onCancelEditing,d=e.onChange,f=e.onConfirmDelete,y=e.saveMessage,m=e.validateEdit,v=e.disableButtons,g=e.disableMentionStyles,E=e.isDisabled;return i.createElement("div",{ref:this.setRef,className:_.default.messageCompact,"aria-disabled":E,onClick:this.onClick},u&&this.renderCompactHeader(),u&&null!=s?r(p.default,{className:_.default.messageEditorCompact,channel:n,message:t,value:s,children:o,onCancel:c,onChange:d,onConfirmDelete:f,onResize:this.onResize,saveMessage:y,validateEdit:m}):r(h.default,{className:_.default.contentCompact,channel:n,message:t,isCompact:!0,onContextMenu:this.onContextMenuMessage,renderButtons:l,renderPrefix:this.renderCompactHeader,disableButtons:v,disableMentionStyles:g}),a({message:t}))},t.prototype.renderCozy=function(){var e=this.props,t=e.message,n=e.channel,a=e.renderAccessories,o=e.renderEditor,s=e.renderButtons,u=e.isFocusedWindow,c=e.disableAvatarAnimation,d=e.editingContent,f=e.isEditing,y=e.isHeader,m=e.onCancelEditing,v=e.onChange,g=e.onConfirmDelete,E=e.saveMessage,b=e.validateEdit,S=e.popoutPosition,M=e.disableButtons,C=e.disableMentionStyles,A=e.isDisabled,T=e.cozyClassName,O=e.backgroundOpacity,P={message:t,isCompact:!1,renderPopout:this.renderPopoutUser,popoutPosition:S,onContextMenu:this.onContextMenuUser,onClick:this.onClickUsername,backgroundOpacity:O};return i.createElement("div",{ref:this.setRef,className:(0,l.default)(T,_.default.messageCozy),"aria-disabled":A,onClick:this.onClick},y?r("div",{className:_.default.headerCozy},void 0,r(R,{user:t.author,onContextMenu:this.onContextMenuUser,renderPopout:this.renderPopoutUser,isAnimated:!c&&u}),r("h2",{className:_.default.headerCozyMeta},void 0,i.createElement(I,P),r(N,{timestamp:t.timestamp,backgroundOpacity:O}))):null,r("div",{className:_.default.contentCozy},void 0,f&&null!=d?r(p.default,{channel:n,message:t,value:d,children:o,onCancel:m,onChange:v,onConfirmDelete:g,onResize:this.onResize,saveMessage:E,validateEdit:b}):r(h.default,{channel:n,message:t,isCompact:!1,onContextMenu:this.onContextMenuMessage,renderButtons:s,renderPrefix:null,disableButtons:M,disableMentionStyles:C}),a({message:t})))},t.prototype.render=function(){var e=this.props,t=e.isCompact,n=e.disableJumpFlash,a=e.jumpSequenceId,o=t?this.renderCompact():this.renderCozy();return a&&!n?r(y.default,{sequenceId:a},void 0,o):o},t}(i.Component);L.defaultProps={disableAvatarAnimation:!0,isFocusedWindow:!0},L.displayName="Message";var D=function(e){function t(){var n,a;S(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=M(this,e.call.apply(e,[this].concat(i))),a.state={disableAvatarAnimation:!0,isAnimatableAvatar:(0,g.hasAnimatedAvatar)(a.props.messages[0]&&a.props.messages[0].author)},a.onMouseEnter=function(){return a.setState({disableAvatarAnimation:!1})},a.onMouseLeave=function(){return a.setState({disableAvatarAnimation:!0})},a.renderButtonsMessage=function(e){var t=e.message,n=e.channel,o=a.props.renderButtonsMessage;return null==o?null:r("div",{className:_.default.buttonContainer},void 0,o({message:t,channel:n}))},M(a,n)}return C(t,e),t.prototype.shouldComponentUpdate=function(e,t){var n=this.props.messages;if(n.length!==e.messages.length)return!0;if(!(0,s.default)(this.props,e,["messages"])||!(0,s.default)(this.state,t))return!0;for(var a=!1,o=!1,r=!1,i=0,l=n.length;i<l;i++){var u=e.messages[i];if(!a&&u.reactions.length&&(a=!0),!o&&u.embeds.length&&(o=!0),!r&&u.attachments.length&&(r=!0),n[i]!==u)return!0}var c=this.props,d=c.disableReactionReads,f=c.disableReactionCreates,p=c.disableReactionUpdates,h=c.disableAutoPlayGif,y=c.disableEmbeds,m=c.disableManageMessages,v=c.disableDeveloperMode;return!(!a||p===e.disableReactionUpdates&&d===e.disableReactionReads)||(!(!o||h===e.disableAutoPlayGif&&y===e.disableEmbeds)||(!(!r||h===e.disableAutoPlayGif)||(f!==e.disableReactionCreates||m!==e.disableManageMessages||v!==e.disableDeveloperMode)))},t.getDerivedStateFromProps=function(e,t){var n=e.messages[0],a=n&&(0,g.hasAnimatedAvatar)(n.author);return a!==t.isAnimatableAvatar?{isAnimatableAvatar:a}:null},t.prototype.render=function(){var e,t=this,n=this.props,a=n.messages,s=n.channel,u=n.editingMessageId,c=n.renderButtonsGroup,d=n.renderSystemMessage,f=n.onClick,p=n.onDeleteMessage,h=n.disableInteraction,y=n.disableInteractionLabel,v=n.disableDivider,g=n.editingContent,E=n.isCompact,b=n.jumpMessageId,S=n.jumpSequenceId,M=n.className,C=n.backgroundOpacity,A=(n.renderButtonsMessage,n.disableReactionReads,n.disableReactionCreates,n.disableReactionUpdates,n.disableAutoPlayGif,n.disableEmbeds,n.disableManageMessages,n.disableDeveloperMode,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(n,["messages","channel","editingMessageId","renderButtonsGroup","renderSystemMessage","onClick","onDeleteMessage","disableInteraction","disableInteractionLabel","disableDivider","editingContent","isCompact","jumpMessageId","jumpSequenceId","className","backgroundOpacity","renderButtonsMessage","disableReactionReads","disableReactionCreates","disableReactionUpdates","disableAutoPlayGif","disableEmbeds","disableManageMessages","disableDeveloperMode"])),T=this.state,O=T.isAnimatableAvatar,N=T.disableAvatarAnimation,I=a[0]&&a[0].author,R=I&&I.isLocalBot(),D=null!=f||h;return r("div",{className:(0,l.default)(M,(e={},e[_.default.isLocalBot]=R,e[_.default.containerCompactBounded]=E&&null==u,e[_.default.containerCozyBounded]=!E&&null==u,e[_.default.containerCompact]=E&&null!=u,e[_.default.containerCozy]=!E&&null!=u,e)),onMouseEnter:O?this.onMouseEnter:null,onMouseLeave:O?this.onMouseLeave:null},void 0,a.map(function(e,n){if(!e)return null;if(e.type!==m.MessageTypes.DEFAULT)return r("div",{className:_.default.content},e.id,d({message:e,channel:s,renderButtons:t.renderButtonsMessage}));var a=u===e.id,l=e.id===b,f=o({},A,{isCompact:E,isEditing:a,isDisabled:D,channel:s,message:e,editingContent:g,disableAvatarAnimation:N,backgroundOpacity:C,jumpSequenceId:l?S:null,disableButtons:D||null!=c,isHeader:0===n,renderButtons:t.renderButtonsMessage});return i.createElement(L,o({},f,{key:e.id}))}),R&&r(P,{channelId:s.id,messages:a,onDeleteMessage:p}),D&&r(w,{onClick:f,label:y}),c&&c({messages:a,channel:s}),!R&&r("hr",{"aria-hidden":!0,className:(0,l.default)(v?_.default.divider:_.default.dividerEnabled,_.default[C+"BackgroundOpacity"])}))},t}(i.Component);D.defaultProps={popoutPosition:u.default.Positions.RIGHT,disableDivider:!0,disableInteraction:!1,disableReactionReads:!1,disableReactionCreates:!0,disableReactionUpdates:!0,disableAutoPlayGif:!1,disableEmbeds:!1,disableManageMessages:!0,disableDeveloperMode:!0,disableInteractionLabel:void 0},D.displayName="MessageGroup",t.default=D},7456:function(e,t,n){"use strict";t.__esModule=!0,t.MessageOptionPopout=void 0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=p(n(43)),l=n(383),s=n(0),u=p(n(6)),c=p(n(224)),d=p(n(9)),f=p(n(5868));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=t.MessageOptionPopout=function(e){function t(){var n,a;h(this,t);for(var r=arguments.length,c=Array(r),d=0;d<r;d++)c[d]=arguments[d];return n=a=y(this,e.call.apply(e,[this].concat(c))),a.handleCopyID=function(e){var t=a.props,n=t.message,o=t.onClose;(0,l.copy)(e.shiftKey?n.channel_id+"-"+n.id:n.id),o()},a.handleCopyLink=function(){var e=a.props,t=e.channel,n=e.message,o=e.onClose;(0,l.copy)(location.protocol+"//"+location.host+s.Routes.MESSAGE(t.guild_id,t.id,n.id)),o()},a.handleEdit=function(){var e=a.props,t=e.channel,n=e.message,o=e.onClose;(0,e.onStartEditMessage)(t.id,n.id,n.content),o()},a.handleRetry=function(){var e=a.props,t=e.channel,n=e.message,o=e.onClose;(0,e.onRetrySendMessage)(t,n.id,n.content,n.tts),o()},a.handleDelete=function(){var e=a.props,t=e.onDeleteMessage,n=e.onClose,o=e.onConfirmDelete;a.props.message.state===s.MessageStates.SEND_FAILED?t(a.props.channel.id,a.props.message.id,!0):o(a.props.channel,a.props.message),n()},a.handleReactions=function(){var e=a.props,t=e.onClose,n=e.message;(0,e.onShowReactionsModal)({message:n}),t()},a.handlePin=function(){var e=a.props,t=e.onConfirmPin,n=e.channel,o=e.message,r=e.onClose;t(n,o),r()},a.handleJoinNotifConfiguration=function(){var e=a.props,t=e.channel,n=e.onClose,o=e.onOpenGuildSettings,r=t.getGuildId();null!=r&&o(r,s.GuildSettingsSections.OVERVIEW),n()},a.handleUnpin=function(e){var t=a.props,n=t.onUnpinMessage,o=t.onConfirmUnpin,r=t.channel,i=t.onClose,l=t.message;e.shiftKey?n(r,l.id):o(r,l),i()},a.renderJoinNotificationOption=function(){var e=a.props,t=e.message,n=e.channel,r=e.onCanManageGuild,l=n.getGuildId();return null==l?null:t.type===s.MessageTypes.USER_JOIN&&r({guildId:l})?o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:a.handleJoinNotifConfiguration},void 0,u.default.Messages.CONFIGURE):null},y(a,n)}return m(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.currentUserId,a=void 0,c=void 0,d=void 0,p=void 0,h=void 0,y=void 0;return t.state===s.MessageStates.SEND_FAILED?a=o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleRetry,role:"menuitem"},void 0,u.default.Messages.RETRY):(this.props.canEdit&&t.author.id===n&&(c=o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleEdit,role:"menuitem"},void 0,u.default.Messages.EDIT)),this.props.canPin&&(d=!1===t.pinned?o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handlePin,role:"menuitem"},void 0,u.default.Messages.PIN):o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleUnpin,role:"menuitem"},void 0,u.default.Messages.UNPIN))),l.SUPPORTS_COPY&&this.props.developerMode&&(p=o(r.Fragment,{},void 0,o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleCopyID,role:"menuitem"},void 0,u.default.Messages.COPY_ID),o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleCopyLink,role:"menuitem"},void 0,u.default.Messages.COPY_LINK))),this.props.canDelete&&(h=o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleDelete,role:"menuitem"},void 0,u.default.Messages.DELETE)),t.reactions.length&&(y=o(i.default,{look:i.default.Looks.BLANK,size:i.default.Sizes.NONE,className:f.default.item,onClick:this.handleReactions,role:"menuitem"},void 0,u.default.Messages.REACTIONS)),o("div",{className:f.default.container,role:"menu"},void 0,d,c,a,p,h,y,this.renderJoinNotificationOption())},t}(r.PureComponent);v.displayName="MessageOptionPopout";var g=function(e){function t(){var n,a;h(this,t);for(var r=arguments.length,i=Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=a=y(this,e.call.apply(e,[this].concat(i))),a.renderOptionPopout=function(e){var t=e.onClose,n=a.props,r=n.channel,i=n.message,l=n.canDelete,s=n.canEdit,u=n.canPin,c=n.developerMode,d=n.currentUserId,f=n.onStartEditMessage,p=n.onRetrySendMessage,h=n.onDeleteMessage,y=n.onConfirmPin,m=n.onOpenGuildSettings,g=n.onUnpinMessage,E=n.onConfirmUnpin,_=n.onCanManageGuild,b=n.onConfirmDelete,S=n.onShowReactionsModal;return o(v,{channel:r,message:i,developerMode:c,canEdit:s,canPin:u,canDelete:l,onClose:t,onStartEditMessage:f,onRetrySendMessage:p,onDeleteMessage:h,onConfirmDelete:b,onConfirmPin:y,onOpenGuildSettings:m,onUnpinMessage:g,onConfirmUnpin:E,onCanManageGuild:_,onShowReactionsModal:S,currentUserId:d})},y(a,n)}return m(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.currentUserId,a=e.canDelete,r=e.canPin,i=e.developerMode,s=e.className;return t.author.isLocalBot()?null:t.author.id===n||a||r||l.SUPPORTS_COPY&&i?o(c.default,{closeOnScroll:!1,render:this.renderOptionPopout,position:c.default.Positions.BOTTOM,offsetY:-6},void 0,o("div",{className:(0,d.default)(f.default.button,s)})):null},t}(r.PureComponent);g.displayName="MessageOptionButton",t.default=g},7457:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=y(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),y(n(53))),l=y(n(66)),s=y(n(6)),u=y(n(232)),c=y(n(35)),d=n(0),f=n(541),p=y(n(273)),h=n(34);function y(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.default)({displayName:"MessageRemoveReactionsItem",mixins:[u.default,l.default],propTypes:{channel:r.default.object.isRequired,message:r.default.object.isRequired},render:function(){return this.can(d.Permissions.MANAGE_MESSAGES,this.props.channel)&&this.props.message.reactions&&this.props.message.reactions.length>0?o(c.default,{label:s.default.Messages.REMOVE_ALL_REACTIONS,action:this.handleRemoveAllReactions,danger:!0}):null},handleRemoveAllReactions:function(e){var t=this;(0,h.closeContextMenu)(),e.shiftKey?(0,f.removeAllReactions)(this.props.channel.id,this.props.message.id):p.default.show({title:s.default.Messages.REMOVE_ALL_REACTIONS_CONFIRM_TITLE,body:s.default.Messages.REMOVE_ALL_REACTIONS_CONFIRM_BODY,confirmText:s.default.Messages.YES_TEXT,cancelText:s.default.Messages.NO_TEXT,onConfirm:function(){(0,f.removeAllReactions)(t.props.channel.id,t.props.message.id)}})}});t.default=m,e.exports=t.default},7458:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=h(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),h(n(53))),l=h(n(66)),s=h(n(6)),u=h(n(232)),c=h(n(35)),d=h(n(37)),f=h(n(6242)),p=n(34);function h(e){return e&&e.__esModule?e:{default:e}}var y=(0,i.default)({displayName:"MessageReactionsItem",mixins:[u.default,l.default],propTypes:{channel:r.default.object.isRequired,message:r.default.object.isRequired},render:function(){return this.props.message.reactions&&this.props.message.reactions.length>0?o(c.default,{label:s.default.Messages.REACTIONS,action:this.handleReactions}):null},handleReactions:function(){(0,p.closeContextMenu)(),d.default.push(f.default,{message:this.props.message})}});t.default=y,e.exports=t.default},7459:function(e,t,n){e.exports=n.p+"24e5837679a970699e904d047c741540.svg"},7460:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),s(n(9))),i=s(n(80)),l=s(n(203));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t,n=e.styles,a=e.image,s=e.label,u=e.action,c=e.active,d=void 0!==c&&c,f=e.disabled,p=void 0!==f&&f,h=e.danger,y=void 0!==h&&h,m=void 0;return p||(m=function(e){return u(e,s,d)}),o(i.default,{className:(0,r.default)(l.default.item,l.default.itemImage,(t={},t[l.default.danger]=y,t)),style:n,onClick:m},void 0,o("div",{className:l.default.label},void 0,s),o("img",{alt:"",src:a}))};u.displayName="ImageMenuItem",t.default=u,e.exports=t.default},7461:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=C(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),C(n(53))),l=C(n(66)),s=C(n(6)),u=C(n(232)),c=C(n(292)),d=C(n(7460)),f=n(0),p=n(541),h=C(n(37)),y=C(n(6242)),m=n(140),v=C(n(86)),g=C(n(240)),E=C(n(238)),_=n(561),b=C(n(288)),S=C(n(30)),M=n(34);function C(e){return e&&e.__esModule?e:{default:e}}var A=(0,i.default)({displayName:"MessageAddReactionItem",mixins:[u.default,l.default],propTypes:{channel:r.default.object.isRequired,message:r.default.object.isRequired,invertChildY:r.default.bool},renderFrequentlyUsedEmojis:function(){var e=this,t=this.props.channel.getGuildId(),a=b.default.getDisambiguatedEmojiContext(t).getFrequentlyUsedEmojis().filter(function(t){return!g.default.isEmojiDisabled(t,e.props.channel)}).map(function(t){var n=void 0;n=null==t.id?g.default.getURL(t.surrogatePair):v.default.getEmojiURL({id:t.id,animated:t.animated});var a=void 0;a=null==t.id?E.default.convertSurrogateToName(t.surrogatePair):":"+t.name+":";var r=t.id||t.surrogatePair;return o(d.default,{label:a,image:n,action:function(){return e.handleAddReaction(t)}},r)});return a.push(o(d.default,{label:s.default.Messages.OTHER_REACTIONS,image:n(7459),action:this.renderEmojiPicker},"otherReactions")),a},render:function(){return S.default.renderReactions&&(this.props.channel.isPrivate()||this.can(f.Permissions.ADD_REACTIONS,this.props.channel))?o(c.default,{label:s.default.Messages.ADD_REACTION,render:this.renderFrequentlyUsedEmojis,invertChildY:this.props.invertChildY}):null},renderEmojiPicker:function(){(0,M.closeContextMenu)(),m.ComponentDispatch.dispatch(f.ComponentActions.TOGGLE_REACTION_POPOUT(this.props.message.id))},handleAddReaction:function(e){var t=this.props,n=t.channel,a=t.message;(0,p.addReaction)(n.id,a.id,(0,_.toReactionEmoji)(e)),(0,M.closeContextMenu)()},handleReactions:function(){h.default.push(y.default,{message:this.props.message})}});t.default=A,e.exports=t.default},7462:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=y(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),y(n(53))),l=y(n(66)),s=y(n(6)),u=y(n(35)),c=n(34),d=y(n(6122)),f=y(n(6121)),p=y(n(232)),h=n(0);function y(e){return e&&e.__esModule?e:{default:e}}var m=(0,i.default)({displayName:"MessagePinItem",mixins:[l.default,p.default],propTypes:{channel:r.default.object.isRequired,message:r.default.object.isRequired},render:function(){var e=this.props,t=e.channel,n=e.message;return!this.can(h.Permissions.MANAGE_MESSAGES,t)&&!t.isPrivate()||n.state===h.MessageStates.SEND_FAILED?null:!1===n.pinned?o(u.default,{action:this.handlePin,label:s.default.Messages.PIN_MESSAGE}):o(u.default,{action:this.handleUnpin,label:s.default.Messages.UNPIN_MESSAGE})},handlePin:function(e){(0,c.closeContextMenu)(),e.shiftKey?d.default.pinMessage(this.props.channel,this.props.message.id):f.default.confirmPin(this.props.channel,this.props.message)},handleUnpin:function(e){(0,c.closeContextMenu)(),e.shiftKey?d.default.unpinMessage(this.props.channel,this.props.message.id):f.default.confirmUnpin(this.props.channel,this.props.message)}});t.default=m,e.exports=t.default},7463:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(35)),s=n(34),u=d(n(141)),c=n(0);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=f(this,e.call.apply(e,[this].concat(r))),a.handleResendMessage=function(){var e=a.props,t=e.channel,n=e.message;(0,s.closeContextMenu)(),u.default.retrySendMessage(t,n.id,n.content,n.tts)},f(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return this.props.message.state===c.MessageStates.SEND_FAILED?o(l.default,{label:i.default.Messages.RESEND_MESSAGE,action:this.handleResendMessage}):null},t}(r.PureComponent);p.displayName="MessageResendItem",t.default=p,e.exports=t.default},7464:function(e,t,n){"use strict";t.__esModule=!0,t.canReportInChannel=c,t.canReportUser=d,t.canReportMessage=function(e){return null!=e&&d(e.author)&&c(e.getChannelId())};var a=n(0),o=s(n(14)),r=s(n(116)),i=s(n(18)),l=s(n(395));function s(e){return e&&e.__esModule?e:{default:e}}var u=50;function c(e){if(r.default.can(a.Permissions.MANAGE_MESSAGES,{channelId:e})){var t=i.default.getChannel(e);if(null!=t){var n=l.default.getMemberCount(t.getGuildId());return null!=n&&n>=u}}return!1}function d(e){if(null==e)return!1;var t=e.id;return o.default.getId()!==t}},7465:function(e,t,n){"use strict";t.__esModule=!0;var a,o=n(0),r=n(13),i=(a=r)&&a.__esModule?a:{default:a};t.default={report:function(e){return i.default.post({url:o.Endpoints.REPORT,body:e})},getReasons:function(e){return i.default.get({url:o.Endpoints.REPORT,query:e}).then(function(e){return e.body})}},e.exports=t.default},7466:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=m(n(6)),l=m(n(92)),s=m(n(81)),u=m(n(269)),c=m(n(267)),d=m(n(43)),f=m(n(5988)),p=m(n(946)),h=(m(n(229)),m(n(127)),m(n(93)),m(n(283)),m(n(7465))),y=n(0);function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a._isMounted=!1,a.handleReasonChange=a.handleReasonChange.bind(a),a.handleReport=a.handleReport.bind(a),a.state={loading:!0,submitting:!1,reasons:[],selectedReason:null},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this;this._isMounted=!0,h.default.getReasons(this.getReportData()).then(function(t){e._isMounted&&e.setState({reasons:t,loading:!1})})},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.close=function(){(0,this.props.onClose)()},t.prototype.renderHeader=function(){var e=this.props,t=e.guild,n=e.message,a=e.user,r=void 0;return t?r=i.default.Messages.REPORT_SERVER.format({name:t.toString()}):n?r=i.default.Messages.REPORT_MESSAGE.format({name:n.getAuthorName()}):a&&(r=i.default.Messages.REPORT_USER.format({name:a.tag})),o(l.default.Header,{},void 0,o(s.default,{tag:s.default.Tags.H4},void 0,r))},t.prototype.getReportData=function(){var e=this.props,t=e.guild,n=e.message,a=e.user,o=this.state.selectedReason,r={};return null!=n?(r.channel_id=n.getChannelId(),r.message_id=n.id):null!=a?r.user_id=a.id:null!=t&&(r.guild_id=t.id),null!=o&&(r.reason=o),r},t.prototype.renderReasons=function(){var e=this.state,t=e.loading,n=e.reasons,a=e.selectedReason;if(t)return o(p.default,{style:{height:100}});var r=n.map(function(e){var t=e.reason;return{name:e.label,desc:e.description,value:t}});return o(f.default,{value:a,onChange:this.handleReasonChange,options:r})},t.prototype.renderFooter=function(){var e=this,t=this.state,n=t.loading,a=t.selectedReason,r=t.submitting,s=n||r||null==a;return o(l.default.Footer,{},void 0,o(d.default,{type:"submit",disabled:s,submitting:r},void 0,i.default.Messages.REPORT),o(d.default,{look:d.default.Looks.LINK,color:d.default.Colors.PRIMARY,onClick:function(){return e.close()}},void 0,i.default.Messages.CANCEL))},t.prototype.render=function(){return o(l.default,{tag:"form",onSubmit:this.handleReport},void 0,this.renderHeader(),o(l.default.Content,{},void 0,o(u.default,{title:i.default.Messages.FORM_LABEL_REPORT_REASON},void 0,this.renderReasons()),o(c.default,{type:c.default.Types.DESCRIPTION},void 0,i.default.Messages.FORM_REPORT_HELP_TEXT.format({guidelinesURL:y.MarketingURLs.GUIDELINES}))),this.renderFooter())},t.prototype.handleReasonChange=function(e){var t=e.value;if("number"!=typeof t)throw new Error("Report.handleReasonChange: Invalid reason type");this.setState({selectedReason:t})},t.prototype.handleReport=function(e){var t=this;e.preventDefault(),this.setState({submitting:!0});var n=this.props.onReport;h.default.report(this.getReportData()).then(function(){n&&n(),t.close()},function(){return t.setState({submitting:!1})})},t}(r.Component);v.displayName="Report",t.default=v,e.exports=t.default},7467:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=m(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),m(n(53))),l=m(n(66)),s=m(n(6)),u=m(n(232)),c=m(n(35)),d=m(n(12)),f=n(34),p=m(n(141)),h=n(0),y=m(n(6121));function m(e){return e&&e.__esModule?e:{default:e}}var v=(0,i.default)({displayName:"MessageDeleteItem",mixins:[u.default,l.default],propTypes:{channel:r.default.object.isRequired,message:r.default.object.isRequired},render:function(){return!this.can(h.Permissions.MANAGE_MESSAGES,this.props.channel)&&this.props.message.author.id!==d.default.getCurrentUser().id||this.props.message.state===h.MessageStates.SENDING?null:o(c.default,{label:s.default.Messages.DELETE_MESSAGE,action:this.handleDeleteMessage,danger:!0})},handleDeleteMessage:function(e){var t=this.props,n=t.channel,a=t.message;(0,f.closeContextMenu)(),a.state===h.MessageStates.SEND_FAILED?p.default.deleteMessage(n.id,a.id,!0):e.shiftKey?p.default.deleteMessage(n.id,a.id):y.default.confirmDelete(n,a,!0)}});t.default=v,e.exports=t.default},7468:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(6)),l=f(n(35)),s=f(n(12)),u=n(34),c=f(n(141)),d=n(0);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=p(this,e.call.apply(e,[this].concat(r))),a.handleEditMessage=function(){(0,u.closeContextMenu)(),c.default.startEditMessage(a.props.channelId,a.props.message.id,a.props.message.content)},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props.message,t=s.default.getCurrentUser();return e.state!==d.MessageStates.SEND_FAILED&&e.author.id===t.id?o(l.default,{label:i.default.Messages.EDIT_MESSAGE,action:this.handleEditMessage}):null},t}(r.PureComponent);h.displayName="MessageEditItem",t.default=h,e.exports=t.default},7469:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=E(n(195)),l=E(n(538)),s=E(n(7468)),u=E(n(7467)),c=E(n(7463)),d=E(n(6292)),f=E(n(6291)),p=E(n(7462)),h=E(n(7461)),y=E(n(7458)),m=E(n(7457)),v=E(n(6290)),g=n(0);function E(e){return e&&e.__esModule?e:{default:e}}var _=o(d.default,{}),b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.style,n=e.type,a=e.className,r=e.channel,d=e.message,E=e.invertChildY,b=e.attachment,S=this.props.target,M=void 0,C=void 0;if(b)C=M=b.url;else for(;null!=S;)S instanceof HTMLImageElement&&null!=S.src&&(C=S.src),S instanceof HTMLAnchorElement&&null!=S.href&&(M=S.href),S=S.parentNode;var A=void 0,T=void 0,O=document.getSelection?document.getSelection():null;switch(O&&O.rangeCount>0&&(A=_,T=o(v.default,{value:O.toString()})),n){case g.ContextMenuTypes.MESSAGE_MAIN:return o("div",{className:a,style:t},void 0,o(i.default,{},void 0,A),o(i.default,{},void 0,T),o(i.default,{},void 0,o(h.default,{channel:r,message:d,invertChildY:E}),o(p.default,{channel:r,message:d}),o(c.default,{channel:r,message:d}),o(s.default,{channelId:r.id,message:d}),o(y.default,{channel:r,message:d}),o(m.default,{channel:r,message:d}),o(u.default,{channel:r,message:d})),o(f.default,{href:M,src:C}),o(l.default,{id:d.id,shiftId:d.channel_id+"-"+d.id}));case g.ContextMenuTypes.MESSAGE_SYSTEM:return o("div",{className:a,style:t},void 0,o(i.default,{},void 0,A),o(i.default,{},void 0,T),o(i.default,{},void 0,o(u.default,{channel:r,message:d})),o(f.default,{href:M,src:C}),o(l.default,{id:d.id}));default:return null}},t}(r.PureComponent);b.displayName="MessageContextMenu",t.default=b,e.exports=t.default},7470:function(e,t,n){"use strict";var a,o=n(5);(a=o)&&a.__esModule,n(0)},7471:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=I(n(9)),u=I(n(3)),c=n(225),d=I(n(226)),f=I(n(941)),p=n(278),h=n(227),y=I(n(166)),m=n(140),v=I(n(6244)),g=I(n(57)),E=I(n(932)),_=I(n(23)),b=I(n(6614)),S=I(n(6048)),M=I(n(974)),C=I(n(374)),A=I(n(43)),T=(I(n(527)),I(n(964)),I(n(6))),O=n(0);n(556);var N=I(n(5872));function I(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),l=0;l<o;l++)i[l]=arguments[l];return n=a=P(this,e.call.apply(e,[this].concat(i))),a.state={playing:!1,muted:!0},a.handleToggleMute=function(){a.setState({muted:!a.state.muted})},a.handleMouseEnter=function(){a.setState({playing:!0})},a.handleMouseLeave=function(){a.setState({playing:!1})},a.getStoreListingLocation=function(){var e=a.props.sku;if(null==e)throw new Error("Should not be link to ApplicationDirectoryTile without SKU");return(0,h.getStoreListingLocation)(e.id,{slug:e.slug,analyticsSource:a.analyticsLocation})},a.handleActionButtonClick=function(e){return e.preventDefault()},a.handleBuyButtonClick=function(e){return e.preventDefault()},a.renderActions=function(e){var t=a.props,n=t.inLibrary,o=t.application,i=t.skuId,l=t.libraryApplication;if(null==o)return null;var s=null!=o&&o.getDiscordSkuId()===i,u=null!=l&&l.hasFlag(O.LibraryApplicationFlags.HIDDEN);return r("div",{className:N.default.tileActions},void 0,!s||u?a.renderViewInStoreButton():r(M.default,{application:o,customDisabledColor:A.default.Colors.GREY,size:A.default.Sizes.SMALL,className:N.default.actionButton,onClick:a.handleActionButtonClick}),n&&!u||e.premium?null:r(S.default,{type:S.default.Types.EMBED,sku:e,inLibrary:!1}))},P(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.sku,n=e.skuId;null==t&&(0,p.fetchStoreListingForSku)(n),m.ComponentDispatch.dispatch(O.ComponentActions.CHAT_RESIZE)},t.prototype.renderViewInStoreButton=function(){return r(A.default.Link,{to:this.getStoreListingLocation(),className:N.default.actionButton,color:A.default.Colors.GREEN,size:A.default.Sizes.SMALL},void 0,T.default.Messages.GAME_ACTION_BUTTON_VIEW_IN_STORE)},t.prototype.renderLoading=function(){var e,t,n,a,o=this.props.width>660;return r("div",{className:(0,s.default)(N.default.loadingContainer,(e={},e[N.default.loadingContainerHorizontal]=o,e))},void 0,r("div",{className:(0,s.default)(N.default.loadingImage,(t={},t[N.default.loadingImageHorizontal]=o,t))}),r("div",{className:(0,s.default)(N.default.loadingDescription,(n={},n[N.default.loadingDescriptionHorizontal]=o,n))},void 0,r("div",{className:(0,s.default)(N.default.loadingBackgroundWrapper,(a={},a[N.default.loadingBackgroundWrapperHorizontal]=o,a))},void 0,r("div",{className:N.default.loadingBackground}))))},t.prototype.render=function(){var e,t=this.props,n=t.sku,a=t.storeListing,o=t.inLibrary,i=t.width,l=t.fetchFailed,u=t.renderFallback,d=this.state,f=d.playing,p=d.muted;if(null==n||null==a)return l?u():this.renderLoading();var h=i>660;return r(C.default,{section:O.AnalyticsSections.APPLICATION_EMBED},void 0,r(c.Link,{to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},void 0,r(b.default,{className:(0,s.default)((e={},e[N.default.verticalTile]=!h,e[N.default.horizontalTile]=h,e)),sku:n,storeListing:a,playing:f,muted:p,inLibrary:o,onToggleMute:this.handleToggleMute,customActions:this.renderActions(n),isHorizontal:h})))},i(t,[{key:"analyticsLocation",get:function(){var e=this.props.analyticsContext.location;return o({},e,{section:O.AnalyticsSections.APPLICATION_EMBED,object:O.AnalyticsObjects.CARD})}}]),t}(l.Component);w.displayName="StoreEmbed",t.default=u.default.connectStores([y.default,v.default,g.default,E.default,_.default],function(e){var t=e.skuId,n=y.default.get(t);return{sku:n,application:null!=n?_.default.getGame(n.applicationId):null,fetchFailed:y.default.didFetchingSkuFail(t),inLibrary:null!=n&&g.default.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?E.default.getForSKU(n.id):null,libraryApplication:null!=n?g.default.getFirstLibraryApplication(n.applicationId):null}})((0,f.default)((0,d.default)(w))),e.exports=t.default},7472:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),c(n(3))),i=c(n(6627)),l=c(n(87)),s=n(0),u=c(n(5878));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.channel,n=e.message,a=e.activity,r=e.hideParty;return o(i.default,{className:u.default.container,activity:a,activityActionType:n.activity.type,partyId:n.activity.party_id,userId:n.author.id,applicationId:null!=n.application?n.application.id:void 0,name:null!=n.application?n.application.name:void 0,coverImage:null!=n.application?n.application.cover_image:void 0,message:n,channelId:t.id,guildId:t.getGuildId(),hideParty:r})};d.displayName="MessageActivityInvite",t.default=r.default.connectStores([l.default],function(e){var t=e.message;return{activity:null!=t.application?l.default.getApplicationActivity(t.author.id,t.application.id):l.default.findActivity(t.author.id,function(e){return e.type===s.ActivityTypes.LISTENING})}})(d),e.exports=t.default},7473:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=E(n(6)),s=E(n(81)),u=E(n(29)),c=E(n(71)),d=E(n(59)),f=E(n(266)),p=E(n(5991)),h=E(n(43)),y=n(6032),m=n(107),v=E(n(5573)),g=E(n(5548));function E(e){return e&&e.__esModule?e:{default:e}}var _=function(e){var t=e.text;return r(s.default,{className:v.default.header},void 0,t)};_.displayName="InviteHeader";var b=function(e){var t=e.resolving,n=e.children;return r("div",{className:v.default.content},void 0,t?r("div",{className:v.default.resolving},void 0,r("div",{className:v.default.resolvingBackground})):n)};b.displayName="InviteBody";var S=function(e){var t=e.title,n=e.onClick,a=e.expired,o=e.children;return r(u.default,{className:v.default.guildInfo,direction:u.default.Direction.VERTICAL,justify:u.default.Justify.CENTER},void 0,r(c.default,{onClick:n,weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.MEDIUM,className:(0,m.getClass)(v.default,"guildName",a?"Expired":null!=n?"Joined":"")},void 0,t),r(c.default,{weight:c.default.Weights.SEMIBOLD,size:c.default.Sizes.SMALL,className:v.default.guildDetail},void 0,r(u.default,{grow:0,align:u.default.Align.CENTER},void 0,o)))};S.displayName="InviteInfo";var M=function(e){e.className,e.size;var t=e.checkmark,n=e.children,a=e.onClick,l=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["className","size","checkmark","children","onClick"]);return i.createElement(h.default,o({},l,{onClick:a,look:t?h.default.Looks.OUTLINED:h.default.Looks.FILLED,size:v.default.buttonSize,className:v.default.button,innerClassName:v.default.buttonInner}),r("div",{className:v.default.buttonContent},void 0,n),t?r(d.default,{name:d.default.Names.CHECKMARK,className:v.default.buttonIcon,width:18,height:18}):null)};M.displayName="InviteActionButton",M.Colors=h.default.Colors,M.Looks=h.default.Looks,M.defaultProps={checkmark:!1};var C=function(e){var t=e.children;return r("div",{className:v.default.wrapper},void 0,t)};C.displayName="InviteButton",C.Header=_,C.Body=b,C.Icon=function(e){var t=e.guild,n=e.channel,a=e.onClick,o=e.expired;if(void 0!==o&&o||null==t&&null==n)return r("div",{className:v.default.guildIconExpired});var i=null==t||null!=t.icon,l=(0,m.getClass)(v.default,"guildIcon",i?"Image":"",null!=a?"Joined":"");return null!=t?r(p.default,{onClick:a,active:!0,size:p.default.Sizes.LARGE,guild:t,className:l}):null!=n?r(f.default,{onClick:a,src:n.getIconURL(),className:l,imageClassName:g.default.iconSizeLarge}):null},C.Info=S,C.Data=function(e){var t=e.membersOnline,n=e.members,a=[];return null!=t&&t>0&&a.push(r(i.Fragment,{},"onlineCount",r("i",{className:v.default.statusOnline}),r("span",{className:v.default.onlineCount},void 0,l.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_ONLINE.format({membersOnline:t})))),null!=n&&a.push(r(i.Fragment,{},"memberCount",r("i",{className:v.default.statusOffline}),r("span",{},void 0,l.default.Messages.INSTANT_INVITE_GUILD_MEMBERS_TOTAL.format({count:n})))),a},C.Channel=function(e){var t=e.channel,n=(0,y.getIconNameForChannel)(t);return null==t||null==n?null:[r(d.default,{name:n},"channel-icon"),r("span",{className:v.default.channelName},"channel-name",t.name)]},C.Button=M,t.default=C,e.exports=t.default},7474:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=C(n(6)),l=C(n(3)),s=C(n(9)),u=C(n(274)),c=C(n(18)),d=C(n(6008)),f=C(n(27)),p=C(n(12)),h=C(n(65)),y=C(n(126)),m=n(521),v=C(n(7473)),g=C(n(5573)),E=C(n(127)),_=C(n(229)),b=C(n(972)),S=n(140),M=n(0);function C(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=o(v.default.Body,{resolving:!0}),O=o(v.default.Icon,{expired:!0}),N=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=A(this,e.call.apply(e,[this].concat(r))),a.handleAcceptInstantInvite=function(e){var t=a.props,n=t.code,o=t.getAcceptInviteContext;u.default.acceptInvite(n,o("Invite Button Embed"),function(){a.handleTransitionToInviteChannel(e)})},a.handleTransitionToInviteChannel=function(e){var t=a.props.invite;null!=t.channel&&u.default.transitionToInviteChannelSync(t.channel.id)},a.handleMentionInviter=function(){var e=a.props,t=e.author,n=e.selectedChannelId,o=t.username,r=t.discriminator,i="@"+o;y.default.hidePersonalInformation||(i+="#"+r),S.ComponentDispatch.dispatchToLastSubscribed(M.ComponentActions.INSERT_TEXT,{content:i}),null!=n&&b.default.typing(n)},A(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderResolving=function(){return o(v.default,{},void 0,o(v.default.Header,{text:i.default.Messages.INVITE_BUTTON_RESOLVING}),T)},t.prototype.renderExpired=function(){var e=this.props,t=e.currentUserId,n=e.author,a=void 0,r=void 0,l=void 0;return t===n.id?(a=i.default.Messages.INVITE_BUTTON_INVALID_OWNER,l=i.default.Messages.INVITE_BUTTON_TITLE_INVITER_INVALID):(l=i.default.Messages.INVITE_BUTTON_TITLE_INVITED_INVALID,n&&n.username?(a=i.default.Messages.INSTANT_INVITE_ASK_USER_FOR_NEW_INVITE.format({username:n.username}),r=o(v.default.Button,{onClick:this.handleMentionInviter},void 0,i.default.Messages.MENTION)):a=i.default.Messages.INSTANT_INVITE_ASK_FOR_NEW_INVITE),o(v.default,{},void 0,o(v.default.Header,{text:l}),o(v.default.Body,{},void 0,O,o(v.default.Info,{expired:!0,title:i.default.Messages.INVITE_BUTTON_INVALID},void 0,a),r))},t.prototype.renderStandard=function(){var e=this.props,t=e.invite,n=e.author,a=e.currentUserId===n.id,r=t.channel,l=t.approximate_member_count,s=t.approximate_presence_count,u=t.state===M.InviteStates.ACCEPTING,c=null!=r?new E.default(r):null,d=this.props.guild,f=null!=d;if(null==d){if(null==t.guild)return this.renderResolving();d=new _.default(t.guild)}var p=void 0;null!=c&&c.type===M.ChannelTypes.GUILD_VOICE?p=o(v.default.Channel,{channel:c}):null!=l&&l>=5||null!=s&&s>0?p=o(v.default.Data,{members:l,membersOnline:s}):null!=c&&(p=o(v.default.Channel,{channel:c}));var h=f?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,y=i.default.Messages.JOIN_SERVER,m=v.default.Button.Colors.GREEN;f&&(y=i.default.Messages.JOINED_SERVER,m=v.default.Button.Colors.PRIMARY);var g=i.default.Messages.INVITE_BUTTON_TITLE_INVITED;return a&&(g=i.default.Messages.INVITE_BUTTON_TITLE_INVITER),o(v.default,{},void 0,o(v.default.Header,{text:g}),o(v.default.Body,{},void 0,o(v.default.Icon,{guild:d,onClick:f?h:null}),o(v.default.Info,{title:d.name,onClick:f?h:null},void 0,p),o(v.default.Button,{onClick:h,submitting:u,checkmark:f,color:m},void 0,y)))},t.prototype.renderGroupDM=function(){var e=this.props,t=e.invite,n=e.author,a=e.currentUserId===n.id,r=t.state===M.InviteStates.ACCEPTING,l=this.props.channel,s=null!=l,u=void 0;if(null==l){if(null==t.channel)return this.renderResolving();l=new E.default(t.channel),u=null!=t.channel&&null!=t.channel.recipients?t.channel.recipients:[]}else u=l.recipients.reduce(function(e,t){var n=p.default.getUser(t);return null!=n&&e.push(n),e},[]),s&&u.push(p.default.getCurrentUser());var c=l.name;c||(c=u.length>0?u.filter(function(e){return null!=e}).map(function(e){return e.username}).join(", "):i.default.Messages.UNNAMED);var d=s?this.handleTransitionToInviteChannel:this.handleAcceptInstantInvite,f=i.default.Messages.JOIN_SERVER,h=v.default.Button.Colors.GREEN;s&&(f=i.default.Messages.JOINED_SERVER,h=v.default.Button.Colors.PRIMARY);var y=i.default.Messages.INVITE_BUTTON_TITLE_INVITED_GROUP_DM;return a&&(y=i.default.Messages.INVITE_BUTTON_TITLE_INVITER_GROUP_DM),o(v.default,{},void 0,o(v.default.Header,{text:y}),o(v.default.Body,{},void 0,o(v.default.Icon,{channel:l,onClick:s?d:null}),o(v.default.Info,{title:c,onClick:s?d:null},void 0,o(v.default.Data,{members:u.length})),o(v.default.Button,{onClick:d,submitting:r,checkmark:s,color:h},void 0,f)))},t.prototype.renderBody=function(){var e=this.props.invite;if(null==e)throw new Error("[InviteButton] Received null invite object");switch(e.state){case M.InviteStates.RESOLVING:return this.renderResolving();case M.InviteStates.EXPIRED:return this.renderExpired();default:return null!=e.channel&&e.channel.type===M.ChannelTypes.GROUP_DM?this.renderGroupDM():this.renderStandard()}},t.prototype.render=function(){var e=this;return o(m.BackgroundOpacityContext.Consumer,{},void 0,function(t){var n=t.backgroundOpacity;return n?o("div",{className:(0,s.default)(g.default[n+"BackgroundOpacity"])},void 0,e.renderBody()):e.renderBody()})},t}(r.PureComponent);N.defaultProps={invite:{state:M.InviteStates.RESOLVING,code:""}},N.displayName="InviteButton",t.default=l.default.connectStores([d.default,f.default],function(e){var t=e.code,n=d.default.getInvite(t);return{invite:n,guild:null!=n&&null!=n.guild?f.default.getGuild(n.guild.id):null,channel:null!=n&&null!=n.channel?c.default.getChannel(n.channel.id):null,selectedChannelId:h.default.getChannelId(),currentUserId:p.default.getCurrentUser().id}})(N),e.exports=t.default},7475:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(6)),s=n(0),u=c(n(967));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=d(this,e.call.apply(e,[this].concat(r))),a.videoRef=i.createRef(),d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidUpdate=function(e){if(e.play!==this.props.play){var t=this.videoRef.current;t instanceof HTMLVideoElement&&(this.props.play?t.play():t.pause())}},t.prototype.render=function(){var e=this.props,t=e.poster,n=e.src,a=e.width,o=e.height,l=e.naturalWidth,u=e.naturalHeight,c=e.play;return l<=s.MAX_VIDEO_WIDTH&&u<=s.MAX_VIDEO_HEIGHT||l<=s.MAX_VIDEO_HEIGHT&&u<=s.MAX_VIDEO_WIDTH?i.createElement("video",{ref:this.videoRef,poster:t,src:n,width:a,height:o,muted:!0,loop:!0,autoPlay:c,preload:"none"}):r("img",{alt:"",src:t,width:a,height:o})},t}(i.Component);f.defaultProps={play:!1},f.displayName="Video";var p=function(e){var t=e.src,n=e.poster,a=e.naturalWidth,s=e.naturalHeight,c=e.autoPlay,d=e.ImageComponent,p=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["src","poster","naturalWidth","naturalHeight","autoPlay","ImageComponent"]),h=d||u.default;return i.createElement(h,o({alt:l.default.Messages.GIF,src:n,autoPlay:c},p,{animated:!0}),function(e){var n=e.src,o=e.size,i=e.animating;return r(f,{poster:n,src:t,width:o.width,height:o.height,naturalWidth:a,naturalHeight:s,play:i})})};p.displayName="LazyGIFV",t.default=p,e.exports=t.default},7476:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=s(n(236)),i=s(n(11)),l=s(n(163));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=a=u(this,e.call.apply(e,[this].concat(l))),a.openHref=function(){var e=a.props.href;if(i.default.embedded)window.open(e);else{var t=window.open();t.opener=null,t.location=e,t.target="_blank"}},a.onClick=function(e){var t=a.props,n=t.href,o=t.isTrusted,i=t.onClickUntrusted;null!=r.default.sanitizeUrl(n)?o||(e.preventDefault(),i({openHref:a.openHref})):e.preventDefault()},u(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=void 0===t?null:t,i=e.children,s=e.href,u=(e.onClickUntrusted,e.isTrusted,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["title","children","href","onClickUntrusted","isTrusted"])),c=r.default.sanitizeUrl(s);return o.createElement(l.default,a({},u,{title:n,target:"_blank",rel:"noreferrer noopener",href:c,onClick:this.onClick}),i||n)},t}(o.PureComponent);c.displayName="MaskedLink",t.default=c,e.exports=t.default},7477:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(6)),l=d(n(967)),s=d(n(5879)),u=n(400),c=d(n(7476));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.original,a=e.placeholder,d=e.width,f=e.height,p=e.animated,h=e.children,y=e.isTrusted,m=e.onClickUntrusted,v=(e.maxWidth,e.maxHeight,e.shouldAnimate,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(e,["src","original","placeholder","width","height","animated","children","isTrusted","onClickUntrusted","maxWidth","maxHeight","shouldAnimate"])),g=(0,u.zoomFit)(d,f),E=g.width,_=g.height;return r.createElement("div",v,o(l.default,{src:t,placeholder:a,shouldLink:!1,width:d,height:f,maxWidth:E,maxHeight:_,children:h,animated:p,autoPlay:!0}),null!=n&&o(c.default,{href:n,className:s.default.downloadLink,isTrusted:y,onClickUntrusted:m},void 0,i.default.Messages.OPEN_ORIGINAL_IMAGE))},t}(r.PureComponent);f.displayName="ImageModal",t.default=f,e.exports=t.default},7478:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),r=h(n(37)),i=h(n(6)),l=h(n(967)),s=h(n(7477)),u=n(400),c=h(n(273)),d=h(n(1183)),f=h(n(128)),p=n(1182);function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var h=arguments.length,m=Array(h),v=0;v<h;v++)m[v]=arguments[v];return n=l=y(this,e.call.apply(e,[this].concat(m))),l._isListeningToWindow=!1,l.state={isWindowFocused:f.default.isFocused()},l.addWindowListeners=function(){l._isListeningToWindow=!0,f.default.addChangeListener(l.onChangeWindowStore),l.onChangeWindowStore()},l.removeWindowListeners=function(){l._isListeningToWindow=!1,f.default.removeChangeListener(l.onChangeWindowStore)},l.onChangeWindowStore=function(){var e=f.default.isFocused();e!==l.state.isWindowFocused&&l.setState({isWindowFocused:e})},l.onMouseEnter=function(e,t){var n=t.preloadImage,a=l.props,o=a.width,r=a.height;n((0,u.zoomFit)(o,r))},l.onClickUntrusted=function(e){var t=e.openHref,n=l.props,a=n.original,o=n.src,r=a||o;c.default.show({title:i.default.Messages.HOLD_UP,body:i.default.Messages.MASKED_LINK_BODY.format({url:r}),cancelText:i.default.Messages.MASKED_LINK_CANCEL,confirmText:i.default.Messages.MASKED_LINK_CONFIRM,minorText:i.default.Messages.MASKED_LINK_TRUST_THIS_DOMAIN,onConfirm:t,onConfirmSecondary:function(){(0,p.trustDomain)(r),t()}})},l.onZoom=function(e,t){var n=t.placeholder;e.preventDefault();var i=l.props,u=i.src,c=i.original,f=i.width,p=i.height,h=i.animated,y=i.children,m=c||u,v={src:u,original:c||u,width:f,height:p,animated:h,children:y,placeholder:n,isTrusted:d.default.isTrusted(m),onClickUntrusted:l.onClickUntrusted};r.default.push(function(e){return o.createElement(s.default,a({},v,e,{shouldAnimate:l.state.isWindowFocused}))})},y(l,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){l.default.isAnimated(this.props)&&!this._isListeningToWindow&&this.addWindowListeners()},t.prototype.componentDidUpdate=function(){var e=l.default.isAnimated(this.props);e&&!this._isListeningToWindow?this.addWindowListeners():!e&&this._isListeningToWindow&&this.removeWindowListeners()},t.prototype.componentWillUnmount=function(){this._isListeningToWindow&&this.removeWindowListeners()},t.prototype.render=function(){return o.createElement(l.default,a({},this.props,{onZoom:this.onZoom,onMouseEnter:this.onMouseEnter,shouldAnimate:this.state.isWindowFocused}))},t}(o.PureComponent);m.defaultProps={alt:"",shouldLink:!0,autoPlay:!1,animated:!1},m.displayName="LazyImageZoomable",t.default=m,e.exports=t.default},7479:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=n(6016),s=n(6247),u=(o=s)&&o.__esModule?o:{default:o};var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.fileSize,a=e.fileName;return r(u.default,{src:t,fileName:a,fileSize:(0,l.sizeString)(n),type:u.default.Types.AUDIO})},t}(i.PureComponent);c.displayName="LazyAudio",t.default=c,e.exports=t.default},7480:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(9)),s=c(n(161)),u=c(n(5881));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f={friction:14,tension:200},p={DURATION:"DURATION",VOLUME:"VOLUME"};function h(e){var t=(e|=0)%60;return(e-t)/60+":"+String(t).padStart(2,"0")}var y=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=d(this,e.call.apply(e,[this].concat(r))),a.state={animatedProgress:new s.default.Value(0),dragging:!1,offsetLeft:0,offsetWidth:0,previewWidth:new s.default.Value(0)},a.handlePreviewChange=function(){var e=a,t=e.bubble,n=e.state,o=n.dragging,r=n.previewWidth,i=e.props.value;o||null==t||(t.innerHTML=h(r._value*i))},a.handleAnimatedChange=function(){var e=a,t=e.bubble,n=e.state,o=n.dragging,r=n.animatedProgress,i=e.props.value;o&&null!=t&&(t.innerHTML=h(r._value*i))},a.handleMouseMove=function(e){var t=a.state,n=t.dragging,o=t.previewWidth;if(!n){var r=e.clientX,i=e.clientY;o.setValue(a.calculatePercentage(r,i))}},a.handleDragMove=function(e){var t=a.props,n=t.onDrag,o=t.type,r=e.clientX,i=e.clientY;n(a.calculatePercentage(r,i),o)},a.handleDragStart=function(e){var t=a.props,n=t.onDragStart,o=t.onDrag,r=t.type,i=e.clientX,l=e.clientY;if(e.preventDefault(),null!=a.wrapper){var s=a.wrapper.getBoundingClientRect(),u=s.left,c=s.width;a.setState({dragging:!0,offsetLeft:u,offsetWidth:c},function(){n(r),o(a.calculatePercentage(i,l),r),window.addEventListener("mouseup",a.handleDragEnd,!1),window.addEventListener("mousemove",a.handleDragMove,!1)})}},a.handleDragEnd=function(){(0,a.props.onDragEnd)(),window.removeEventListener("mouseup",a.handleDragEnd,!1),window.removeEventListener("mousemove",a.handleDragMove,!1),a.setState({dragging:!1})},a.setBubbleRef=function(e){null==e?a.bubble=null:null!=e.componentRef?a.bubble=e.componentRef:null!=e.refs&&(a.bubble=e.refs.node)},d(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillMount=function(){var e=this.state,t=e.previewWidth,n=e.animatedProgress;t.addListener(this.handlePreviewChange),n.addListener(this.handleAnimatedChange)},t.prototype.componentWillUnmount=function(){var e=this.state,t=e.previewWidth,n=e.animatedProgress;t.removeListener(this.handlePreviewChange),n.removeListener(this.handleAnimatedChange),window.removeEventListener("mouseup",this.handleDragEnd,!1),window.removeEventListener("mousemove",this.handleDragMove,!1)},t.prototype.componentDidUpdate=function(e,t){var n=this.state,a=n.dragging,o=n.previewWidth,r=n.animatedProgress;!a&&t.dragging&&o.setValue(r._value)},t.prototype.setGrabber=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.state.animatedProgress;t?s.default.spring(n,r({toValue:e},f)).start():n.setValue(e)},t.prototype.calculatePercentage=function(e,t){var n=this.wrapper,a=this.props.type;if(null==n)return 0;var o=n.getBoundingClientRect(),r=o.left,i=o.width,l=o.bottom,s=o.height,u=a===p.VOLUME?(l-t)/s:(e-r)/i;return Math.min(1,Math.max(0,u))},t.prototype.render=function(){var e=this,t=this.props,n=t.buffers,a=t.type,r=this.state,c=r.dragging,d=r.previewWidth,f=r.animatedProgress,h=c?f:d;return o("div",{className:a===p.VOLUME?u.default.vertical:u.default.horizontal},void 0,i.createElement("div",{className:(0,l.default)(c?u.default.mediaBarInteractionDragging:u.default.mediaBarInteraction,a===p.VOLUME?u.default.mediaBarInteractionVolume:null),onMouseDown:this.handleDragStart,onMouseMove:this.handleMouseMove,ref:function(t){return e.wrapper=t}},o("div",{className:(0,l.default)(u.default.mediaBarWrapper,a===p.VOLUME?u.default.mediaBarWrapperVolume:null)},void 0,null!=n?n.map(function(e,t){var n=e[0],a=e[1];return o("div",{className:u.default.buffer,style:{width:100*a+"%",left:100*n+"%"}},t)}):null,a===p.DURATION?o(s.default.div,{className:u.default.mediaBarPreview,style:{width:d.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null,o(s.default.div,{className:u.default.mediaBarProgress,style:{width:f.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}},void 0,o("span",{className:u.default.mediaBarGrabber})),a===p.DURATION?i.createElement(s.default.div,{ref:this.setBubbleRef,className:u.default.bubble,style:{left:h.interpolate({inputRange:[0,1],outputRange:["0%","100%"]})}}):null)))},t}(i.Component);y.Types=p,y.displayName="MediaBar",t.default=y,e.exports=t.default},7481:function(e,t,n){e.exports=n.p+"a11e895b46cde503a094dd31641060a6.svg"},7482:function(e,t,n){e.exports=n.p+"83a157e8720aa50957c4338e10d01c80.svg"},7483:function(e,t,n){e.exports=n.p+"985ea67d2edab4424c62009886f12e44.svg"},7484:function(e,t,n){e.exports=n.p+"85f7a4063578f6e0e2c73f60bca0fcce.svg"},7485:function(e,t,n){e.exports=n.p+"f812168e543235a62b9f6deb2b094948.svg"},7486:function(e,t,n){e.exports=n.p+"a236ab3be009cf5fbbbae4d7a7437804.svg"},7487:function(e,t,n){e.exports=n.p+"9f358f466473586417baee7bacfba5ca.svg"},7488:function(e,t,n){e.exports=n.p+"481aa700fab464f2332ca9b5f4eb6ba4.svg"},7489:function(e,t,n){e.exports=n.p+"5b0da31dc2b00717c1e35fb1f84f9b9b.svg"},7490:function(e,t,n){e.exports=n.p+"73d212e3701483c36a4660b28ac15b62.svg"},7491:function(e,t,n){e.exports=n.p+"03ad68e1f4d47f2671d629cfeac048ef.svg"},7492:function(e,t,n){e.exports=n.p+"982bd8aedd89b0607f492d1175b3b3a5.svg"},7493:function(e,t,n){e.exports=n.p+"f167b4196f02faf2dc2e7eb266a24275.svg"},7494:function(e,t,n){var a={"./icon-file-small-acrobat.svg":7493,"./icon-file-small-ae.svg":7492,"./icon-file-small-ai.svg":7491,"./icon-file-small-archive.svg":7490,"./icon-file-small-audio.svg":7489,"./icon-file-small-code.svg":7488,"./icon-file-small-document.svg":7487,"./icon-file-small-ps.svg":7486,"./icon-file-small-sketch.svg":7485,"./icon-file-small-spreadsheet.svg":7484,"./icon-file-small-unknown.svg":7483,"./icon-file-small-video.svg":7482,"./icon-file-small-webcode.svg":7481};function o(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=7494},7495:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),u(n(6615))),i=u(n(967)),l=u(n(6125)),s=u(n(7479));function u(e){return e&&e.__esModule?e:{default:e}}var c=/\.(png|jpe?g|webp|gif)$/i,d=/\.(mp4|webm|mov)$/i,f=/\.(mp3|ogg|wav|flac)$/i,p=function(e){var t=e.attachment,n=e.inlineMedia,a=e.autoPlayGif,u=e.onClick,p=e.onContextMenu,h=e.ImageComponent,y=t.filename,m=t.width,v=t.height;if(n&&null!=m&&m>0&&null!=v&&v>0){if(c.test(y)){var g=h||i.default;return o(g,{src:t.proxy_url||t.url,original:t.url,width:m,height:v,autoPlay:a,onClick:u,onContextMenu:p})}if(d.test(y)&&null!=t.proxy_url)return o(l.default,{poster:t.proxy_url+"?format=jpeg",fileSize:t.size,fileName:t.filename,src:t.url,width:m,height:v,onClick:u,onContextMenu:p,naturalWidth:m,naturalHeight:v})}else if(null!=n&&f.test(y)&&null!=t.url)return o(s.default,{fileSize:t.size,fileName:t.filename,src:t.url});return o(r.default,{url:t.url,filename:t.filename,size:t.size,onClick:u,onContextMenu:p})};p.displayName="MessageAttachment",t.default=p,e.exports=t.default},7496:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=b(n(9)),s=b(n(131)),u=b(n(975)),c=b(n(7495)),d=b(n(7478)),f=b(n(6125)),p=b(n(7475)),h=b(n(1184)),y=b(n(7474)),m=b(n(6616)),v=b(n(7472)),g=b(n(7471)),E=n(0),_=b(n(5871));function b(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(7470);var M=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),s=0;s<o;s++)l[s]=arguments[s];return n=a=S(this,e.call.apply(e,[this].concat(l))),a.getAcceptInviteContext=function(e){var t=a.props,n=t.channel,o=t.message;return{location:e,location_guild_id:n.getGuildId(),location_channel_id:n.id,location_channel_type:n.type,location_message_id:o.id}},a.renderEmbed=function(e,t){var n=a.props,o=n.disableAutoPlayGif,l=n.inlineEmbedMedia,s=n.backgroundOpacity;return i.createElement(u.default,r({key:e.id,embed:e,autoPlayGif:!o,hideMedia:!l},t,{backgroundOpacity:s}))},S(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderInvites=function(e){var t=this;return e.invites.length?e.invites.map(function(n){return o(y.default,{code:n,author:e.author,getAcceptInviteContext:t.getAcceptInviteContext},n)}):null},t.prototype.renderReactions=function(e){var t=this.props,n=t.disableReactionCreates,a=t.disableReactionReads,r=t.disableReactionUpdates,i=t.channel;return a?null:o(m.default,{message:e,channel:i,disableReactionCreates:n,disableReactionUpdates:r})},t.prototype.renderAttachments=function(e){var t=this.props,n=t.disableAutoPlayGif,a=t.inlineAttachmentMedia,r=t.onContextMenuMessage,i=t.channel;return e.attachments.length?e.attachments.map(function(t){return o(c.default,{attachment:t,inlineMedia:a,autoPlayGif:!n,onContextMenu:function(n){return r(n,{attachment:t,message:e,channel:i,target:n.target})},ImageComponent:d.default},t.id)}):null},t.prototype.renderEmbeds=function(e){var t=this,n=this.props.disableEmbeds;return!e.embeds.length||n?null:e.embeds.map(function(e){var n={};if(n.ImageComponent=d.default,n.VideoComponent=f.default,n.GIFVComponent=p.default,e.type===E.EmbedTypes.RICH&&(n.LinkComponent=h.default),e.type===E.EmbedTypes.ARTICLE&&null!=e.url&&e.url.includes("discordapp.com/store/skus")&&null!=e.provider&&"Discord"===e.provider.name){var a=s.default.parse(e.url);if(null!=a.pathname){var r=a.pathname.split("/")[3];if(null!=r)return o(g.default,{skuId:r,renderFallback:function(){return t.renderEmbed(e,n)}},e.id)}}return t.renderEmbed(e,n)})},t.prototype.renderActivityInvite=function(e){if(null==e.activity)return null;var t=this.props.channel;return o(v.default,{channel:t,message:e,hideParty:!1})},t.prototype.render=function(){var e=this.props,t=e.isCompact,n=e.className,a=e.message,r=this.renderInvites(a),i=this.renderAttachments(a),s=this.renderEmbeds(a),u=this.renderActivityInvite(a),c=this.renderReactions(a);return null==r&&null==i&&null==s&&null==u&&null==c?null:o("div",{className:(0,l.default)(n,t?_.default.containerCompact:_.default.containerCozy)},void 0,r,i,s,u,c)},t}(i.PureComponent);M.defaultProps={disableEmbeds:!0,isCompact:!1},M.displayName="MessageAccessories",t.default=M,e.exports=t.default},7497:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=c(n(7)),s=c(n(161)),u=c(n(128));function c(e){return e&&e.__esModule?e:{default:e}}var d={ABOVE:0,VISIBLE:1,BELOW:2};function f(e){return{toValue:e,duration:300,easing:s.default.Easing.inOut(s.default.Easing.back())}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={prevValue:null,currValue:n.value,nextValue:null},a.prevAnimate=new s.default.Value(d.ABOVE),a.currAnimate=new s.default.Value(d.VISIBLE),l.default.bindAll(a,["animateNext"]),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.state,n=t.prevValue,a=t.currValue,o=t.nextValue;null==n&&a!==e.value?this.setState({prevValue:u.default.isFocused()?a:null,currValue:e.value}):null!=o&&o!==e.value&&this.setState({nextValue:e.value})},t.prototype.componentDidUpdate=function(e,t){var n=this.state,a=n.prevValue,o=n.currValue;a!==t.prevValue&&null!=a&&this.animateBetween(a,o)},t.prototype.animateBetween=function(e,t){var n=void 0;this.prevAnimate.setValue(d.VISIBLE),e>t?(this.currAnimate.setValue(d.ABOVE),n=d.BELOW):(this.currAnimate.setValue(d.BELOW),n=d.ABOVE),s.default.parallel([s.default.timing(this.prevAnimate,f(n)),s.default.timing(this.currAnimate,f(d.VISIBLE))]).start(this.animateNext)},t.prototype.animateNext=function(){var e=this.state,t=e.currValue,n=e.nextValue;null!=n?this.setState({prevValue:u.default.isFocused()?t:null,currValue:n,nextValue:null}):this.setState({prevValue:null})},t.prototype.getAnimatedStyle=function(e){return{transform:[{translateY:e.interpolate({inputRange:[0,1,2],outputRange:["-100%","0%","100%"]})}],position:"absolute",top:0,left:0,right:0,bottom:0}},t.prototype.getMinWidth=function(e){return Math.ceil(Math.log10(e+1))*this.props.digitWidth},t.prototype.render=function(){var e=this.state,t=e.prevValue,n=e.currValue,a=l.default.omit(this.props,["value","digitWidth"]);if(null==t)return i.createElement("div",r({},a,{style:{minWidth:this.getMinWidth(n)}}),n);var u=Math.max(t,n);return i.createElement("div",r({},a,{style:{position:"relative",overflow:"hidden"}}),o("div",{style:{visibility:"hidden",minWidth:this.getMinWidth(u)}},void 0,u),o(s.default.div,{style:this.getAnimatedStyle(this.prevAnimate)},void 0,t),o(s.default.div,{style:this.getAnimatedStyle(this.currAnimate)},void 0,n))},t}(i.PureComponent);p.displayName="AnimatedCounter",t.default=p,e.exports=t.default},7498:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=l(n(6618)),i=l(n(6027));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,a=e.onClickUsername,l=e.onContextMenuUsername,s=t.id,u=t.author,c=r.default.getSystemMessageUserJoin(s).format({username:u.username,usernameOnClick:{onClick:a,onContextMenu:l}});return o(i.default,{icon:n(6619),timestamp:t.timestamp},void 0,c)}s.displayName="UserJoin",e.exports=t.default},7499:function(e,t,n){e.exports=n.p+"aff52bc375fe2da876174301a5c6d09d.svg"},7500:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=l(n(6)),i=l(n(6027));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,a=e.onClickUsername,l=e.onContextMenuUsername,s=t.getAuthorName(),u=void 0;if(e.otherUsername){var c=e.otherUsername,d=e.onClickOtherUsername,f=e.onContextMenuOtherUsername;u=r.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE.format({username:s,usernameOnClick:{onClick:a,onContextMenu:l},otherUsername:c,otherUsernameOnClick:{onClick:d,onContextMenu:f}})}else u=r.default.Messages.SYSTEM_MESSAGE_RECIPIENT_REMOVE_SELF.format({username:s,usernameOnClick:{onClick:a,onContextMenu:l}});return o(i.default,{icon:n(7499),timestamp:t.timestamp},void 0,u)}s.displayName="RecipientRemove",e.exports=t.default},7501:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=l(n(6)),i=l(n(6027));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,a=e.otherUsername,l=e.onClickUsername,s=e.onContextMenuUsername,u=e.onClickOtherUsername,c=e.onContextMenuOtherUsername,d=t.getAuthorName(),f=r.default.Messages.SYSTEM_MESSAGE_RECIPIENT_ADD.format({username:d,usernameOnClick:{onClick:l,onContextMenu:s},otherUsername:a,otherUsernameOnClick:{onClick:u,onContextMenu:c}});return o(i.default,{icon:n(6619),timestamp:t.timestamp},void 0,f)}s.displayName="RecipientAdd",e.exports=t.default},7502:function(e,t,n){e.exports=n.p+"4e4e1d9c907a3dc53d68f34e868fcb12.svg"},7503:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=s(n(6)),i=s(n(163)),l=s(n(6027));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.message,a=e.onClickUsername,s=e.onContextMenuUsername,u=e.onClickPins,c=t.nick,d=t.author,f=t.colorString,p=c||d.username,h=function(e,t){var n=f?{color:f}:null;return o(i.default,{onClick:a,onContextMenu:s,style:n},t,e)},y=null==u?r.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE_NO_CTA_FORMATTED.format({usernameOnClick:h,username:p}):r.default.Messages.SYSTEM_MESSAGE_PINNED_MESSAGE.format({usernameHook:h,username:p,pinsActionOnClick:u});return o(l.default,{icon:n(7502),timestamp:t.timestamp},void 0,y)}u.displayName="ChannelPinnedMessage",e.exports=t.default},7504:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=u;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=s(n(6)),i=s(n(6027)),l=s(n(5885));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.message,a=e.onClickUsername,s=e.onContextMenuUsername;return o(i.default,{className:l.default.channelNameChange,icon:n(6620),timestamp:t.timestamp},void 0,r.default.Messages.SYSTEM_MESSAGE_CHANNEL_NAME_CHANGE.format({username:t.getAuthorName(),usernameOnClick:{onClick:a,onContextMenu:s},channelName:t.content}))}u.displayName="ChannelNameChange",e.exports=t.default},7505:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=l(n(6)),i=l(n(6027));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,a=e.onClickUsername,l=e.onContextMenuUsername;return o(i.default,{icon:n(6620),timestamp:t.timestamp},void 0,r.default.Messages.SYSTEM_MESSAGE_CHANNEL_ICON_CHANGE.format({username:t.getAuthorName(),usernameOnClick:{onClick:a,onContextMenu:l}}))}s.displayName="ChannelIconChange",e.exports=t.default},7506:function(e,t,n){e.exports=n.p+"c30220457097b064286a8759a9b6c4af.svg"},7507:function(e,t,n){e.exports=n.p+"d80d1fdc43a3c42134a31a39581160ac.svg"},7508:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}});t.default=s;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1));var r=l(n(6)),i=l(n(6027));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.message,a=e.missed,l=e.joinable,s=e.onClickUsername,u=e.onContextMenuUsername,c=e.onClickJoinCall,d=t.getAuthorName(),f={onClick:s,onContextMenu:u};return a?o(i.default,{icon:n(7507),timestamp:t.timestamp},void 0,r.default.Messages.SYSTEM_MESSAGE_CALL_MISSED.format({username:d,usernameOnClick:f})):o(i.default,{icon:n(7506),timestamp:t.timestamp},void 0,r.default.Messages.SYSTEM_MESSAGE_CALL_STARTED.format({username:d,usernameOnClick:f}),l?o(i.default.Action,{onClick:c},void 0,r.default.Messages.SYSTEM_MESSAGE_JOIN_CALL):null)}s.displayName="Call",e.exports=t.default},7509:function(e,t,n){"use strict";var a;t.__esModule=!0;var o,r=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,a){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),s=w(n(3)),u=w(n(14)),c=w(n(386)),d=w(n(18)),f=w(n(12)),p=w(n(94)),h=w(n(168)),y=n(0),m=n(140),v=n(6621),g=w(n(293)),E=w(n(300)),_=w(n(525)),b=n(224),S=w(b),M=w(n(7508)),C=w(n(7505)),A=w(n(7504)),T=w(n(7503)),O=w(n(7501)),N=w(n(7500)),I=w(n(7498)),P=w(n(6617));function w(e){return e&&e.__esModule?e:{default:e}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var k=function(e,t){return function(n){(0,b.openPopout)(n.currentTarget,{closeOnScroll:!1,position:S.default.Positions.RIGHT,shadow:!1,render:function(n){var a=d.default.getChannel(t);return null==a?null:l.createElement(_.default,i({},n,{user:e,guildId:a.getGuildId(),channelId:a.id}))}})}},U=function(e,t){return function(n){var a=d.default.getChannel(t);null!=a&&(0,v.openUserContextMenu)(n,e,a)}},x=function(e){function t(){var n,a;R(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=L(this,e.call.apply(e,[this].concat(r))),a.handleJoinCall=function(){var e=a.props.message;h.default.selectVoiceChannel(null,e.getChannelId())},L(a,n)}return D(t,e),t.prototype.render=function(){var e=this.props,t=e.message,n=e.missed,a=e.joinable,o=t.author,i=t.getChannelId();return r(M.default,{message:t,missed:n,joinable:a,onClickUsername:k(o,i),onContextMenuUsername:U(o,i),onClickJoinCall:this.handleJoinCall})},t}(l.PureComponent);x.displayName="Call";var j=s.default.connectStores([c.default,p.default],function(e){var t=e.message,n=u.default.getId(),a=t.getChannelId(),o=c.default.isCallActive(a,t.id),r=p.default.getVoiceState(y.ME,n);return{missed:!o&&null!=t.call&&!t.call.participants.includes(n),joinable:o&&(null==r||r.channelId!==a)}})(x),G=function(e){var t=e.message,n=t.author,a=t.getChannelId();return r(A.default,{message:t,onClickUsername:k(n,a),onContextMenuUsername:U(n,a)})};G.displayName="ChannelNameChange";var B=function(e){var t=e.message,n=t.author,a=t.getChannelId();return r(C.default,{message:t,onClickUsername:k(n,a),onContextMenuUsername:U(n,a)})};B.displayName="ChannelIconChange";var F=function(e){function t(){return R(this,t),L(this,e.apply(this,arguments))}return D(t,e),t.prototype.handleViewPins=function(){m.ComponentDispatch.dispatch(y.ComponentActions.TOGGLE_CHANNEL_PINS)},t.prototype.render=function(){var e=this.props.message,t=e.author,n=e.getChannelId();return r(T.default,{message:e,onClickUsername:k(t,n),onContextMenuUsername:U(t,n),onClickPins:__OVERLAY__?null:this.handleViewPins})},t}(l.PureComponent);function V(e){var t=e.message,n=e.otherUser,a=t.author,o=t.getChannelId(),i=g.default.getName(null,o,n);return r(O.default,{message:t,otherUsername:i,onClickUsername:k(a,o),onContextMenuUsername:U(a,o),onClickOtherUsername:k(n,o),onContextMenuOtherUsername:U(n,o)})}F.displayName="ChannelPinnedMessage",V.displayName="RecipientAdd";var H=s.default.connectStores([f.default],function(e){var t=e.message;return{otherUser:f.default.getUser(t.mentions[0])}})(V);function K(e){var t=e.message,n=e.otherUser,a=t.author,o=t.getChannelId(),i=k(a,o),l=U(a,o);if(null!=n&&n.id!==a.id){var s=g.default.getName(null,o,n),u=k(n,o),c=U(n,o);return r(N.default,{message:t,onClickUsername:i,onContextMenuUsername:l,otherUsername:s,onClickOtherUsername:u,onContextMenuOtherUsername:c})}return r(N.default,{message:t,onClickUsername:i,onContextMenuUsername:l})}K.displayName="RecipientRemove";var z=s.default.connectStores([f.default],function(e){var t=e.message;return{otherUser:f.default.getUser(t.mentions[0])}})(K),Y=function(e){var t=e.message,n=t.author,a=t.getChannelId();return r(I.default,{message:t,onClickUsername:k(n,a),onContextMenuUsername:U(n,a)})};Y.displayName="UserJoin";var W=((a={})[y.MessageTypes.RECIPIENT_ADD]=H,a[y.MessageTypes.RECIPIENT_REMOVE]=z,a[y.MessageTypes.CALL]=j,a[y.MessageTypes.CHANNEL_NAME_CHANGE]=G,a[y.MessageTypes.CHANNEL_ICON_CHANGE]=B,a[y.MessageTypes.CHANNEL_PINNED_MESSAGE]=F,a[y.MessageTypes.USER_JOIN]=Y,a),$=function(e){function t(){var n,a;R(this,t);for(var o=arguments.length,r=Array(o),i=0;i<o;i++)r[i]=arguments[i];return n=a=L(this,e.call.apply(e,[this].concat(r))),a.onContextMenu=function(e){var t=a.props,n=t.message,o=t.channel;(0,t.onContextMenu)(e,{message:n,channel:o,target:e.target})},L(a,n)}return D(t,e),t.prototype.render=function(){var e,t=this.props,n=t.message,a=t.renderButtons,o=t.channel,i=W[n.type];return null==i?(e=new Error("unknown message type "+n.type),E.default.captureException(e),console.error(e),null):r(P.default,{message:n,channel:o,isCompact:!1,onContextMenu:this.onContextMenu,renderButtons:y.MessageTypesDeletable[n.type]?a:null},void 0,r(i,{message:n}))},t}(l.PureComponent);$.displayName="SystemMessageWrapper",t.default=$,e.exports=t.default},7510:function(e,t,n){"use strict";t.__esModule=!0;var a=s(n(3)),o=s(n(2)),r=(n(0),s(n(7))),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6016)),l=s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=function e(t,n){u(this,e),this.file=t,this.channel=l.default.getChannel(n),this.classification=i.classifyFile(t),this.isImage="image"===this.classification,this.sizeString=i.sizeString(t.size),this.filename=t.name},d=[];var f=function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getFirstUpload=function(){return d.length>0?d[0]:null},t.prototype.hasAdditionalUploads=function(){return d.length>1},t}(a.default.Store);t.default=new f(o.default,{UPLOAD_MODAL_POP_FILE:function(e){return d.shift(),void(d=[].concat(d))},UPLOAD_MODAL_PUSH_FILES:function(e){var t=e.files,n=e.channelId;d=[].concat(d),r.default.forEach(t,function(e){d.push(new c(e,n))})},UPLOAD_MODAL_CLEAR_ALL_FILES:function(e){d=[]}}),e.exports=t.default},7511:function(e,t,n){"use strict";t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=r(n(7));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this));return o._lastUpdate=0,o._loaded=0,o._aborted=!1,o._handleStart=function(e){o._cancel=e,o.emit("start",o._file)},o._handleProgress=function(e,t){var n=Date.now(),r=Math.min(Math.floor(e/t*100),100),i=Math.floor((e-o._loaded)/((n-o._lastUpdate)/1e3));o._lastUpdate=n,o._loaded=e,o._file=a({},o._file,{size:t,progress:r,rate:i}),o.emit("progress",o._file)},o._handleError=function(e){o._aborted||(o.emit("error",o._file,e),o.removeAllListeners())},o._handleComplete=function(){o.emit("complete",o._file),o.removeAllListeners()},o._url=n,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.cancel=function(){null!=this._cancel&&(this._aborted=!0,this._cancel()),this._handleComplete()},t.prototype.upload=function(e,t){if(null!=this._cancel)throw new Error("Uploader.upload(...): An upload is already in progress.");this._lastUpdate=Date.now(),this._loaded=0,this._file={id:o.default.uniqueId("Uploader"),name:e.name,size:0,progress:0,rate:0}},t}(r(n(45)).default);t.default=i,e.exports=t.default},7512:function(e,t,n){"use strict";t.__esModule=!0;var a=r(n(7)),o=r(n(414));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){var n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=i(this,e.call.apply(e,[this].concat(r))),a._handleXHRProgress=function(e){a._handleProgress(e.loaded,e.total)},i(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.upload=function(t,n){var r=this;e.prototype.upload.call(this,t,n);var i=o.default.post(this._url);i.attach("file",t,t.name),i.on("error",function(){return r._handleError()}),null!=n&&a.default.each(n,function(e,t){i.field(t,e)});var l=i.end(function(e){e.ok?r._handleComplete():r._handleError(e.body&&e.body.code)}).xhr;l.upload?l.upload.onprogress=this._handleXHRProgress:l.addEventListener("progress",this._handleXHRProgress,!1),this._handleStart(function(){return i.abort()})},t}(r(n(7511)).default);t.default=l,e.exports=t.default},7513:function(e,t,n){"use strict";t.__esModule=!0,t.promptToUpload=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.length<1)return;if(d.anyFileTooLarge(e)){var h=a.default.getCurrentUser();s.default.push(i.default,{title:c.default.Messages.UPLOAD_AREA_TOO_LARGE_TITLE,help:c.default.Messages.UPLOAD_AREA_TOO_LARGE_HELP.format({maxSize:d.sizeString(d.maxFileSize())}),promo:!f.default.canUploadLargeFiles(h)})}else p?(o.default.pushFiles({files:e,channelId:t}),u.default.isModalOpen(l.default)||s.default.push(l.default,{backdropInstant:n})):r.default.instantBatchUpload(t,e)};var a=p(n(12)),o=p(n(6249)),r=p(n(6248)),i=p(n(6087)),l=p(n(6622)),s=p(n(37)),u=p(n(936)),c=p(n(6)),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6016)),f=p(n(372));function p(e){return e&&e.__esModule?e:{default:e}}},7514:function(e,t,n){e.exports=n.p+"9cbfe5105fc5f29ef4e659059ee01a46.svg"},7515:function(e,t,n){e.exports=n.p+"4e51af83c4879cf313ad553bdc20dcf7.png"},7516:function(e,t,n){e.exports=n.p+"7c1fdd7a2f89b4bc6f7968c3fb3b6a14.png"},7517:function(e,t,n){e.exports=n.p+"df82ca7d3be7d1271f5fb93719ea65fe.png"},7518:function(e,t,n){e.exports=n.p+"5c0d73f3d0c4e89f92bcedbe1752ae94.png"},7519:function(e,t,n){e.exports=n.p+"757c4d5d07c5691452fde54dca7fcde8.png"},7520:function(e,t,n){e.exports=n.p+"b8fa63048881311b205927b3d4111bf6.png"},7521:function(e,t,n){e.exports=n.p+"6a4c3d24e0e1bb9bd102815d01cb3d87.png"},7522:function(e,t,n){var a={"./spritesheet-.png":7521,"./spritesheet-1f3fb.png":7520,"./spritesheet-1f3fc.png":7519,"./spritesheet-1f3fd.png":7518,"./spritesheet-1f3fe.png":7517,"./spritesheet-1f3ff.png":7516,"./spritesheet-emoji.png":6624,"./spritesheet-picker.png":7515};function o(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=7522},7523:function(e,t,n){"use strict";t.__esModule=!0;var a,o,r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),n(6)),l=(o=i)&&o.__esModule?o:{default:o};n(5574);var s=r("div",{className:"sad-discord"}),u=function(e){var t=e.message,n=void 0===t?l.default.Messages.DM_SEARCH_NO_RESULTS:t;return r("div",{className:"no-search-results"},void 0,s,r("div",{},void 0,n))};u.displayName="NoSearchResults",t.default=u,e.exports=t.default},7525:function(e,t,n){"use strict";t.__esModule=!0,t.TabIndexKeys=void 0,t.getTabIndex=function(e){return l.indexOf(e)+1};var a,o=n(142),r=(a=o)&&a.__esModule?a:{default:a};var i=t.TabIndexKeys=(0,r.default)({CHANNEL_TEXT_AREA:null,CHANNEL_TEXT_AREA_EMOJI:null,CHANNEL_TEXT_AREA_UPLOAD:null}),l=[i.CHANNEL_TEXT_AREA,i.CHANNEL_TEXT_AREA_EMOJI,i.CHANNEL_TEXT_AREA_UPLOAD]},7526:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=f(n(9)),l=f(n(224)),s=f(n(43)),u=n(107),c=n(0),d=f(n(5890));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={hovered:!1,emojiIndex:0,isPopoutOpen:!1},a.renderEmojiPickerPopout=a.renderEmojiPickerPopout.bind(a),a.handleMouseOver=a.handleMouseOver.bind(a),a.handleMouseEnter=a.handleMouseEnter.bind(a),a.handleMouseLeave=a.handleMouseLeave.bind(a),a.handlePopoutOpen=a.handlePopoutOpen.bind(a),a.handlePopoutClose=a.handlePopoutClose.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getSpriteStyle=function(){var e=this.state.emojiIndex;return{backgroundPosition:-e%c.EmojiSprites.PickerPerRow*22+"px "+22*-Math.floor(e/c.EmojiSprites.PickerPerRow)+"px",backgroundSize:22*c.EmojiSprites.PickerPerRow+"px "+22*Math.ceil(c.EmojiSprites.PickerCount/c.EmojiSprites.PickerPerRow)+"px"}},t.prototype.renderEmojiPickerPopout=function(e){var t=this.props,n=t.renderEmojiPickerPopout;return n(e,{onSelectEmoji:t.onSelectEmoji,channel:t.channel})},t.prototype.render=function(){var e=this.props.tabIndex,t=this.state,n=t.hovered,a=t.isPopoutOpen,r=n||a,f=(0,u.getClass)(d.default,"emojiButton",r?"Hovered":"Normal"),p=(0,u.getClass)(d.default,"sprite",r?"Hovered":"Normal");return o(l.default,{closeOnScroll:!1,render:this.renderEmojiPickerPopout,position:l.default.Positions.TOP_RIGHT,zIndexBoost:1e3,shadow:!1,animationType:l.default.Animations.NONE,subscribeTo:c.ComponentActions.TOGGLE_EMOJI_POPOUT,onOpen:this.handlePopoutOpen,onClose:this.handlePopoutClose},void 0,o(s.default,{look:s.default.Looks.BLANK,size:s.default.Sizes.NONE,tabIndex:e,className:(0,i.default)(f,this.props.className),onMouseEnter:this.handleMouseEnter,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave},void 0,o("div",{className:p,style:this.getSpriteStyle()})))},t.prototype.handleMouseOver=function(){this.handleMouseEnter()},t.prototype.handleMouseEnter=function(){if(!this.state.hovered&&!this.state.isPopoutOpen){var e=Math.floor(Math.random()*c.EmojiSprites.PickerCount);this.setState({hovered:!0,emojiIndex:e})}},t.prototype.handleMouseLeave=function(){this.setState({hovered:!1})},t.prototype.handlePopoutOpen=function(){this.setState({isPopoutOpen:!0})},t.prototype.handlePopoutClose=function(){this.setState({isPopoutOpen:!1})},t}(r.PureComponent);p.displayName="EmojiButton",t.default=p,e.exports=t.default},7527:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=N(n(9)),s=N(n(7)),u=N(n(194)),c=N(n(161)),d=N(n(29)),f=N(n(224)),p=N(n(6626)),h=N(n(1193)),y=N(n(7526)),m=N(n(43)),v=N(n(6709)),g=N(n(59)),E=N(n(6)),_=n(107),b=n(6016),S=n(7525),M=n(108),C=N(n(5889)),A=n(0),T=N(n(131)),O=N(n(7524));function N(e){return e&&e.__esModule?e:{default:e}}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var R=/(\t|\s)/,L="UPLOAD_A_FILE",D="INVITE_TO_GAME",k="INVITE_TO_SPECTATE_GAME",U="INVITE_TO_LISTEN",x="INVITE_TO_WATCH",j=function(e,t,n,a){var o=[];return e&&o.push({type:L,icon:g.default.Names.UPLOAD,display:E.default.Messages.CHAT_ATTACH_UPLOAD_A_FILE}),t&&a.forEach(function(e){e.type===A.ActivityTypes.PLAYING&&(0,M.hasFlag)(e,A.ActivityFlags.JOIN)&&o.push({type:D,icon:g.default.Names.GAMEPAD,display:E.default.Messages.CHAT_ATTACH_INVITE_TO_PLAY_GAME.format({channel:n.toString(!0),game:null!=e?e.name:""}),activity:e}),e.type===A.ActivityTypes.PLAYING&&(0,M.hasFlag)(e,A.ActivityFlags.SPECTATE)&&o.push({type:k,icon:g.default.Names.EYE,display:E.default.Messages.CHAT_ATTACH_INVITE_TO_SPECTATE_GAME.format({channel:n.toString(!0),game:null!=e?e.name:""}),activity:e}),e.type===A.ActivityTypes.LISTENING&&(0,M.hasFlag)(e,A.ActivityFlags.SYNC)&&o.push({type:U,icon:g.default.Names.PERSON_PLAY,display:E.default.Messages.CHAT_ATTACH_INVITE_TO_LISTEN.format({channel:n.toString(!0),name:null!=e?e.name:""}),activity:e}),e.type===A.ActivityTypes.WATCHING&&(0,M.hasFlag)(e,A.ActivityFlags.SYNC)&&o.push({type:x,icon:g.default.Names.EYE,display:E.default.Messages.CHAT_ATTACH_INVITE_TO_WATCH.format({channel:n.toString(!0),name:null!=e?e.name:""}),activity:e})}),o},G=function(e){function t(n){I(this,t);var a=P(this,e.call(this,n));return a.handleFileUpload=function(){var e=a.props.onFileUpload;a.close(),e&&e()},a.handleInviteToPlay=function(e){var t=a.props.onInviteToPlay;a.close(),t&&t(e)},a.handleInviteToSpectate=function(e){var t=a.props.onInviteToSpectate;a.close(),t&&t(e)},a.handleInviteToListen=function(e){var t=a.props.onInviteToListen;a.close(),t&&t(e)},a.handleInviteToWatch=function(e){var t=a.props.onInviteToWatch;a.close(),t&&t(e)},a.state={animations:j(n.canAttachFiles,n.canSendInvites,n.channel,n.activities).map(function(){return new c.default.Value(0)})},a}return w(t,e),t.prototype.componentDidMount=function(){var e=[].concat(this.state.animations).reverse();c.default.stagger(50,e.map(function(e){return c.default.timing(e,{duration:200,toValue:1})})).start()},t.prototype.getOnClick=function(e){var t=this;switch(e.type){case L:return this.handleFileUpload;case D:var n=e.activity;return function(){return t.handleInviteToPlay(n)};case k:var a=e.activity;return function(){return t.handleInviteToSpectate(a)};case U:var o=e.activity;return function(){return t.handleInviteToListen(o)};case x:var r=e.activity;return function(){return t.handleInviteToListen(r)}}},t.prototype.close=function(){u.default.close("popout-channel-text-area-attachments")},t.prototype.render=function(){var e=this,t=this.props,n=t.canAttachFiles,a=t.canSendInvites,o=t.channel,i=t.activities,l=j(n,a,o,i).map(function(t,n){var a=e.state.animations[n];return r(c.default.div,{onClick:e.getOnClick(t),className:C.default.attachPopoutRow,style:{opacity:a}},n,r(d.default,{align:d.default.Align.CENTER},void 0,r(g.default,{name:t.icon,className:C.default.attachPopoutIcon,foreground:C.default.attachPopoutIconForeground}),r("div",{className:C.default.attachPopoutRowText},void 0,t.display)))});return r("div",{className:C.default.attachPopout},void 0,l)},t}(i.PureComponent);function B(e){return{prefix:null,focused:e,selectionStart:0,selectionEnd:0,selectedAutocomplete:0,autocompleteType:null,submitting:!1}}G.displayName="ChannelTextAreaAttachPopout";var F=function(e){function t(n){I(this,t);var a=P(this,e.call(this,n));return a._mounted=!1,a.state=B(!1),a.saveCurrentTextThrottled=s.default.throttle(a.saveCurrentText.bind(a,!1),500),s.default.bindAll(a,["focus","saveCurrentText","renderAttachPopout","handleSetRef","handleSetFileInputRef","handleKeyPress","handleKeyDown","handleKeyUp","handleStartFileUpload","handleFileUpload","handleOuterClick","handleClick","handleAutocompleteClick","handleAutocompleteHover","handleOnChange","handleFocus","handleBlur","handlePaste","handleSelectEmoji"]),a}return w(t,e),t.prototype.componentDidMount=function(){var e=this.props.value;this._ref&&this._ref.setSelection(e.length,e.length),this._mounted=!0,this.maybeShowAutocomplete(),window.addEventListener("beforeunload",this.saveCurrentText)},t.prototype.componentWillUnmount=function(){this._mounted=!1,this.saveCurrentText(),window.removeEventListener("beforeunload",this.saveCurrentText)},t.prototype.componentDidUpdate=function(e){var t=this;this.props.value!==e.value&&(this.maybeShowAutocomplete(function(){return t.fixSelectedAutocomplete()}),this.saveCurrentTextThrottled())},t.prototype.focus=function(){this._ref&&this._ref.focus()},t.prototype.blur=function(){this._ref&&this._ref.blur()},t.prototype.fixSelectedAutocomplete=function(){this.state.selectedAutocomplete>=this.getAutocompletes().length&&this.setState({selectedAutocomplete:0})},t.prototype.insertText=function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=this._ref;if(null!=o){var r=this.state,i=r.selectionStart,l=r.selectionEnd,s=o.value.slice(0,n?o.selectionStart:i),u=o.value.slice(n?o.selectionEnd:l);a&&(e+=" ");var c=s+e+u,d=this.props.onChange;d&&d(null,c),this.setState({selectionStart:o.selectionStart,selectionEnd:o.selectionEnd},function(){var n=s.length+e.length;o.setSelection(n,n),t.maybeShowAutocomplete()}),this.saveCurrentText()}},t.prototype.clearValue=function(){this.setState(B(!0)),this.saveCurrentText()},t.prototype.saveCurrentText=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.type,a=t.onSaveCurrentText,o=t.channel;n===A.TextareaTypes.NORMAL&&(e&&this.saveCurrentTextThrottled.cancel(),a&&a(o.id))},t.prototype.maybeShowAutocomplete=function(e){var t=this._ref;if(null!=t){var n=this.props,a=n.value,o=n.autocompleteOptions,r=n.onAutocompleteQuery;if(0!==a.trim().length){var i=t.selectionStart,l=t.selectionEnd,u=void 0,c=!1,d=null;do{var f=R.test(a[i-1]);if(0===i||f)if("break"===function(){var e=(u=a.slice(i,l)).slice(1).toLowerCase();if(null!=(d=(0,s.default)(o).keys().find(function(t){return o[t].matches(u[0],e,i)}))){var t=o[d];return r&&r(t,e,d),c=!0,"break"}}())break}while(--i>=0);this.setState({prefix:c?u:null,selectionStart:i,selectionEnd:l,autocompleteType:d},e)}else this.getAutocompletes().length>0&&this.setState({prefix:null})}},t.prototype.getAutocompletes=function(){var e=this.props.autocompletes,t=[];if(null!=e)for(var n in e){e[n].forEach(function(e){return t.push(e)})}return t},t.prototype.moveSelection=function(e){var t=this.state,n=t.selectedAutocomplete,a=t.prefix,o=this.getAutocompletes().length;return 0!==o&&null!=a&&(n+e>=o?this.setState({selectedAutocomplete:0}):n+e<0?this.setState({selectedAutocomplete:o-1}):this.setState({selectedAutocomplete:n+e}),!0)},t.prototype.selectAutocompletion=function(e){var t=null,n=this.state.autocompleteType,a=this.props,o=a.autocompleteOptions,r=a.autocompletes;null!=n&&null!=o[n]&&null!=r&&(t=o[n].getText(e,r)),null!=t&&("REACTIONS"===n?this.handleSubmit(t):this.insertText(t,!1))},t.prototype.getEnabledMode=function(){var e=this.props,t=e.disabled,n=e.canAttachFiles,a=e.canSendInvites,o=e.channel,r=e.activities,i=this.state.submitting;return t||i?"Disabled":0===j(n,a,o,r).length?"EnabledNoAttach":""},t.prototype.getAutocompleteMode=function(){var e=this.state,t=e.prefix,n=e.focused;return null!=t&&n?"Autocomplete":"NoAutocomplete"},t.prototype.getTypeMode=function(){switch(this.props.type){case A.TextareaTypes.EDIT:return"Edit";case A.TextareaTypes.FORM:return"Form";default:return""}},t.prototype.hasOpenCodeBlock=function(){var e=this._ref;if(null==e)return!1;var t=this.props.value.slice(0,e.selectionStart).match(/```/g);return null!=t&&t.length>0&&t.length%2!=0},t.prototype.renderAttachPopout=function(e){var t=this.props,n=t.channel,a=t.canAttachFiles,r=t.canSendInvites,l=t.activities,s=t.onInviteToPlay,u=t.onInviteToSpectate,c=t.onInviteToListen,d=t.onInviteToWatch;return i.createElement(G,o({},e,{canAttachFiles:a,canSendInvites:r,channel:n,activities:l,onFileUpload:this.handleStartFileUpload,onInviteToPlay:s,onInviteToSpectate:u,onInviteToListen:c,onInviteToWatch:d}))},t.prototype.renderAttachButton=function(){var e=this.props,t=e.disabled,n=e.type,a=e.canAttachFiles,o=e.canSendInvites,i=e.channel,l=e.activities,s=e.onOpenAttachPopout;if(t||n!==A.TextareaTypes.NORMAL||0===j(a,o,i,l).length)return null;var u=l.some(function(e){return(0,M.hasFlag)(e,A.ActivityFlags.SYNC)}),c=l.some(function(e){return(0,M.canJoinOrSpectate)(e)})||u;return o&&c?r(d.default,{},void 0,r(f.default,{closeOnScroll:!1,render:this.renderAttachPopout,position:f.default.Positions.TOP_LEFT,shadow:!1,animationType:f.default.Animations.NONE,uniqueId:"popout-channel-text-area-attachments",onOpen:s},void 0,r(m.default,{look:m.default.Looks.BLANK,size:m.default.Sizes.NONE,tabIndex:(0,S.getTabIndex)(S.TabIndexKeys.CHANNEL_TEXT_AREA_UPLOAD),className:C.default.attachButton,innerClassName:C.default.attachButtonInner},void 0,r(g.default,{name:g.default.Names.PLUS_CIRCLE_PLAY,className:C.default.attachButtonIcon,foreground:C.default.attachButtonPlay,background:C.default.attachButtonPlus,width:24,height:24}))),r("div",{className:C.default.attachButtonDivider})):r(d.default,{className:C.default.attachWrapper},void 0,r(m.default,{look:m.default.Looks.BLANK,size:m.default.Sizes.NONE,onClick:this.handleStartFileUpload,tabIndex:(0,S.getTabIndex)(S.TabIndexKeys.CHANNEL_TEXT_AREA_UPLOAD),className:C.default.attachButton,innerClassName:C.default.attachButtonInner},void 0,r(g.default,{name:g.default.Names.PLUS_CIRCLE,className:C.default.attachButtonIcon,foreground:C.default.attachButtonPlus,width:24,height:24})),r("div",{className:C.default.attachButtonDivider}))},t.prototype.renderEmojiButton=function(){var e=this.props,t=e.channel,n=e.renderEmojiPickerPopout;return e.disabled||null==n?null:r(y.default,{className:C.default.emojiButton,onSelectEmoji:this.handleSelectEmoji,channel:t,renderEmojiPickerPopout:n,tabIndex:(0,S.getTabIndex)(S.TabIndexKeys.CHANNEL_TEXT_AREA_EMOJI)})},t.prototype.renderAutocomplete=function(){var e=this.props,t=e.autocompleteOptions,n=e.autocompletes,a=this.state,o=a.focused,i=a.autocompleteType,l=a.selectedAutocomplete,s=a.prefix;if(!o||null==i||null==t[i]||null==s||null==n)return null;var u=s.slice(1).toLowerCase();return r(p.default,{className:C.default.autocomplete,onMouseDown:this.handleAutocompleteMouseDown},void 0,t[i].renderResults(u,l,this.handleAutocompleteHover,this.handleAutocompleteClick,n))},t.prototype.render=function(){var e=this.props,t=e.value,n=e.disabled,a=e.placeholder,o=e.onResize,s=e.className,u=e.backgroundOpacity,c=e.channel,d=this.state.submitting,f=n?E.default.Messages.NO_SEND_MESSAGES_PERMISSION_PLACEHOLDER:a,p=c.rateLimitPerUser<=0,y=this.getEnabledMode(),m=this.getAutocompleteMode(),g=this.getTypeMode();return r("div",{className:(0,l.default)((0,_.getClass)(C.default,"channelTextArea",y),s),onClick:this.handleOuterClick},void 0,r("div",{className:(0,l.default)((0,_.getClass)(C.default,"inner",y),(0,_.getClass)(C.default,"inner",m),C.default[u+"BackgroundOpacity"])},void 0,this.renderAttachButton(),r("div",{className:C.default.uploadInput},void 0,i.createElement(v.default,{ref:this.handleSetFileInputRef,onChange:this.handleFileUpload,multiple:p,tabIndex:-1})),i.createElement(h.default,{ref:this.handleSetRef,className:(0,l.default)((0,_.getClass)(C.default,"textArea",y),(0,_.getClass)(C.default,"textArea",g)),rows:1,fontWidthEstimate:6,autoFocus:!0,placeholder:f,disabled:n||d,onChange:this.handleOnChange,onResize:o,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,onPaste:this.handlePaste,onClick:this.handleClick,value:n?"":t,tabIndex:(0,S.getTabIndex)(S.TabIndexKeys.CHANNEL_TEXT_AREA)}),this.renderEmojiButton(),this.renderAutocomplete()))},t.prototype.handleSetRef=function(e){this._ref=e},t.prototype.handleSetFileInputRef=function(e){this._fileInputRef=e},t.prototype.handleKeyPress=function(e){switch(e.which){case A.KeyboardKeys.ENTER:if(!e.shiftKey&&!e.ctrlKey&&!this.hasOpenCodeBlock())return e.preventDefault(),this.handleSubmit()}},t.prototype.handleKeyDown=function(e){switch(e.which){case A.KeyboardKeys.ARROW_DOWN:this.moveSelection(1)&&e.preventDefault();break;case A.KeyboardKeys.N:e.ctrlKey&&this.moveSelection(1)&&e.preventDefault();break;case A.KeyboardKeys.ARROW_UP:this.moveSelection(-1)&&e.preventDefault();break;case A.KeyboardKeys.P:e.ctrlKey&&this.moveSelection(-1)&&e.preventDefault();break;case A.KeyboardKeys.TAB:case A.KeyboardKeys.ENTER:this.handleTabOrEnterDown(e)}var t=this.props.onKeyDown;t&&t(e)},t.prototype.handleTabOrEnterDown=function(e){var t=this.state,n=t.selectedAutocomplete,a=t.prefix,o=this.getAutocompletes();null!=a&&0!==o.length?(e.preventDefault(),e.stopPropagation(),this.selectAutocompletion(n)):e.which===A.KeyboardKeys.TAB&&this.hasOpenCodeBlock()&&(e.preventDefault(),e.stopPropagation(),this.insertText("\t",!0,!1))},t.prototype.handleKeyUp=function(e){switch(e.which){case A.KeyboardKeys.ARROW_RIGHT:case A.KeyboardKeys.ARROW_LEFT:this.maybeShowAutocomplete()}var t=this.props.onKeyUp;t&&t(e)},t.prototype.handleStartFileUpload=function(){this._fileInputRef&&this._fileInputRef.activateUploadDialogue()},t.prototype.handleFileUpload=function(e){var t=this.props.onFileUpload;t&&t(e.currentTarget.files)},t.prototype.handleSubmit=function(e){var t=this,n=this.props,a=n.value,o=n.onSubmit,r=n.type,i=(e||a).trim();this.setState({submitting:!0},function(){o&&o(i).then(function(e){var n=e.shouldClear,a=e.shouldRefocus;t._mounted&&(n&&r===A.TextareaTypes.NORMAL&&t.clearValue(),t.setState({submitting:!1},a?t.focus:void 0))})})},t.prototype.handleFocus=function(e){var t=this.props.onFocus;t&&t(e),this.setState({focused:!0})},t.prototype.handleBlur=function(e){var t=this.props.onBlur;t&&t(e),this.setState({focused:!1})},t.prototype.handlePaste=function(e){var t=this,n=this.props,a=n.channel,o=n.onFileUpload,r=n.canPasteFiles;if(!(n.type!==A.TextareaTypes.NORMAL||null==e.clipboardData||null==e.clipboardData.items||0===e.clipboardData.items.length||!a.isPrivate()&&!r||a.isPrivate()&&a.isManaged()))for(var i=0;i<e.clipboardData.items.length;i++){var l=e.clipboardData.items[i];!function(){switch(l.type){case"image/png":e.preventDefault();var n=l.getAsFile();if(null==n)break;t.saveCurrentText(),2===e.clipboardData.items.length?e.clipboardData.items[0].getAsString(function(e){o&&o([(0,b.makeFile)(n,t.extractFileName(e))])}):o&&o([(0,b.makeFile)(n)])}}()}},t.prototype.extractFileName=function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("img");if(t instanceof HTMLImageElement){var n=void 0;try{var a=T.default.parse(t.src).pathname;null!=a&&a.length>0&&(n=O.default.basename(a).split(".")[0])}catch(e){}if(null!=n&&n.length>0)return n+".png"}},t.prototype.handleOuterClick=function(){this.focus()},t.prototype.handleClick=function(){this.maybeShowAutocomplete()},t.prototype.handleAutocompleteClick=function(e){return this.selectAutocompletion(e)},t.prototype.handleAutocompleteHover=function(e){this.setState({selectedAutocomplete:e})},t.prototype.handleAutocompleteMouseDown=function(e){e.preventDefault()},t.prototype.handleSelectEmoji=function(e){null!=e&&this.insertText(":"+e.name+":"),this.focus()},t.prototype.handleOnChange=function(e){var t=this.props.onChange,n=e.currentTarget.value;t&&t(e,n)},t}(i.PureComponent);F.defaultProps={type:A.TextareaTypes.NORMAL,disabled:!1},F.displayName="ChannelTextArea",t.default=F,e.exports=t.default},7528:function(e,t,n){"use strict";t.__esModule=!0;var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=A(n(9)),s=n(107),u=n(108),c=A(n(43)),d=A(n(29)),f=n(266),p=A(n(59)),h=A(n(224)),y=A(n(163)),m=A(n(106)),v=A(n(957)),g=A(n(6)),E=A(n(5893)),_=A(n(517)),b=A(n(93)),S=A(n(1195)),M=n(0),C=n(172);function A(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=function(e){function t(n){T(this,t);var a=O(this,e.call(this,n));return a.renderUserPopout=a.renderUserPopout.bind(a),a}return N(t,e),t.prototype.renderUserPopout=function(e){var t=this.props,n=t.renderUserPopout;return n(t.member.user,e)},t.prototype.render=function(){var e=this.props,t=e.member,n=e.className;return r(h.default,{closeOnScroll:!1,render:t.unknownUser?void 0:this.renderUserPopout,position:h.default.Positions.LEFT,shadow:!1},void 0,r(m.default,{text:t.unknownUser?"":t.nick||t.user.username},void 0,r("div",{className:t.unknownUser?E.default.partyMember:E.default.partyMemberKnown},void 0,r(f.AvatarImage,{src:t.user.getAvatarURL(),size:f.AvatarSizes.XSMALL,className:(0,l.default)(E.default.partyAvatar,n)}))))},t}(i.PureComponent);I.displayName="PartyMember";var P=function(e){function t(n){T(this,t);var a=O(this,e.call(this,n));return a.handleOpenSpotifyTrack=function(){var e=a.props,t=e.activity,n=e.onOpenSpotifyTrack;null!=t&&n&&n(t)},a.handleOpenSpotifyArtist=function(e){var t=a.props,n=t.activity,o=t.onOpenSpotifyArtist,r=t.message;null!=n&&null!=r&&o&&o(n,r.author.id,e)},a.handleOpenSpotifyAlbum=function(){var e=a.props,t=e.activity,n=e.onOpenSpotifyAlbum,o=e.message;null!=t&&null!=o&&n&&n(t,o.author.id)},a.handleJoin=a.handleJoin.bind(a),a.handleSpectate=a.handleSpectate.bind(a),a.handleSync=a.handleSync.bind(a),a.handleDownloadApp=a.handleDownloadApp.bind(a),a.renderUser=a.renderUser.bind(a),a}return N(t,e),t.prototype.isDeadInvite=function(){var e=this.props,t=e.isPreview,n=e.message,a=e.activity,o=e.applicationId;return!t&&!(null!=n&&(0,u.isInviteActive)(a,n,o))},t.prototype.getPartySize=function(){var e=this.props.activity;return null==e||null==e.party||null==e.party.size||e.party.size.length<2?[-1,-1]:e.party.size},t.prototype.getActionableMode=function(){return[M.ActivityActionTypes.LISTEN,M.ActivityActionTypes].includes(this.props.activityActionType)?"Actionable":this.props.isPreview||this.canSpectate()||this.canJoin()?"Actionable":"NotActionable"},t.prototype.isInParty=function(){var e=this.props,t=e.activity,n=e.myPartyId;return!e.isPreview&&null!=t&&null!=t.party&&n===t.party.id},t.prototype.isPartyFull=function(){var e=this.getPartySize(),t=e[0],n=e[1];return t>-1&&t>=n},t.prototype.hasPartySize=function(){var e=this.getPartySize(),t=e[0],n=e[1];return t>-1&&n>-1},t.prototype.isActionType=function(e){return this.props.activityActionType===e},t.prototype.canSpectate=function(){var e=this.props,t=e.isGameLaunchable,n=e.activity,a=e.isInBrowser,o=e.isPreview,r=(0,u.hasFlag)(n,M.ActivityFlags.SPECTATE);return!(!o||!r)||!(this.isDeadInvite()||!this.isActionType(M.ActivityActionTypes.SPECTATE)||!(0,u.hasFlag)(n,M.ActivityFlags.SPECTATE))&&!(a||!t||this.isInParty())},t.prototype.canJoin=function(){var e=this.props,t=e.activity,n=e.isPreview,a=e.isGameLaunchable,o=e.isInBrowser;return!!n||!(this.isDeadInvite()||!this.isActionType(M.ActivityActionTypes.JOIN)||!(0,u.hasFlag)(t,M.ActivityFlags.JOIN))&&(!(!this.hasPartySize()||this.isPartyFull())&&!(o||!a||this.isInParty()))},t.prototype.canSync=function(){var e=this.props,t=e.activity,n=e.isPreview,a=e.isSyncable,o=e.isInBrowser;return!!n||!(!this.isActionType(M.ActivityActionTypes.LISTEN)&&!this.isActionType(M.ActivityActionTypes.WATCH))&&(!(this.isDeadInvite()||!(0,u.hasFlag)(t,M.ActivityFlags.SYNC))&&!(o||!a||this.isInParty()))},t.prototype.getHelpdeskArticleURL=function(){var e=this.props.partyId;return null!=e&&(0,C.isSpotifyParty)(e)?M.HelpdeskArticles.SPOTIFY_CONNECTION:M.HelpdeskArticles.RICH_PRESENCE_INTRODUCTION},t.prototype.handleJoin=function(){var e=this.props.onJoin;e&&e()},t.prototype.handleSpectate=function(){var e=this.props.onSpectate;e&&e()},t.prototype.handleSync=function(){var e=this.props.onSync;e&&e()},t.prototype.handleDownloadApp=function(){var e=this.props.onDownloadApp;e&&e()},t.prototype.renderHeaderText=function(){var e=this.props,t=e.activityActionType,n=e.name;switch(t){case M.ActivityActionTypes.LISTEN:return g.default.Messages.INVITE_EMBED_INVITE_TO_LISTEN.format({name:n});case M.ActivityActionTypes.WATCH:return g.default.Messages.INVITE_EMBED_INVITE_TO_WATCH.format({name:n});case M.ActivityActionTypes.SPECTATE:return g.default.Messages.INVITE_EMBED_INVITE_TO_SPECTATE;case M.ActivityActionTypes.JOIN:default:return g.default.Messages.INVITE_EMBED_INVITE_TO_JOIN_GROUP}},t.prototype.renderPartyStatus=function(){var e=this,t=this.props,n=t.activityActionType,a=t.isGameLaunchable,o=t.isSyncable,i=t.isPreview,l=t.isInBrowser,s=t.name,c=t.activity,d=this.getPartySize(),f=d[0],p=d[1];if(this.isDeadInvite())switch(n){case M.ActivityActionTypes.LISTEN:return g.default.Messages.INVITE_EMBED_LISTEN_HAS_ENDED;case M.ActivityActionTypes.WATCH:return g.default.Messages.INVITE_EMBED_WATCH_HAS_ENDED;case M.ActivityActionTypes.SPECTATE:case M.ActivityActionTypes.JOIN:default:return g.default.Messages.INVITE_EMBED_GAME_HAS_ENDED}if(l&&!i)switch(n){case M.ActivityActionTypes.SPECTATE:return g.default.Messages.INVITE_EMBED_SPECTATE_VIA_DESKTOP_APP;case M.ActivityActionTypes.JOIN:return g.default.Messages.INVITE_EMBED_JOIN_VIA_DESKTOP_APP}if(this.isActionType(M.ActivityActionTypes.LISTEN)||this.isActionType(M.ActivityActionTypes.WATCH)){if(null!=c&&null!=c.details&&null!=c.state&&(0,u.isListeningOnSpotify)(c)){return[r("div",{className:E.default.details},"details",r(y.default,{className:E.default.textLink,onClick:this.handleOpenSpotifyTrack},void 0,c.details)),r("div",{className:E.default.state},"state",g.default.Messages.USER_ACTIVITY_LISTENING_ARTISTS.format({artists:c.state,artistsHook:function(t,n){return null!=c.state?r(S.default,{artists:c.state,linkClassName:E.default.textLink,canOpen:null!=c.sync_id,onOpenSpotifyArtist:e.handleOpenSpotifyArtist},n):null}}))]}return this.isActionType(M.ActivityActionTypes.LISTEN)?g.default.Messages.USER_ACTIVITY_LISTEN_ALONG:g.default.Messages.USER_ACTIVITY_WATCH_ALONG}return this.isInParty()?g.default.Messages.INVITE_EMBED_IN_GROUP:a||o||i?this.isActionType(M.ActivityActionTypes.SPECTATE)?g.default.Messages.INVITE_EMBED_SPECTATE:this.isPartyFull()?this.canSpectate()?g.default.Messages.INVITE_EMBED_FULL_GROUP_SPECTATE:g.default.Messages.INVITE_EMBED_FULL_GROUP:this.hasPartySize()?g.default.Messages.INVITE_EMBED_NUM_OPEN_SLOTS.format({number:p-f}):g.default.Messages.JOIN:g.default.Messages.USER_ACTIVITY_NOT_DETECTED.format({name:s})},t.prototype.renderActionButton=function(){var e=this,t=this.props,n=t.isInBrowser,a=t.isPreview,r=t.isGameLaunchable,l=t.partyId,s=t.activity,u=t.message,d=t.renderSpotifyJoinButton,f=t.renderCustomButton,p={className:E.default.actionButton,size:c.default.Sizes.SMALL},h=null!=f?f(p):null;if(null!=h)return h;if(!this.isDeadInvite()&&this.isActionType(M.ActivityActionTypes.LISTEN)&&null!=l&&null!=u&&(0,C.isSpotifyParty)(l))return d(o({},p,{activity:s,user:u.author}));return i.createElement(c.default,o({},p,function(){if(!a&&n&&!e.isDeadInvite())return{children:g.default.Messages.USER_ACTIVITY_ACTION_DOWNLOAD_APP,onClick:e.handleDownloadApp};var t=e.canSpectate();return e.isActionType(M.ActivityActionTypes.SPECTATE)||e.isPartyFull()&&t?t?{children:g.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,onClick:e.handleSpectate}:{children:g.default.Messages.USER_ACTIVITY_ACTION_SPECTATE,disabled:!0}:e.canJoin()?{children:g.default.Messages.JOIN,onClick:e.handleJoin}:e.canSync()?{children:g.default.Messages.JOIN,onClick:e.handleSync}:{children:g.default.Messages.JOIN,disabled:!0}}(),{color:!n&&!r||this.isDeadInvite()?c.default.Colors.GREY:c.default.Colors.GREEN,submitting:this.props.isLaunching}))},t.prototype.renderUser=function(e,t,n){var a=this.props.renderUserPopout;return null!=e?r(I,{member:e,renderUserPopout:a,className:t},n):r("div",{className:(0,l.default)(E.default.partyMemberEmpty,t)},n)},t.prototype.renderMoreUsers=function(e,t,n){return r("div",{className:E.default.moreUsers},n,e)},t.prototype.renderParty=function(){var e=this.props,t=e.partyId,n=e.partyMembers,a=e.hideParty,o=this.getPartySize(),i=o[0],l=o[1],s=this.hasPartySize()||this.isActionType(M.ActivityActionTypes.LISTEN)||this.isActionType(M.ActivityActionTypes.WATCH);if(this.isActionType(M.ActivityActionTypes.SPECTATE)||null==t||this.isDeadInvite()||!s||a)return null;for(var u=[].concat(n);u.length<i;)u.push({user:new b.default({discriminator:"0005"}),unknownUser:!0});for(var c=Math.min(l,106);u.length<c;)u.push(null);return r(v.default,{className:E.default.partyMembers,users:u,max:l>0?Math.min(l,6):6,renderUser:this.renderUser,renderMoreUsers:this.renderMoreUsers})},t.prototype.render=function(){var e=this.props,t=e.className,n=e.coverImage,a=e.name,o=e.activity,i=e.backgroundOpacity,c=this.isActionType(M.ActivityActionTypes.JOIN)||this.isActionType(M.ActivityActionTypes.SPECTATE),f=this.isDeadInvite(),h=void 0;return null==n||null==o||c?!c&&f&&(h=r("div",{className:E.default.artworkSpotifySessionEnded})):h=r("img",{alt:"",src:n,className:(0,s.getClass)(E.default,"artwork",this.getActionableMode())}),null!=o&&null!=h&&null!=o.assets&&o.assets.large_text&&!f&&(0,u.isListeningOnSpotify)(o)&&(h=r(m.default,{text:o.assets.large_text},void 0,r(y.default,{onClick:this.handleOpenSpotifyAlbum},void 0,h))),r("div",{className:(0,l.default)(E.default.invite,t,E.default[i+"BackgroundOpacity"])},void 0,r("div",{className:E.default.coverImageWrapper},void 0,r("div",{className:(0,l.default)((0,s.getClass)(E.default,"coverImage",this.getActionableMode()),null!=h?E.default.blurred:null),style:{backgroundImage:null!=n?"url('"+n+"')":null}})),r(d.default,{className:E.default.fullHeight},void 0,r(d.default,{direction:d.default.Direction.VERTICAL},void 0,r("div",{className:E.default.header},void 0,this.renderHeaderText()),r(d.default.Child,{className:E.default.partyStatus},void 0,this.renderPartyStatus()),r(d.default,{align:d.default.Align.END},void 0,r(d.default,{align:d.default.Align.CENTER,className:E.default.actionAndParty,basis:0,style:{marginRight:0}},void 0,this.renderActionButton(),this.renderParty()),null==h&&c?r("div",{className:E.default.name},void 0,a):null)),h),r(y.default,{href:_.default.getArticleURL(this.getHelpdeskArticleURL()),className:E.default.helpIcon},void 0,r(p.default,{name:p.default.Names.QUESTION_MARK,color:M.Colors.PRIMARY_300,width:12,height:12})))},t}(i.PureComponent);P.displayName="ActivityInviteEmbed",t.default=P,e.exports=t.default},7529:function(e,t,n){"use strict";t.__esModule=!0;var a,o=(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var r=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&r)for(var l in r)void 0===t[l]&&(t[l]=r[l]);else t||(t=r||{});if(1===i)t.children=o;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];t.children=s}return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=M(n(3)),l=M(n(280)),s=M(n(938)),u=M(n(982)),c=M(n(37)),d=M(n(141)),f=M(n(194)),p=M(n(963)),h=M(n(92)),y=M(n(6627)),m=M(n(43)),v=M(n(81)),g=M(n(6079)),E=M(n(6)),_=n(0),b=M(n(5892)),S=M(n(106));function M(e){return e&&e.__esModule?e:{default:e}}var C=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return a.state={textValue:"",textFocused:!0},a.handleTextChange=a.handleTextChange.bind(a),a.handleShare=a.handleShare.bind(a),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderTitle=function(){switch(this.props.activity.type){case _.ActivityTypes.LISTENING:return E.default.Messages.INVITE_EMBED_LISTENING_INVITE;case _.ActivityTypes.PLAYING:case _.ActivityTypes.STREAMING:default:return E.default.Messages.INVITE_EMBED_GAME_INVITE}},t.prototype.render=function(){var e=this,t=this.state,n=t.textValue,a=t.textFocused,i=this.props,l=i.activity,s=i.channel,u=i.activityActionType,c=i.cooldown,d=c>0,f=d?E.default.Messages.CHANNEL_SLOWMODE_COOLDOWN.format({seconds:Math.round((c+1e3)/1e3)}):null;return o(h.default,{size:h.default.Sizes.SMALL},void 0,o(h.default.Header,{},void 0,o(v.default,{tag:v.default.Tags.H4},void 0,this.renderTitle())),o(h.default.Content,{},void 0,o("div",{className:b.default.subHeader},void 0,E.default.Messages.MESSAGE_PREVIEW),o(y.default,{activityActionType:u,activity:l,className:b.default.preview,applicationId:l.application_id,partyId:null!=l.party?l.party.id:null,name:l.name,isPreview:!0}),o("div",{className:b.default.subHeader},void 0,E.default.Messages.ADD_A_COMMENT_OPTIONAL),r.createElement(g.default,{className:b.default.textArea,value:n,focused:a,channel:s,onChange:this.handleTextChange,onSubmit:this.handleShare,type:_.TextareaTypes.FORM,ref:function(t){e.channelTextAreaRef=t}})),o(h.default.Footer,{},void 0,o(S.default,{text:f},void 0,o("div",{},void 0,o(m.default,{disabled:d,onClick:this.handleShare},void 0,E.default.Messages.INVITE_EMBED_SEND_INVITE))),o(m.default,{look:m.default.Looks.LINK,onClick:this.handleCancel},void 0,E.default.Messages.CANCEL)))},t.prototype.handleCancel=function(){c.default.pop()},t.prototype.handleTextChange=function(e,t){this.setState({textValue:t})},t.prototype.handleShare=function(){var e=this.props,t=e.channel,n=e.activity,a=e.activityActionType,o=e.cooldown,r=this.state.textValue;if(o>0)return Promise.resolve({shouldClear:!1,shouldRefocus:!0});var i=l.default.parse(t,r),u={activity:n,type:a};return s.default.isOpen("popout-channel-text-area-shouting")?(f.default.close("popout-channel-text-area-shouting"),d.default.sendMessage(t.id,i,!0,u),c.default.pop(),Promise.resolve({shouldClear:!0,shouldRefocus:!0})):p.default.applyChatRestrictions(this.channelTextAreaRef,r,t).then(function(e){return e.valid?(d.default.sendMessage(t.id,i,!0,u),c.default.pop(),{shouldClear:!1,shouldRefocus:!1}):{shouldClear:!1,shouldRefocus:!1}})},t}(r.PureComponent);C.displayName="ActivityInvite",t.default=i.default.connectStores([u.default],function(e){var t=e.channel;return{cooldown:u.default.getSlowmodeCooldownGuess(t.id)}})(C),e.exports=t.default},7530:function(e,t,n){"use strict";t.__esModule=!0;var a=l(n(2)),o=l(n(13)),r=l(n(6628)),i=n(0);function l(e){return e&&e.__esModule?e:{default:e}}t.default={search:function(e,t){null==r.default.getResults(e,t)&&(a.default.dirtyDispatch({type:i.ActionTypes.INTEGRATION_QUERY,integration:e,query:t}),o.default.get({url:i.Endpoints.INTEGRATIONS+"/"+i.ChannelTextAreaIntegrations[e].command+"/search",query:{q:t}}).then(function(n){a.default.dispatch({type:i.ActionTypes.INTEGRATION_QUERY_SUCCESS,integration:e,query:t,results:n.body})},function(){return a.default.dispatch({type:i.ActionTypes.INTEGRATION_QUERY_FAILURE,integration:e,query:t})}))}},e.exports=t.default},7843:function(e,t,n){"use strict";t.__esModule=!0;var a=r(n(6)),o=r(n(6090));function r(e){return e&&e.__esModule?e:{default:e}}t.default={MENTION_EVERYONE:function(){return{test:"everyone",text:"@everyone",description:a.default.Messages.MENTION_EVERYONE_AUTOCOMPLETE_DESCRIPTION}},MENTION_HERE:function(){return{test:"here",text:"@here",description:a.default.Messages.MENTION_HERE_AUTOCOMPLETE_DESCRIPTION}},LAUNCHABLE_APPLICATIONS:function(){return o.default.launchableApplicationViewItems}},e.exports=t.default},7894:function(e,t,n){e.exports=n.p+"c83861b2303b7ee40c419e9590d57f11.svg"}}]);
//# sourceMappingURL=740547d599081c03e18c.js.map