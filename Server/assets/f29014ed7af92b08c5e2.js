(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{5995:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null!=t&&s.default.register(e,t);var p=e.getExperimentId();return(0,r.default)({displayName:"ExperimentContainer",mixins:[o.default.LazyStoreListenerMixin(e,i.default,u.default,l.default,f.default)],getDefaultProps:function(){return{renderFunctions:t}},getInitialState:function(){return this.getStateFromStores()},shouldComponentUpdate:function(e,t){return!(0,a.default)(this.props,e)||t.guildId!==this.state.guildId||t.channelId!==this.state.channelId||!c.default.experimentDescriptorEquals(t.experimentDescriptor,this.state.experimentDescriptor)},getStateFromStores:function(){var t=this.props.guildId||u.default.getGuildId(),n=this.props.channelId||i.default.getChannelId(t),r=null,o=f.default.getOverrideExperimentDescriptor(p);return r=o||e.getExperimentDescriptor(t,n),{guildId:t,channelId:n,experimentDescriptor:r}},getRenderFunction:function(){var e=this.state.experimentDescriptor,t=this.props.renderFunctions;if(null==e)return t[d.ExperimentTypes.NONE]||h;var n=e.type,r=e.bucket,o=t[n];return null==o?t[d.ExperimentTypes.NONE]||h:null!=o[r]?o[r]:t[d.ExperimentTypes.NONE]||h},handleExperimentTriggered:function(){var e=this.state.experimentDescriptor;if(null!=e&&!e.override){if(null!=n&&!1===n(e,this.props))return;s.default.trigger(e)}},componentDidMount:function(){this.handleExperimentTriggered()},componentDidUpdate:function(e,t){var n=this.state.experimentDescriptor;c.default.experimentDescriptorEquals(n,t.experimentDescriptor)||this.handleExperimentTriggered()},render:function(){var e=this.getRenderFunction(),t=this.state.experimentDescriptor,n=this.props,r=(n.renderFunctions,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["renderFunctions"]));return e(r,t)}})};var r=p(n(53)),o=p(n(3)),a=p(n(277)),i=p(n(65)),u=p(n(192)),l=p(n(14)),s=p(n(5985)),c=p(n(6021)),f=p(n(193)),d=n(0);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(){return null};e.exports=t.default},6013:function(e,t,n){"use strict";t.__esModule=!0,t.HeaderBarIcon=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));n(225);var u=M(n(9)),l=M(n(3)),s=n(943),c=M(n(936)),f=M(n(18)),d=M(n(65)),p=M(n(6630)),h=M(n(37)),E=M(n(194)),y=M(n(7538)),_=M(n(6081)),T=M(n(7536)),S=M(n(377)),m=M(n(7533)),A=M(n(7446)),v=M(n(29)),g=M(n(59)),R=M(n(43)),I=M(n(106)),N=M(n(224)),O=M(n(6043)),C=M(n(6)),P=n(0),b=M(n(5854));function M(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var F="RECENT_MENTIONS_POPOUT",k=t.HeaderBarIcon=function(e){function t(){return L(this,t),D(this,e.apply(this,arguments))}return w(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.tooltip,r=e.onClick,u=e.foreground,l=e.noMargin,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["name","tooltip","onClick","foreground","noMargin"]),c=a(O.default.Icon,{name:t,onClick:r,foreground:u,noMargin:l});return null!=n?i.createElement(I.default,o({text:n,position:I.default.Positions.BOTTOM},s),c):c},t}(i.PureComponent);k.displayName="HeaderBarIcon";var U=l.default.connectStores([p.default],function(){return{state:p.default.getState()}})(function(e){function t(){var n,r;L(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=D(this,e.call.apply(e,[this].concat(a))),r.state={clicked:!1},r.handleInstallDownload=function(){r.state.clicked||(r.setState({clicked:!0}),y.default.quitAndInstall())},D(r,n)}return w(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.state!==this.props.state&&this.setState({clicked:!1})},t.prototype.render=function(){var e=void 0,t=void 0,n=void 0,r=void 0;switch(this.props.state){case P.ActionTypes.UPDATE_NOT_AVAILABLE:case P.ActionTypes.UPDATE_ERROR:break;case P.ActionTypes.CHECKING_FOR_UPDATES:e=g.default.Names.UPDATE_AVAILABLE,n=C.default.Messages.CHECKING_FOR_UPDATES;break;case P.ActionTypes.UPDATE_AVAILABLE:e=g.default.Names.DOWNLOADING,n=C.default.Messages.UPDATE_AVAILABLE;break;case P.ActionTypes.UPDATE_MANUALLY:e=g.default.Names.DOWNLOADING,n=C.default.Messages.UPDATE_MANUALLY,r=this.handleDownloadApps;break;case P.ActionTypes.UPDATE_DOWNLOADED:e=g.default.Names.UPDATE,t=b.default.updateIconForeground,n=C.default.Messages.UPDATE_DOWNLOADED,r=this.handleInstallDownload}return null==e||null==n?null:a(k,{tooltip:n,onClick:r,name:e,foreground:t})},t.prototype.handleDownloadApps=function(){h.default.push(S.default,{source:"Links"})},t}(i.PureComponent)),H=a(O.default.Divider,{}),x=a(U,{}),j=function(e){function t(){var n,r;L(this,t);for(var a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];return n=r=D(this,e.call.apply(e,[this].concat(u))),r.renderRecentMentionsPopout=function(e){return i.createElement(m.default,o({},e,{onJump:r.handleMentionsJump,channel:f.default.getChannel(d.default.getChannelId()),popoutName:F}))},D(r,n)}return w(t,e),t.prototype.renderTitle=function(){var e=this.props.title;return null==e?null:a(O.default.Title,{className:b.default.title},void 0,e)},t.prototype.renderSearch=function(){var e=this.props,t=e.guildId;return null!=e.channelId?a(A.default,{className:b.default.search},t):null},t.prototype.renderBackButton=function(){var e=this.props,t=e.isAuthenticated,n=e.backLocation,r=e.backText;if(null==n)return null;var o=a(R.default.Link,{look:R.default.Looks.BLANK,size:R.default.Sizes.NONE,to:n,className:b.default.back},void 0,a(g.default,{name:g.default.Names.ARROW_LEFT})),i=t?I.default.Positions.BOTTOM:I.default.Positions.RIGHT;return s.isMobile?o:a(I.default,{text:r,position:i},void 0,o)},t.prototype.renderStandardToolbar=function(e){return s.isMobile?null:a(i.Fragment,{},void 0,e?H:null,x,a(N.default,{animationType:N.default.Animations.NONE,uniqueId:F,position:N.default.Positions.BOTTOM_RIGHT,preventInvert:!0,render:this.renderRecentMentionsPopout,subscribeTo:P.ComponentActions.TOGGLE_MENTIONS,closeOnScroll:!1},void 0,a(k,{name:g.default.Names.MENTION,tooltip:C.default.Messages.MENTIONS})),a(k,{name:g.default.Names.QUESTION_MARK,onClick:this.handleHelpToggle,tooltip:C.default.Messages.HELP}))},t.prototype.renderLoggedOut=function(){var e=this.props,t=e.children,n=e.className;return a(O.default,{className:(0,u.default)(b.default.headerBarLoggedOut,n)},void 0,a("div",{className:b.default.headerBarLoggedOutInner},void 0,this.renderBackButton(),this.renderTitle(),null!=t?a(v.default.Child,{},void 0,t):null))},t.prototype.renderLoggedIn=function(){var e=this.props,t=e.children,n=e.renderToolbar,r=e.className,o=null!=n?n():null,u=null!=o&&i.Children.count(o)>0;return a(O.default,{className:r},void 0,this.renderBackButton(),this.renderTitle(),null!=t?a(v.default.Child,{},void 0,t):null,a(v.default,{grow:0,shrink:0,align:v.default.Align.CENTER,className:b.default.toolbar},void 0,o,u?this.renderSearch():null,this.renderStandardToolbar(u)))},t.prototype.render=function(){return this.props.isAuthenticated?this.renderLoggedIn():this.renderLoggedOut()},t.prototype.handleHelpToggle=function(){c.default.isModalOpen(T.default)?h.default.pop():h.default.push(T.default)},t.prototype.handleMentionsJump=function(e){e.shiftKey||E.default.close(F)},t}(i.PureComponent);j.defaultProps={isAuthenticated:!0,backText:C.default.Messages.BACK},j.displayName="HeaderBarContainer",t.default=(0,_.default)(function(e,t){var n;return(n={})[P.ComponentActions.TOGGLE_HELP_MODAL]=t.handleHelpToggle,n})(j)},6021:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(6112)),o=n(0),a=u(n(5985)),i=u(n(193));function u(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e,n=Array.isArray(t),r=0;for(t=n?t:t[Symbol.iterator]();;){var o;if(n){if(r>=t.length)break;o=t[r++]}else{if((r=t.next()).done)break;o=r.value}var a=o,u=i.default.getEligibleExperiment(a);if(null!=u)return u}return null}t.default={getFirstEligibleUserExperiment:l,isInExperimentBucket:function(e,t){return i.default.getExperimentBucket(e)===t},experimentDescriptorEquals:function(e,t){if(null==e&&null==t)return!0;if(e===t)return!0;if(null==e&&null!=t)return!1;if(null!=e&&null==t)return!1;if(null!=e&&null!=t){if(e.type!==t.type)return!1;if(e.bucket!==t.bucket)return!1;if(e.revision!==t.revision)return!1;if(e.name!==t.name)return!1;if(e.type===o.ExperimentTypes.USER&&t.type===o.ExperimentTypes.USER)return(0,r.default)(e.context,t.context)}return!0},triggerFirstEligibleUserExperiment:function(e){var t=l(e);if(t)return a.default.trigger(t),t},getExperimentBucketName:function(e){return e===o.ExperimentBuckets.CONTROL?"Control":e===o.ExperimentBuckets.NOT_ELIGIBLE?"Not Eligible":"Treatment "+e}},e.exports=t.default},6026:function(e,t,n){"use strict";t.__esModule=!0;var r=_(n(7)),o=_(n(3)),a=_(n(24)),i=_(n(7445)),u=_(n(2)),l=n(0),s=_(n(65)),c=_(n(192)),f=_(n(27)),d=_(n(18)),p=_(n(61)),h=_(n(7444)),E=n(6076),y=n(7443);function _(e){return e&&e.__esModule?e:{default:e}}var T=.05,S={},m=!1;function A(e){return null==S[e]&&(S[e]={searchId:e,searchType:v(e),isIndexing:!1,isHistoricalIndexing:!1,isSearching:!1,analyticsId:null,editorState:null,offset:null,query:null,hasError:!1,searchFetcher:null,searchResults:null,totalResults:null,documentsIndexed:null,resultsBlocked:0,showBlockedResults:!1,showNoResultsAlt:!1}),S[e]}function v(e){return f.default.getGuild(e)?l.SearchTypes.GUILD:d.default.getChannel(e)?l.SearchTypes.CHANNEL:null}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e)return n;var r=S[e];return null==r?n:t(r)}var R="SearchStore",I=!1,N={},O=null;function C(e){var t=e.searchId,n=S[t];if(null==n)return!1;null!=n.searchFetcher&&n.searchFetcher.cancel(),delete S[t]}function P(){var e=c.default.getGuildId(),t=s.default.getChannelId(e),n=e||t;if(n===O)return!1;n&&!S[n]&&A(n),O=n}function b(){(0,E.refreshSearchTokens)()}var M=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(s.default,c.default,f.default,d.default);var e,t=a.default.get(R);t&&t.history&&(e=t.history,Object.keys(e).forEach(function(t){Array.isArray(e[t])&&(e[t]=e[t].filter(function(e){return"string"==typeof e&&e.trim()})),Array.isArray(e[t])&&e[t].length||delete e[t]}),N=e),I=!!a.default.get("tokenized")||!1},t.prototype.isOpen=function(){return m},t.prototype.getCurrentSearchId=function(){return O},t.prototype.isActive=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return null!=e&&(this.isIndexing(e)||this.isSearching(e)||this.hasResults(e))},t.prototype.isTokenized=function(){return I},t.prototype.getSearchType=function(e){return g(e||O,function(e){return e.searchType})},t.prototype.getResults=function(e){return g(e,function(e){return e.searchResults})},t.prototype.hasResults=function(e){return null!=g(e,function(e){return e.searchResults})},t.prototype.isIndexing=function(e){return g(e,function(e){return e.isIndexing})||!1},t.prototype.isHistoricalIndexing=function(e){return g(e,function(e){return e.isHistoricalIndexing})||!1},t.prototype.isSearching=function(e){return g(e,function(e){return e.isSearching})||!1},t.prototype.getAnalyticsId=function(e){return g(e,function(e){return e.analyticsId})},t.prototype.getResultsBlocked=function(e){return g(e,function(e){return e.resultsBlocked})},t.prototype.getDocumentsIndexedCount=function(e){return g(e,function(e){return e.documentsIndexed})},t.prototype.getSearchFetcher=function(e){return g(e,function(e){return e.searchFetcher})},t.prototype.getTotalResults=function(e){return g(e,function(e){return e.totalResults})||0},t.prototype.getEditorState=function(e){return g(e,function(e){return e.editorState})},t.prototype.getHistory=function(e){return N[e]},t.prototype.getOffset=function(e){return g(e,function(e){return e.offset})||0},t.prototype.getQuery=function(e){return g(e,function(e){return e.query})},t.prototype.hasError=function(e){return g(e,function(e){return e.hasError})||!1},t.prototype.shouldShowBlockedResults=function(e){return g(e,function(e){return e.showBlockedResults},!1)||!1},t.prototype.shouldShowNoResultsAlt=function(e){return g(e,function(e){return e.showNoResultsAlt},!1)||!1},t.prototype.getResultsState=function(e){return{isSearching:this.isSearching(e),isIndexing:this.isIndexing(e),isHistoricalIndexing:this.isHistoricalIndexing(e),documentsIndexed:this.getDocumentsIndexedCount(e),offset:this.getOffset(e),results:this.getResults(e),totalResults:this.getTotalResults(e),hasError:this.hasError(e),resultsBlocked:this.getResultsBlocked(e),showBlockedResults:this.shouldShowBlockedResults(e),showNoResultsAlt:this.shouldShowNoResultsAlt(e)}},t}(o.default.Store);t.default=new M(u.default,{SEARCH_START:function(e){var t=e.queryString,n=e.searchId,o=e.query,s=A(n);s.searchFetcher&&(s.searchFetcher.cancel(),s.searchFetcher=null);var c=new i.default(n,s.searchType,o);s.searchFetcher=c,s.isSearching=!0,s.searchResults=null,s.analyticsId=null,s.query=r.default.omit(o,"type"),s.offset=o.offset?o.offset:0,s.showBlockedResults=!1,function(e,t){if("string"==typeof t){var n=N[e]=N[e]||[];t=t.trim();var r=n.indexOf(t);-1!==r?(n.splice(r,1),n.unshift(t)):n[0]&&t.startsWith(n[0])?n[0]=t:r<0&&n.unshift(t),n.length>5&&n.splice(5,n.length),a.default.set(R,{history:N})}}(n,t),c.fetch(function(e){u.default.dispatch({type:l.ActionTypes.SEARCH_FINISH,searchId:n,analyticsId:e.body.analytics_id,totalResults:e.body.total_results,messages:e.body.messages,hasError:!1,doingHistoricalIndex:e.body.doing_deep_historical_index,documentsIndexed:e.body.documents_indexed})},function(){u.default.dispatch({type:l.ActionTypes.SEARCH_INDEXING,searchId:n})},function(){u.default.dispatch({type:l.ActionTypes.SEARCH_FINISH,searchId:n,messages:[],totalResults:0,analyticsId:null,hasError:!0,doingHistoricalIndex:!1,documentsIndexed:0})})},SEARCH_INDEXING:function(e){var t=A(e.searchId);t.isIndexing=!0,t.isHistoricalIndexing=!0,t.isSearching=!1},SEARCH_FINISH:function(e){var t=A(e.searchId);t.isSearching=!1,t.isIndexing=!1,t.isHistoricalIndexing=e.doingHistoricalIndex,t.searchFetcher=null,t.totalResults=e.totalResults,t.hasError=e.hasError,t.analyticsId=e.analyticsId,t.documentsIndexed=e.documentsIndexed,t.showNoResultsAlt=Math.random()<T;var n=t.query;if(n){var o=(0,y.createASTHighlighter)(n.content||""),a=0;t.searchResults=(0,r.default)(e.messages).map(function(e){return e.map(function(e){return h.default.create(e,o)})}).map(function(e){return e.filter(function(e){var t=p.default.isBlocked(e.message.author.id);return t&&e.hit&&a++,!t||e.hit})}).value(),t.resultsBlocked=a}else t.hasError=!0},SEARCH_EDITOR_STATE_CLEAR:C,SEARCH_ENSURE_SEARCH_STATE:function(e){var t=e.searchId;t&&A(t)},SEARCH_EDITOR_STATE_CHANGE:function(e){var t=e.searchId,n=e.editorState;A(t).editorState=n},SEARCH_SET_SHOW_BLOCKED_RESULTS:function(e){var t=e.searchId,n=e.showBlocked;A(t).showBlockedResults=n},CHANNEL_SELECT:function(e){return P()},GUILD_SELECT:function(e){return P()},CHANNEL_TOGGLE_SECTION:function(e){return null!=O&&C({searchId:O})},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null==t?(a.default.remove(R),N={}):(delete N[t],a.default.set(R,{history:N}))},LOGOUT:function(e){return a.default.remove(R),void(N={})},CONNECTION_OPEN:function(e){Object.keys(S).forEach(function(e){null!=S[e]&&(S[e].searchType=v(e))})},SEARCH_MODAL_OPEN:function(e){m=!0},SEARCH_MODAL_CLOSE:function(e){m=!1},USER_SETTINGS_UPDATE:function(e){return b()},I18N_LOAD_SUCCESS:function(e){return b()}}),e.exports=t.default},6042:function(e,t,n){"use strict";t.__esModule=!0,t.CarouselNext=t.CarouselPrevious=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),u=d(n(1210)),l=d(n(43)),s=n(270),c=d(s),f=d(n(5852));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y={CENTER:f.default.alignCenter,LEFT:f.default.alignLeft},_=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r._paginationItemRefs=[],r.handleSetScrollerRef=function(e){r._scrollerRef=e},r.handleSelectedIndexChange=function(e){var t=r._scrollerRef;if(null!=t){var n=r._paginationItemRefs[e];null!=n&&t.scrollIntoView(n,!0,r.props.scrollToPadding)}},r.handlePageClick=function(e){(0,r.props.onSetItem)(e)},h(r,n)}return E(t,e),t.prototype.componentDidUpdate=function(e){var t=this.props.selectedIndex;e.selectedIndex!==t&&this.handleSelectedIndexChange(t)},t.prototype.render=function(){var e=this,t=this.props,n=t.renderItem,r=t.items,o=t.vertical,u=t.paginationContainerClass,l=t.align,d=t.gutterStyle,p=o?c.default:s.HorizontalScroller,h=o?f.default.verticalPaginationItemContainer:f.default.horizontalPaginationItemContainer;return a.createElement(p,{track:!0,gutterStyle:d,className:(0,i.default)(h,u,l),ref:this.handleSetScrollerRef},r.map(function(t,r){return a.cloneElement(n(t,r),{onClick:function(){return e.handlePageClick(r)},key:r,ref:function(t){e._paginationItemRefs[r]=t}})}))},t}(a.PureComponent);_.Align=y,_.Gutter=c.default.GutterStyles,_.defaultProps={scrollToPadding:{top:0,left:0,bottom:0,right:0},align:y.CENTER},_.displayName="CarouselPaginationStrip",(t.CarouselPrevious=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handlePrevClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onClick;t&&t(e)},h(r,n)}return E(t,e),t.prototype.render=function(){var e=this.props.className;return o(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:(0,i.default)(f.default.prevButtonContainer,e),onClick:this.handlePrevClick},void 0,o(u.default,{className:f.default.arrow,direction:u.default.Directions.LEFT}))},t}(a.PureComponent)).displayName="CarouselPrevious",(t.CarouselNext=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(a))),r.handleNextClick=function(e){e.stopPropagation(),e.preventDefault();var t=r.props.onClick;t&&t(e)},h(r,n)}return E(t,e),t.prototype.render=function(){var e=this.props.className;return o(l.default,{look:l.default.Looks.BLANK,size:l.default.Sizes.NONE,className:(0,i.default)(f.default.nextButtonContainer,e),onClick:this.handleNextClick},void 0,o(u.default,{className:f.default.arrow,direction:u.default.Directions.RIGHT}))},t}(a.PureComponent)).displayName="CarouselNext",t.default=_},6043:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=h(n(9)),l=n(107),s=h(n(29)),c=h(n(80)),f=h(n(59)),d=h(n(71)),p=h(n(5855));function h(e){return e&&e.__esModule?e:{default:e}}function E(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=E(e,["className","children"]);return i.createElement(d.default,a({className:(0,u.default)(p.default.title,t),weight:d.default.Weights.SEMIBOLD},r),n)},t}(i.PureComponent);S.displayName="HeaderBarTitle";var m=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.getMode=function(){var e=this.props,t=e.disabled,n=e.active;return t?"Disabled":n?"Active":"Inactive"},t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.noMargin,s=t.foreground,d=(t.active,t.disabled),h=t.showBadge,y=t.onClick,_=E(t,["className","noMargin","foreground","active","disabled","showBadge","onClick"]),T=i.createElement(f.default,a({foreground:null!=s?s:p.default.iconForeground},_,{className:(0,u.default)((0,l.getClass)(p.default,"icon",this.getMode()),n)}));return h?o(c.default,{tag:"span",onClick:d?null:y,className:p.default.iconBadgeWrapper},void 0,T,o("span",{className:p.default.iconBadge})):d?T:o(c.default,{tag:"span",onClick:y,className:(0,u.default)((e={},e[p.default.iconMargin]=!r,e))},void 0,T)},t}(i.PureComponent);m.displayName="HeaderBarIcon";var A=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.render=function(){return o("div",{className:(0,u.default)(p.default.divider,this.props.className)})},t}(i.PureComponent);A.displayName="HeaderBarDivider";var v=function(e){function t(){return y(this,t),_(this,e.apply(this,arguments))}return T(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children;return o(s.default,{align:s.default.Align.CENTER,className:(0,u.default)(p.default.headerBarDrag,p.default.headerBar,t),shrink:0,grow:0},void 0,n)},t}(i.PureComponent);v.Icon=m,v.Title=S,v.Divider=A,v.displayName="HeaderBar",t.default=v,e.exports=t.default},6046:function(e,t,n){"use strict";t.__esModule=!0,t.PREMIUM_CODE_SUBSCRIPTION_ID=void 0;var r,o=n(72),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);var u=t.PREMIUM_CODE_SUBSCRIPTION_ID="0",l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){return null==e.id?new t({id:u,type:e.type,createdAt:null,canceledAt:null,currentPeriodStart:0,currentPeriodEnd:new Date(e.current_period_end),status:i.SubscriptionStatusTypes.CANCELED,paymentSourceId:null,paymentGateway:null,plan:null}):new t({id:e.id,type:e.type,createdAt:new Date(e.created_at),canceledAt:null!=e.canceled_at?new Date(e.canceled_at):null,currentPeriodStart:new Date(e.current_period_start),currentPeriodEnd:new Date(e.current_period_end),status:e.status,paymentSourceId:e.payment_source_id,paymentGateway:e.payment_gateway,plan:e.payment_gateway_plan_id})},t.prototype.initialize=function(e){this.id=e.id,this.type=e.type,this.createdAt=e.createdAt,this.canceledAt=e.canceledAt,this.currentPeriodStart=e.currentPeriodStart,this.currentPeriodEnd=e.currentPeriodEnd,this.status=e.status,this.paymentSourceId=e.paymentSourceId,this.paymentGateway=e.paymentGateway,this.plan=e.plan},t}(a.default);t.default=l},6069:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=d(n(3)),a=d(n(24)),i=d(n(2)),u=d(n(23)),l=d(n(166)),s=d(n(932)),c=(d(n(6109)),n(0)),f=d(n(30));function d(e){return e&&e.__esModule?e:{default:e}}var p="storeDirectoryVersion",h=1,E={},y=void 0,_=!1,T=!1,S=void 0,m=void 0,A=void 0,v=void 0,g=0;function R(e){var t=e.directoryLayout;E[t.id]=t,_=!1,y=Date.now(),g=h,a.default.set(p,g)}function I(){E={},y=null}var N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default,u.default,f.default),v=f.default.locale,g=a.default.get(p)||0},t.prototype.getDirectoryLayout=function(e){return E[e]},t.prototype.shouldFetch=function(){return!_&&(null==y||Date.now()-y>18e5)},r(t,[{key:"isFetching",get:function(){return _}},{key:"lastHomeDirectoryView",get:function(){return m}},{key:"lastBrowseDirectoryView",get:function(){return A}},{key:"isLibraryApplicationsHidden",get:function(){return T}},{key:"searchTerm",get:function(){return S}},{key:"hasSeenDirectory",get:function(){return g===h}}]),t}(o.default.Store);t.default=new N(i.default,{APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START:function(e){_=!0},APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS:R,APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS:R,APPLICATION_STORE_DIRECTORY_UNMOUNT:function(e){var t=e.scrollTop;switch(e.directoryLocation){case c.DirectoryLocations.HOME:m={scrollTop:t};break;case c.DirectoryLocations.BROWSE:A={scrollTop:t}}},APPLICATION_STORE_SET_HIDE_LIBRARY:function(e){var t=e.hidden;T=t},APPLICATION_STORE_SET_SEARCH_QUERY:function(e){var t=e.query;S=t},USER_SETTINGS_UPDATE:function(e){var t=e.locale?e.locale:f.default.locale;if(v===t)return!1;v=t,I()},APPLICATION_STORE_CLEAR_DATA:function(e){return I()},APPLICATION_STORE_RESET_NAVIGATION:function(e){return m=null,void(A=null)}}),e.exports=t.default},6075:function(e,t,n){"use strict";t.__esModule=!0,t.ComponentTypes=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getRandomDateShortcut=function(){return a.default.sample(w())},t.refreshSearchTokens=function(){Object.assign(G,(t=[l.default.Messages.SEARCH_ANSWER_HAS_LINK,l.default.Messages.SEARCH_ANSWER_HAS_EMBED,l.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT,l.default.Messages.SEARCH_ANSWER_HAS_VIDEO,l.default.Messages.SEARCH_ANSWER_HAS_IMAGE,l.default.Messages.SEARCH_ANSWER_HAS_SOUND],(e={})[T.SearchTokenTypes.FILTER_FROM]={regex:P(l.default.Messages.SEARCH_FILTER_FROM),componentType:B.FILTER,key:C(l.default.Messages.SEARCH_FILTER_FROM),validator:x,getAutocompletions:U},e[T.SearchTokenTypes.ANSWER_USERNAME_FROM]={follows:[T.SearchTokenTypes.FILTER_FROM],regex:j,validator:b,mutable:!0,componentType:B.ANSWER,queryKey:"author_id"},e[T.SearchTokenTypes.FILTER_MENTIONS]={regex:P(l.default.Messages.SEARCH_FILTER_MENTIONS),componentType:B.FILTER,key:C(l.default.Messages.SEARCH_FILTER_MENTIONS),validator:x,getAutocompletions:U},e[T.SearchTokenTypes.ANSWER_USERNAME_MENTIONS]={follows:[T.SearchTokenTypes.FILTER_MENTIONS],regex:j,validator:b,mutable:!0,componentType:B.ANSWER,queryKey:"mentions"},e[T.SearchTokenTypes.FILTER_HAS]={regex:P(l.default.Messages.SEARCH_FILTER_HAS),componentType:B.FILTER,key:C(l.default.Messages.SEARCH_FILTER_HAS),getAutocompletions:function(e,n,r){return k(e,r,t)}},e[T.SearchTokenTypes.ANSWER_HAS]={regex:new RegExp("(?:\\s*-?("+t.map(function(e){return _.default.escape(e)}).join("|")+"))","i"),follows:[T.SearchTokenTypes.FILTER_HAS],validator:D,componentType:B.ANSWER,queryKey:"has"},e[T.SearchTokenTypes.FILTER_FILE_TYPE]={regex:P(l.default.Messages.SEARCH_FILTER_FILE_TYPE),key:C(l.default.Messages.SEARCH_FILTER_FILE_TYPE),componentType:B.FILTER},e[T.SearchTokenTypes.ANSWER_FILE_TYPE]={regex:/(?:\s*([^\s]+))/,follows:[T.SearchTokenTypes.FILTER_FILE_TYPE],mutable:!0,componentType:B.ANSWER,queryKey:"attachment_extensions"},e[T.SearchTokenTypes.FILTER_FILE_NAME]={regex:P(l.default.Messages.SEARCH_FILTER_FILE_NAME),key:C(l.default.Messages.SEARCH_FILTER_FILE_NAME),componentType:B.FILTER},e[T.SearchTokenTypes.ANSWER_FILE_NAME]={regex:/(?:\s*([^\s]+)(?=\s))/,follows:[T.SearchTokenTypes.FILTER_FILE_NAME],mutable:!0,componentType:B.ANSWER,queryKey:"attachment_filename"},e[T.SearchTokenTypes.FILTER_BEFORE]={regex:P(l.default.Messages.SEARCH_FILTER_BEFORE),componentType:B.FILTER,key:C(l.default.Messages.SEARCH_FILTER_BEFORE),getAutocompletions:function(e,t,n){return F(e,n,T.SearchTokenTypes.FILTER_BEFORE)}},e[T.SearchTokenTypes.FILTER_ON]={regex:P("("+l.default.Messages.SEARCH_FILTER_ON+"|"+l.default.Messages.SEARCH_FILTER_DURING+")"),componentType:B.FILTER,key:C(l.default.Messages.SEARCH_FILTER_DURING),getAutocompletions:function(e,t,n){return F(e,n,T.SearchTokenTypes.FILTER_ON)}},e[T.SearchTokenTypes.FILTER_AFTER]={regex:P(l.default.Messages.SEARCH_FILTER_AFTER),componentType:B.FILTER,key:C(l.default.Messages.SEARCH_FILTER_AFTER),getAutocompletions:function(e,t,n){return F(e,n,T.SearchTokenTypes.FILTER_AFTER)}},e[T.SearchTokenTypes.ANSWER_BEFORE]={regex:O,follows:[T.SearchTokenTypes.FILTER_BEFORE],componentType:B.ANSWER,mutable:!0,validator:function(e){return M(e,"before")}},e[T.SearchTokenTypes.ANSWER_ON]={regex:O,follows:[T.SearchTokenTypes.FILTER_ON],componentType:B.ANSWER,mutable:!0,validator:function(e){return M(e,"on")}},e[T.SearchTokenTypes.ANSWER_AFTER]={regex:O,follows:[T.SearchTokenTypes.FILTER_AFTER],componentType:B.ANSWER,mutable:!0,validator:function(e){return M(e,"after")}},e[T.SearchTokenTypes.FILTER_IN]={regex:P(l.default.Messages.SEARCH_FILTER_IN),componentType:B.FILTER,key:C(l.default.Messages.SEARCH_FILTER_IN),validator:H,getAutocompletions:function(e,t,n){"#"===e[0]&&(e=e.substring(1));var r=y.default.queryChannels(e,t,1/0).map(function(e){var t=e.channel;return t});if(!e.trim()){var o=d.default.getChannelId(t),i=r.find(function(e){return e.id===o});i&&(r.splice(r.indexOf(i),1),r.unshift(i))}var u=E.default.getTextChannelNameDisambiguations(t);return(0,a.default)(r).take(n).map(function(e){return{text:""+u[e.id].name,channel:e}}).value()}},e[T.SearchTokenTypes.ANSWER_IN]={regex:/(?:\s*#?([^ ]+))/i,mutable:!0,follows:[T.SearchTokenTypes.FILTER_IN],componentType:B.ANSWER,validator:L,queryKey:"channel_id"},e));var e,t},t.getFilterAutocompletions=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(G).length;return(0,a.default)(Object.keys(G)).filter(function(e){return T.IS_SEARCH_FILTER_TOKEN.test(e)}).filter(function(e){return G[e].key}).map(function(e){return{token:e,text:G[e].key}}).filter(function(t){var n=t.text;return(0,o.default)(e.toLowerCase(),n)}).take(t).value()};var o=S(n(6033)),a=S(n(7)),i=S(n(5)),u=S(n(142)),l=S(n(6)),s=S(n(12)),c=S(n(6026)),f=S(n(192)),d=S(n(65)),p=S(n(126)),h=S(n(61)),E=S(n(117)),y=S(n(6055)),_=S(n(237)),T=n(0);function S(e){return e&&e.__esModule?e:{default:e}}function m(){return new Set(i.default.months().map(function(e){return e.toLowerCase()}))}function A(){return new Set(i.default.weekdays().map(function(e){return e.toLowerCase()}))}function v(){var e=(new Date).getFullYear();return new Set(a.default.range(2015,e+1).map(function(e){return e.toString()}))}function g(e,t){return[e,e.clone().add(1,t)]}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return g((0,i.default)().startOf(e).add(t,e),e)}function I(e,t,n){return g((0,i.default)(e,t).local(),n)}function N(){var e;return(e={})[l.default.Messages.SEARCH_SHORTCUT_TODAY]=function(){return R("day")},e[l.default.Messages.SEARCH_SHORTCUT_YESTERDAY]=function(){return R("day",-1)},e[l.default.Messages.SEARCH_SHORTCUT_WEEK]=function(){return R("week")},e[l.default.Messages.SEARCH_SHORTCUT_MONTH]=function(){return R("month")},e[l.default.Messages.SEARCH_SHORTCUT_YEAR]=function(){return R("year")},e}var O=new RegExp("(?:\\s*(([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})|([0-9]{4})-([0-9]{1,2})|\\d{4}|([a-z]+)))","i");function C(e){return e+":"}function P(e){return new RegExp(C(e),"i")}function b(e){var t=void 0;return!!(t=e.getMatch(1)===T.ME?s.default.getCurrentUser():s.default.findByTag(e.getMatch(2),e.getMatch(3)))&&(e.setData("user",t),!0)}function M(e,t){var n=e.getFullMatch().trim().toLowerCase(),r=N()[n],o=void 0,a=void 0;if(null!=r){var i=r();o=i[0],a=i[1]}else if(m().has(n)){var u=I(n,"MMMM","month");o=u[0],a=u[1]}else if(A().has(n)){var l=I(n,"dddd","day");o=l[0],a=l[1]}else if(v().has(n)){var s=I(n,"YYYY","year");o=s[0],a=s[1]}else{var c=I(n,T.SEARCH_DATE_FORMAT,"day");o=c[0],a=c[1]}return!(!o.isValid()||!a.isValid())&&("before"===t?(a=o,o=null):"after"===t&&(o=a,a=null),e.setData("start",o),e.setData("end",a),!0)}function L(e){var t=e.getMatch(1),n=f.default.getGuildId(),r=E.default.getChannels(n)[T.ChannelTypes.GUILD_TEXT],o=E.default.getTextChannelNameDisambiguations(n),i=a.default.chain(r).map(function(e){return e.channel}).find(function(e){return t===o[e.id].name}).value();return!!i&&(e.setData("channel",i),!0)}function D(e){var t,n=(t={},t[l.default.Messages.SEARCH_ANSWER_HAS_LINK]="link",t[l.default.Messages.SEARCH_ANSWER_HAS_EMBED]="embed",t[l.default.Messages.SEARCH_ANSWER_HAS_ATTACHMENT]="file",t[l.default.Messages.SEARCH_ANSWER_HAS_VIDEO]="video",t[l.default.Messages.SEARCH_ANSWER_HAS_IMAGE]="image",t[l.default.Messages.SEARCH_ANSWER_HAS_SOUND]="sound",t)[e.getMatch(1)];return!!n&&(e.setData("has",n),!0)}function w(){return[].concat(Array.from(m()),Array.from(A()),Array.from(v()),Object.keys(N()))}function F(e,t,n){return k(e,t,w()).map(function(e){return r({},e,{group:n,key:n+"-"+e.text})})}function k(e,t,n){return(0,a.default)(n).filter(function(t){return(0,o.default)(e.toLocaleLowerCase(),t.toLowerCase())}).take(t).map(function(e){return{text:e}}).value()}function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=c.default.getSearchType(t);e=e.split("#")[0];var a=void 0;switch(o){case T.SearchTypes.GUILD:a=y.default.queryGuildUsers;break;case T.SearchTypes.CHANNEL:a=y.default.queryChannelUsers;break;default:return[]}return a(t,e,n,r).filter(function(e){var t=e.user;return!h.default.isBlocked(t.id)}).map(function(e){var t=e.user;return{text:t.tag,user:t}})}function H(){return c.default.getSearchType()===T.SearchTypes.GUILD}function x(){return!p.default.hidePersonalInformation}var j=/^(?:\s*(@me|([^@#:]+)#([0-9]{4})))/i,B=t.ComponentTypes=(0,u.default)({FILTER:null,ANSWER:null});var G={};t.default=G},6076:function(e,t,n){"use strict";t.__esModule=!0,t.ShowDatePicker=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getSearchOptionAnswer=function(e){switch(e){case c.SearchTokenTypes.FILTER_FROM:return f.default.Messages.SEARCH_ANSWER_FROM;case c.SearchTokenTypes.FILTER_MENTIONS:return f.default.Messages.SEARCH_ANSWER_MENTIONS;case c.SearchTokenTypes.FILTER_HAS:return f.default.Messages.SEARCH_ANSWER_HAS;case c.SearchTokenTypes.FILTER_BEFORE:case c.SearchTokenTypes.FILTER_ON:case c.SearchTokenTypes.FILTER_AFTER:return f.default.Messages.SEARCH_ANSWER_DATE;case c.SearchTokenTypes.FILTER_IN:return f.default.Messages.SEARCH_ANSWER_IN;case c.SearchTokenTypes.FILTER_FILE_TYPE:return f.default.Messages.SEARCH_ANSWER_FILE_TYPE;case c.SearchTokenTypes.FILTER_FILE_NAME:return f.default.Messages.SEARCH_ANSWER_FILE_NAME}},t.getSearchQueryFromTokens=function(e){var t={};e.forEach(function(e){var n=e.type;if(!c.IS_SEARCH_FILTER_TOKEN.test(n)){switch(n){case c.SearchTokenTypes.ANSWER_BEFORE:case c.SearchTokenTypes.ANSWER_ON:case c.SearchTokenTypes.ANSWER_AFTER:var r=e.getData("start"),o=e.getData("end");return r&&(t.min_id=s.default.fromTimestamp(r)),void(o&&(t.max_id=s.default.fromTimestamp(o)))}var a=function(e){var t=l.default[e],n=t?t.queryKey:null;n||(n="content");return n}(n);null==t[a]&&(t[a]=new Set);var i=t[a];switch(n){case c.SearchTokenTypes.ANSWER_USERNAME_FROM:case c.SearchTokenTypes.ANSWER_USERNAME_MENTIONS:i.add(e.getData("user").id);break;case c.SearchTokenTypes.ANSWER_FILE_TYPE:case c.SearchTokenTypes.ANSWER_FILE_NAME:i.add(e.getMatch(1));break;case c.SearchTokenTypes.ANSWER_IN:i.add(e.getData("channel").id);break;case c.SearchTokenTypes.ANSWER_HAS:i.add(e.getData("has"));break;default:i.add(e.getFullMatch().trim())}}});for(var n=Object.entries(t),r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var i=a,u=i[0],f=i[1];f instanceof Set&&(t[u]=Array.from(f))}t.content&&(t.content=t.content.join(" ").trim(),t.content||delete t.content);return t},t.getNonTokenQuery=function(e){return e.map(function(e){return e.type===i.default.NON_TOKEN_TYPE?e.getFullMatch():""}).join(" ").trim()},t.getSelectionScope=function(e,t,n){var r=void 0,o=void 0,a=e.find(function(a,i){return t>=a.start&&t<=a.end&&n>=a.start&&n<=a.end?(e[i+1]&&(o=e[i+1]),!0):(r=a,!1)});if(!a)return null;return{previousToken:r,currentToken:a,nextToken:o,focusOffset:t,anchorOffset:n}},t.getAutocompleteMode=function(e,t){var n=e=e||{},r=n.currentToken,o=n.nextToken,a=n.previousToken;if(0===t.length)return{type:c.SearchPopoutModes.EMPTY,filter:null,token:null};if(!r)return{type:c.SearchPopoutModes.FILTER_ALL,filter:null,token:null};if(c.IS_SEARCH_FILTER_TOKEN.test(r.type)){if(!o||o.type===i.default.NON_TOKEN_TYPE)return{type:c.SearchPopoutModes.FILTER,filter:r.type,token:o};if(o&&!c.IS_SEARCH_ANSWER_TOKEN.test(o.type))return{type:c.SearchPopoutModes.FILTER,filter:r.type,token:null}}if(r.type===i.default.NON_TOKEN_TYPE&&a&&c.IS_SEARCH_FILTER_TOKEN.test(a.type))return{type:c.SearchPopoutModes.FILTER,filter:a.type,token:r};var u=void 0;r.type===i.default.NON_TOKEN_TYPE&&(u=r);return{type:c.SearchPopoutModes.FILTER_ALL,filter:null,token:u}},t.getFlattenedStringArray=function(e,t){var n=[];return(0,a.default)(e).forEach(function(e){if(e&&e.results.length){var r=e.group;n=n.concat(e.results.map(function(e){var n=e.text;if(t===c.SearchPopoutModes.FILTER_ALL){r=e.group||r;var o=l.default[r];o&&o.key&&(n=o.key+" "+n)}return n}))}}),n.filter(function(e){return e})},t.getTotalResults=function(e){return e.reduce(function(e,t){return t?t.results.length+e:e},0)},t.getQueryFromTokens=function(e){if(!e)return"";return e.map(function(e){return e.getFullMatch()}).join("")},t.tokenizeQuery=function(e){return h.tokenize(e)},t.clearTokenCache=function(){return h.clearCache()},t.showDatePicker=function(e){return p[e]},t.filterHasAnswer=function(e,t){var n=c.IS_SEARCH_FILTER_TOKEN.test(e.type);if(!t&&n||t&&n&&!c.IS_SEARCH_ANSWER_TOKEN.test(t.type))return!1;return!0},t.refreshSearchTokens=function(){(0,u.refreshSearchTokens)(),h.reset(),(0,a.default)(l.default).forOwn(function(e,t){return h.addRule(o({type:t},e))})};var a=d(n(7)),i=d(n(6119)),u=n(6075),l=d(u),s=d(n(145)),c=n(0),f=d(n(6));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.ShowDatePicker=((r={})[c.SearchTokenTypes.FILTER_BEFORE]=!0,r[c.SearchTokenTypes.FILTER_AFTER]=!0,r[c.SearchTokenTypes.FILTER_ON]=!0,r);var h=new i.default},6078:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(3)),i=s(n(2)),u=s(n(6046)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var c={};function f(e){var t,n=e.subscription;c=o({},c,((t={})[n.id]=u.default.createFromServer(n),t))}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getPremiumSubscription=function(){for(var e in c)if(c[e].type===l.SubscriptionTypes.PREMIUM)return c[e];return null},r(t,[{key:"subscriptions",get:function(){return c}}]),t}(a.default.Store);t.default=new d(i.default,{BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){var t=e.subscriptions;c={},t.forEach(function(e){c[e.id]=u.default.createFromServer(e)})},BILLING_SUBSCRIPTION_UPDATE_SUCCESS:f,PREMIUM_CODE_ACTIVATION_SUCCESS:f,LOGOUT:function(e){c={}}}),e.exports=t.default},6108:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.updateLocation=function(e,t){o.default.wait(function(){return o.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_LOCATION_CHANGE,location:e,action:t})})},t.goBack=function(e){var t=a.default.getRouteAtIndex(-1);null!=t&&i.default.replaceWith(t,r({},e,{back:!0}))},t.goForward=function(){var e=a.default.getRouteAtIndex(1);null!=e&&i.default.replaceWith(e,{forward:!0})},t.handleDirectoryUnmount=function(e,t){o.default.dispatch({type:u.ActionTypes.APPLICATION_STORE_DIRECTORY_UNMOUNT,scrollTop:e,directoryLocation:t})};var o=l(n(2)),a=l(n(6070)),i=l(n(40)),u=n(0);function l(e){return e&&e.__esModule?e:{default:e}}},6109:function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(72),a=(r=o)&&r.__esModule?r:{default:r},i=n(0);var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.createFromServer=function(e){var n=function(e){return{type:""+e.type,skuId:e.sku_id}};return new t({id:e.id,hero:e.data.hero.map(function(e){return e.type===i.StoreDirectoryHeroCarouselItemTypes.APPLICATION?{type:i.StoreDirectoryHeroCarouselItemTypes.APPLICATION,skuId:e.sku_id}:e.type===i.StoreDirectoryHeroCarouselItemTypes.CUSTOM_DISCORD?null==e.url||null==e.title||null==e.description||null==e.button_label||null==e.pagination_image_url?null:{type:i.StoreDirectoryHeroCarouselItemTypes.CUSTOM_DISCORD,url:e.url,title:e.title,description:e.description,buttonLabel:e.button_label,thumbnailUrl:e.thumbnail_url,previewVideoUrl:e.preview_video_url,fullVideoUrl:e.full_video_url,paginationImageUrl:e.pagination_image_url,backgroundUrl:e.background_url}:null}).filter(Boolean),premiumCarousel:e.data.premium_carousel.map(function(e){return{skuId:e.sku_id,tagline:e.tagline}}),featured:e.data.featured.map(n),bestSellers:null!=e.data.best_sellers?e.data.best_sellers.map(n):[],premium:e.data.premium.map(n),allSkuIds:e.data.sku_ids||[]})},t.prototype.initialize=function(e){this.id=e.id,this.hero=e.hero,this.premiumCarousel=e.premiumCarousel,this.featured=e.featured,this.bestSellers=e.bestSellers,this.premium=e.premium,this.allSkuTiles=e.allSkuIds.map(function(e){return{skuId:e,type:i.StoreDirectoryTileTypes.REGULAR}}),this.allSkuIds=e.allSkuIds},t}(a.default);t.default=u,e.exports=t.default},6110:function(e,t,n){"use strict";t.__esModule=!0,t.loadDirectory=t.loadLayout=void 0;var r,o;t.loadLayout=(r=f(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_START}),e.next=3,a.default.get(s.Endpoints.STORE_DIRECTORY_LAYOUT(t));case 3:return n=e.sent,r=l.default.createFromServer(n.body),i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_DIRECTORY_LAYOUT_FETCH_SUCCESS,directoryLayout:r}),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)}),t.loadDirectory=(o=f(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.httpGetWithCountryCodeQuery)(s.Endpoints.STORE_DIRECTORY(t));case 2:n=e.sent,r=n.body,o=n.body.store_listings,i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_DIRECTORY_FETCH_SUCCESS,directoryLayout:l.default.createFromServer(r),storeListings:o});case 6:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)});t.setHideLibraryGames=function(e){i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_SET_HIDE_LIBRARY,hidden:e})},t.updateSearchTerm=function(e){i.default.wait(function(){return i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_SET_SEARCH_QUERY,query:e})})},t.clearStoreData=function(){i.default.dispatch({type:s.ActionTypes.APPLICATION_STORE_CLEAR_DATA})};var a=c(n(13)),i=c(n(2)),u=n(227),l=c(n(6109)),s=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(o,a){try{var i=t[o](a),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}("next")})}}},6111:function(e,t,n){"use strict";t.__esModule=!0,t.deepLinkRouteIfLandedAndNotAuthed=t.deepLinkRouteIfLanded=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(14)),a=s(n(1026)),i=s(n(11)),u=s(n(546)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}var c=t.deepLinkRouteIfLanded=i.default.embedded?l.NOOP:function(e,t){i.default.isDesktop&&!a.default.hasNavigated&&u.default.requestOnce(l.RPCCommands.DEEP_LINK,{type:e,params:t})};t.deepLinkRouteIfLandedAndNotAuthed=i.default.embedded?l.NOOP:function(e,t){if(!o.default.isAuthenticated())return c(e,r({},t||{},{fingerprint:o.default.getFingerprint()}))}},6119:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=/.+/g,i=t.NON_TOKEN_TYPE="NON_TOKEN";function u(e,t,n){if(!t)return null;for(var r=0;r<t.length;r++){var o=t[r],a=l(e.match(o.regex),n),i=void 0;if(a){var u=o.cache;if(u&&(i=u.get(a[0]))&&((i=new c(i)).start=a.index),!i){if(i=new c(a,o.type),o.validator&&!o.validator(i))continue;u&&!u.has(a[0])&&u.set(a[0],i)}return i}}return null}function l(e,t){if(!e)return null;var n=[].concat(e);return n.index=t,n}var s=t.QueryTokenizer=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1];o(this,e),this.reset(n,r),n.forEach(function(e){return t.addRule(e)})}return e.prototype.reset=function(e){this._rules=[],this._followers={},this._nonTokenType=e||i},e.prototype.addRule=function(e){var t=this,n=e.type,r=e.follows,o=e.validator,a=e.regex;"^"!==a.source.charAt(0)&&(a=new RegExp("^"+a.source,a.flags));var i=void 0;o&&(i=new Map),r?r.forEach(function(e){t._followers[e]||(t._followers[e]=[]),t._followers[e].push({regex:a,type:n,validator:o,cache:i})}):this._rules.push({regex:a,type:n,validator:o,cache:i})},e.prototype.tokenize=function(e){for(var t=e,n="",r=0,o=void 0,i=[];t.length;){var u=this._getMatch(t,o,r+n.length);u?(n&&i.push(new c(l(n.match(a),r),this._nonTokenType)),o=u,i.push(u),r+=o.length+n.length,t=t.substring(o.length),n=""):(n+=t[0],t=t.substring(1))}return n&&i.push(new c(l(n.match(a),r),this._nonTokenType)),i},e.prototype.clearCache=function(){for(var e in this._rules.forEach(function(e){return e.cache&&e.cache.clear()}),this._followers){this._followers[e].forEach(function(e){return e.cache&&e.cache.clear()})}},e.prototype._getMatch=function(e,t,n){var r=t?t.type:null,o=void 0;return t&&t.end===n&&(o=u(e,this._followers[r],n)),o||(o=u(e,this._rules,n)),o},e}(),c=t.Token=function(){function e(t,n){o(this,e),t instanceof e?(this.match=[].concat(t.match),this.start=t.start,this.type=t.type,t._data&&(this._data=t._data)):(this.match=[].concat(t),this.start=t.index||0,this.type=n)}return e.prototype.valueOf=function(){return this.match[0]},e.prototype.getFullMatch=function(){return this.match[0]},e.prototype.getMatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.match[e]},e.prototype.setData=function(e,t){this._data||(this._data=new Map),this._data.set(e,t)},e.prototype.getData=function(e){if(this._data)return this._data.get(e)},r(e,[{key:"end",get:function(){return this.start+this.length}},{key:"length",get:function(){return this.match[0].length}}]),e}();s.NON_TOKEN_TYPE=i,s.Token=c,t.default=s},6120:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(3)),o=l(n(24)),a=l(n(2)),i=n(0),u=l(n(6026));function l(e){return e&&e.__esModule?e:{default:e}}var s="ChannelSectionStore",c=null,f=null;function d(){var e=void 0;if(u.default.isActive()&&(e=i.ChannelSections.SEARCH),f===e)return!1;f=e}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){c=o.default.get(s)||i.ChannelSections.MEMBERS},t.prototype.getSection=function(){return f||c},t}(r.default.Store);t.default=new p(a.default,{CHANNEL_TOGGLE_SECTION:function(e){var t=e.section;c===t?null==f&&(c=i.ChannelSections.NONE):c=t,f=null,o.default.set(s,c)},SEARCH_START:function(e){return d()},SEARCH_INDEXING:function(e){return d()},SEARCH_FINISH:function(e){return d()},SEARCH_EDITOR_STATE_CLEAR:function(e){return d()},SEARCH_EDITOR_STATE_CHANGE:function(e){return d()},CHANNEL_SELECT:function(e){return d()},GUILD_SELECT:function(e){return d()}}),e.exports=t.default},6216:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=h(n(9)),u=n(526),l=n(6435),s=h(n(163)),c=h(n(59)),f=h(n(6)),d=n(0),p=h(n(5834));function h(e){return e&&e.__esModule?e:{default:e}}var E=function(e){var t=e.iconName,n=e.className;return o("div",{className:(0,i.default)(p.default.iconCircle,n)},void 0,o(c.default,{name:t,className:p.default.icon}))};E.displayName="IconCircle";var y=function(e){var t=e.circle,n=e.smallHeader,r=e.text,a=e.className;return o("div",{className:(0,i.default)(p.default.recommendationReason,a)},void 0,t,o("div",{className:p.default.description},void 0,null!=n?o("div",{className:p.default.smallHeader},void 0,n):null,o("div",{className:p.default.text},void 0,r)))};y.displayName="Unit";var _=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderReviewAggregator=function(e){var t=this.props.className,n=(0,l.getRatingTier)(e);return null==n?null:o(y,{circle:null!=e.url?o(s.default,{href:e.url,useDefaultUnderlineStyles:!1,className:(0,i.default)(p.default.reviewCircle,p.default.circleAnchor),style:{backgroundColor:n.color}},void 0,e.criticScore):o("div",{className:p.default.reviewCircle,style:{backgroundColor:n.color}},void 0,e.criticScore),smallHeader:f.default.Messages.APPLICATION_STORE_SECTION_TITLE_METACRITIC,text:n.label,className:t})},t.prototype.render=function(){var e=this.props,t=e.reason,n=e.className;return t.type===d.StoreRecommendationTypes.RECENT_RELEASE_DATE?o(y,{className:n,circle:o(E,{iconName:c.default.Names.CALENDAR}),smallHeader:f.default.Messages.APPLICATION_STORE_NEW_RELEASE,text:(0,u.dateFormat)(t.releaseDate,"LL")}):t.type===d.StoreRecommendationTypes.RELEASE_DATE?o(y,{className:n,circle:o(E,{iconName:c.default.Names.CALENDAR}),smallHeader:f.default.Messages.APPLICATION_STORE_DETAILS_RELEASE_DATE,text:(0,u.dateFormat)(t.releaseDate,"LL")}):t.type===d.StoreRecommendationTypes.EARLY_ACCESS?null!=t.releaseDate?o(y,{className:n,circle:o(E,{iconName:c.default.Names.EARLY_ACCESS,className:p.default.earlyAccess}),smallHeader:f.default.Messages.APPLICATION_STORE_EARLY_ACCESS,text:(0,u.dateFormat)(t.releaseDate,"LL")}):o(y,{className:n,circle:o(E,{iconName:c.default.Names.EARLY_ACCESS,className:p.default.earlyAccess}),text:f.default.Messages.APPLICATION_STORE_EARLY_ACCESS}):t.type===d.StoreRecommendationTypes.METACRITIC_SCORE?this.renderReviewAggregator(t.reviewAggregator):t.type===d.StoreRecommendationTypes.FLAVOR_TEXT?o(y,{circle:o(E,{iconName:c.default.Names.CHECKMARK}),text:t.flavorText,className:n}):null},t}(a.Component);_.displayName="StoreRecommendationReason",t.default=_,e.exports=t.default},6217:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(3)),o=a(n(2));n(0);function a(e){return e&&e.__esModule?e:{default:e}}var i=void 0,u=void 0,l=void 0;function s(){u={},i={},l=new Set}s();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getStatisticsForApplication=function(e){return i[e]},t.prototype.shouldFetchStatisticsForApplication=function(e){var t=u[e];return!l.has(e)&&(null==t||Date.now()-t>36e5)},t}(r.default.Store);t.default=new c(o.default,{APPLICATION_ACTIVITY_STATISTICS_FETCH_START:function(e){var t=e.applicationId;l.add(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL:function(e){var t=e.applicationId;l.delete(t)},APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS:function(e){var t=e.statistics,n=e.applicationId;u[n]=Date.now(),l.delete(n),i[n]=t},LOGOUT:function(e){return s()}}),e.exports=t.default},6218:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=R(n(1)),u=g(n(3)),l=g(n(9)),s=g(n(1241)),c=n(233),f=g(n(5)),d=g(n(166)),p=g(n(128)),h=g(n(57)),E=R(n(34)),y=g(n(7309)),_=g(n(952)),T=g(n(29)),S=n(0),m=g(n(5830)),A=g(n(5829)),v=g(n(6));function g(e){return e&&e.__esModule?e:{default:e}}function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=(0,c.cssValueToNumber)(A.default.mediaQueryMobileHeader),O=(0,f.default)(new Date(0)),C=function(e){var t=d.default.get(e.skuId);if(null==t)throw new Error("Should not be rendering/comparing without SKU");return t},P=function(e,t){var n=C(e),r=C(t);return n.name.localeCompare(r.name,"en",{sensitivity:"base"})},b=function(e,t){return P(t,e)},M=function(e,t){return(0,s.default)(t.skuId).compare((0,s.default)(e.skuId))},L=function(e,t){var n=C(e),r=C(t),o=n.releaseDate,a=r.releaseDate,i=Date.now();return(null==o||o.isAfter(i))&&(o=O),(null==a||a.isAfter(i))&&(a=O),o.isAfter(a)?-1:o.isBefore(a)?1:P(e,t)},D=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=I(this,e.call.apply(e,[this].concat(a))),r.analyticsPropsForTile=function(e){var t=r.props,n=t.sort,o=t.viewConfig,a=t.analyticsIndexOffset,i=t.analyticsApplicationTypeFilter;return{listIndex:e+a,listSort:n,listSearched:null!=o&&Boolean(o.titleQuery),listFilterDistributionType:i}},r.getSortedTiledLayout=function(){var e=r.props,t=e.directoryLayout;switch(e.sort){case S.StoreApplicationSort.FEATURED:return t.featured;case S.StoreApplicationSort.BEST_SELLERS:return t.bestSellers;case S.StoreApplicationSort.NEW_RELEASES:return t.allSkuTiles.sort(L);case S.StoreApplicationSort.PREMIUM:return t.premium;case S.StoreApplicationSort.ALPHABETICAL:return t.allSkuTiles.sort(P);case S.StoreApplicationSort.REVERSE_ALPHABETICAL:return t.allSkuTiles.sort(b);case S.StoreApplicationSort.ID:return t.allSkuTiles.sort(M);default:return t.allSkuTiles}},I(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getApplicationFilterProperties=function(e){var t=new Set;return e.accessType===S.SKUAccessTypes.EARLY_ACCESS&&t.add(S.StoreApplicationFilterProperty.EARLY_ACCESS),e.isOnSale&&t.add(S.StoreApplicationFilterProperty.SALE),e.premium?t.add(S.StoreApplicationFilterProperty.PREMIUM):null!=e.getPrice()?t.add(S.StoreApplicationFilterProperty.DISTRIBUTION):t.add(S.StoreApplicationFilterProperty.COMING_SOON),t},t.prototype.getFilteredTileLayout=function(e,t){var n=this,r=e.titleQuery,o=e.hideApplicationsInUserLibrary,a=e.applicationTypes,i=e.genre,u=t;return null!=i&&i!==S.StoreApplicationGenresFilter.ALL&&(u=u.filter(function(e){var t=C(e);return null!=t.genres&&t.genres.has(i)})),null!=a&&(u=u.filter(function(e){var t=C(e);return null!=t&&Array.from(a).filter(function(e){return n.getApplicationFilterProperties(t).has(e)}).length>0})),null!=r&&(u=u.filter(function(e){var t=C(e);return null!=t&&t.name.toLowerCase().includes(r.toLowerCase())})),o&&(u=u.filter(function(e){var t=C(e);return!h.default.hasApplication(t.applicationId,t.applicationId,!0)})),u},t.prototype.handleTileContextMenu=function(e,t){E.openContextMenu(e,function(e){return i.createElement(_.default,a({},e,{type:S.ContextMenuTypes.APPLICATION_STORE_DIRECTORY,applicationId:t}))})},t.prototype.renderEmptyState=function(){var e=this.props.className;return o("div",{className:e},void 0,o("div",{className:m.default.emptyWumpus}),o("h1",{className:m.default.noMatches},void 0,v.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),o("div",{className:m.default.noMatchesDescription},void 0,v.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_SUBHEADER))},t.prototype.render=function(){var e=this,t=this.props,n=t.directoryLayout,r=t.sort,u=t.className,s=t.viewConfig,c=t.maxTiles,f=t.isSmallResolution,d=t.onSKUViewed,p=null!=r?this.getSortedTiledLayout():n.allSkuTiles,h=null!=s?this.getFilteredTileLayout(s,p):p;return 0===h.length&&null!=s?this.renderEmptyState():(null!=c&&(h=h.slice(0,c)),o("div",{className:u},void 0,o(T.default,{wrap:T.default.Wrap.WRAP},void 0,h.map(function(t,n){var r,o=e.analyticsPropsForTile(n),u=f?S.StoreDirectoryTileTypes.REGULAR:t.type;return i.createElement(y.default,a({key:t.skuId},t,o,{type:u,className:(0,l.default)(m.default.tile,(r={},r[m.default.tileRegular]=u===S.StoreDirectoryTileTypes.REGULAR,r[m.default.tileMedia]=u===S.StoreDirectoryTileTypes.MEDIA,r)),onSKUViewed:d,onContextMenu:e.handleTileContextMenu}))}))))},t}(i.Component);D.defaultProps={analyticsIndexOffset:0},D.displayName="ApplicationDirectoryTileLayout",t.default=u.default.connectStores([p.default],function(){return{isSmallResolution:p.default.windowSize().width<N}})(D),e.exports=t.default},6240:function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.search=c,t.searchByMode=function(e,t){var n=a.default.getQuery(e);return c(e,r({},n,{offset:0,sort_by:t}))},t.searchNextPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.SEARCH_PAGE_SIZE;return f(e,t)},t.searchPreviousPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.SEARCH_PAGE_SIZE;return f(e,-t)},t.clearHistory=function(e){o.default.dispatch({type:l.ActionTypes.SEARCH_CLEAR_HISTORY,searchId:e})},t.ensureSearchState=function(e){o.default.dispatch({type:l.ActionTypes.SEARCH_ENSURE_SEARCH_STATE,searchId:e})},t.setSearchState=function(e,t){null!=e&&o.default.dirtyDispatch({type:l.ActionTypes.SEARCH_EDITOR_STATE_CHANGE,searchId:e,editorState:t})},t.clearSearchState=function(e){i.default.trackWithMetadata("search_closed",{search_id:a.default.getAnalyticsId(e)}),o.default.dispatch({type:l.ActionTypes.SEARCH_EDITOR_STATE_CLEAR,searchId:e})},t.updateAutocompleteQuery=function(e,t,n){null!=e&&o.default.dirtyDispatch({type:l.ActionTypes.SEARCH_AUTOCOMPLETE_QUERY_UPDATE,searchId:e,tokens:t,cursorScope:n})},t.setShowBlockedResults=function(e,t){o.default.dispatch({type:l.ActionTypes.SEARCH_SET_SHOW_BLOCKED_RESULTS,searchId:e,showBlocked:t})};var o=s(n(2)),a=s(n(6026)),i=s(n(196)),u=s(n(6077)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){u.default.didAgree(e)&&(t.include_nsfw=!0);var r=Object.keys(t);i.default.trackWithMetadata("search_started",{prev_search_id:a.default.getAnalyticsId(e),num_modifiers:r.length,modifiers:r.reduce(function(e,n){var r=t[n];return e[n]=Array.isArray(r)?r.length:1,e},{})}),o.default.dispatch({type:l.ActionTypes.SEARCH_START,query:t,searchId:e,queryString:n})}function f(e,t){var n=a.default.getOffset(e),o=a.default.getQuery(e),i=n+t,u=a.default.getTotalResults(e);if(!(i<0||i>u))return c(e,r({},o,{offset:i}))}},6289:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(2)),o=n(0),a=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}var u=o.STATUS_PAGE_ENDPOINT+"/api/v2/scheduled-maintenances",l=o.STATUS_PAGE_ENDPOINT+"/api/v2/incidents/unresolved.json";t.default={checkIncidents:function(){Promise.all([a.default.get(u+"/active.json"),a.default.get(l)]).then(function(e){var t=e[0],n=e[1],a=t.body.scheduled_maintenances[0],i=n.body.incidents[0];r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_INCIDENT,incident:i||a})})},checkScheduledMaintenances:function(){a.default.get(u+"/upcoming.json").then(function(e){var t=e.body.scheduled_maintenances[0];r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE,maintenance:t})})},ackScheduledMaintenance:function(){r.default.dispatch({type:o.ActionTypes.STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK})}},e.exports=t.default},6415:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=p(n(142)),l=p(n(43)),s=p(n(29)),c=p(n(80)),f=p(n(59)),d=p(n(5805));function p(e){return e&&e.__esModule?e:{default:e}}var h=(0,u.default)({SMALL:null,MEDIUM:null,LARGE:null}),E=((o={})[h.SMALL]=d.default.dropdownSmall,o[h.MEDIUM]=d.default.dropdownMedium,o[h.LARGE]=d.default.dropdownLarge,o),y=function(e){var t=e.onDropdownClick,n=e.children,r=e.contentClassName,o=e.dropdownSize,u=void 0===o?h.MEDIUM:o,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["onDropdownClick","children","contentClassName","dropdownSize"]);return i.createElement(l.default,p,a(s.default,{align:s.default.Align.CENTER},void 0,a(s.default.Child,{className:r},void 0,n),null!=t?a(c.default,{className:E[u],onClick:function(e){e.stopPropagation(),null!=t&&t(e)}},void 0,a("div",{className:d.default.arrowSeparator}),a(f.default,{name:f.default.Names.ARROW_DROP_DOWN,className:d.default.dropdownArrow})):null))};y.displayName="DropdownButton",y.DropdownSizes=h,y.Sizes=l.default.Sizes,y.Colors=l.default.Colors,y.Looks=l.default.Looks,t.default=y,e.exports=t.default},6433:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=C(n(3)),s=C(n(9)),c=C(n(6055)),f=C(n(40)),d=C(n(535)),p=n(6110),h=C(n(194)),E=C(n(932)),y=C(n(57)),_=C(n(164)),T=C(n(224)),S=C(n(59)),m=C(n(80)),A=n(7306),v=C(n(6482)),g=n(140),R=C(n(226)),I=C(n(6)),N=n(0),O=C(n(5827));function C(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=370,M=4;function L(e,t){(0,p.updateSearchTerm)(e),f.default.transitionTo(N.Routes.APPLICATION_STORE_BROWSE,{search:d.default.formatSearch({q:e}),state:t})}function D(e){return i(A.ApplicationResultsEmpty,{onViewAllGamesClick:function(){return L("",e)}})}D.displayName="renderNoResults";var w=l.default.connectStores([E.default],function(e){var t=e.sku;return{storeListing:E.default.getForSKU(t.id),inLibrary:y.default.hasApplication(t.applicationId,t.applicationId,!0)}})(A.ApplicationResult),F=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return n=r=P(this,e.call.apply(e,[this].concat(a))),r.popoutRef=u.createRef(),r.state={query:"",focused:!1,focusedIndex:-1,results:[]},r.inputRef=null,r.setInputRef=function(e){r.inputRef=e},r.focusInput=function(){var e=r.inputRef;null!=e&&e.focus()},r.reset=function(){r.setState({query:"",results:[]})},r.handleInputChange=function(e){var t=r.state,n=t.query,o=t.results,a=e.trim();""===a?o=[]:a!==n.trim()&&(o=c.default.querySKUs(a,M,!0)),r.setState({query:e,results:o})},r.handleSelect=function(e){var t,n,o=r.state,a=o.query,i=o.results[e];null==i?L(a,r.transitionState):(t=i.sku,n=r.transitionState,f.default.transitionTo(N.Routes.APPLICATION_STORE_LISTING_SKU(t.id,t.slug),{state:n}))},r.handleHighlight=function(e){r.setState({focusedIndex:e})},r.handleFocus=function(){r.setState({focused:!0})},r.handleBlur=function(){r.setState({focused:!1})},r.handleKeyDown=function(e){var t=e.ctrlKey,n=e.altKey,o=e.metaKey,a=e.which,i=r,u=i.inputRef,l=i.state,s=l.query,c=l.focusedIndex,f=l.results;if(!(t||n||o))switch(e.stopPropagation(),a){case N.KeyboardKeys.ESCAPE:""!==s?r.reset():null!=u&&u.blur();break;case N.KeyboardKeys.ENTER:r.handleSelect(c),e.preventDefault();break;case N.KeyboardKeys.ARROW_UP:c=Math.max(c-1,-1),r.handleHighlight(c),e.preventDefault();break;case N.KeyboardKeys.ARROW_DOWN:c=Math.min(c+1,f.length-1),r.handleHighlight(c),e.preventDefault()}},r.renderPopoutResult=function(e){var t=r.state,n=t.results,o=t.focusedIndex,a=n[e];return null!=a?i(w,{sku:a.sku,focused:e===o,onSelect:function(){return r.handleSelect(e)},onHighlight:function(){return r.handleHighlight(e)}},a.sku.id):null},r.renderPopout=function(){var e=r.state,t=e.results,n=e.query,o=e.focusedIndex;return""!==n.trim()?i(v.default,{numResults:t.length,query:n,width:b,renderResult:r.renderPopoutResult,renderNoResults:function(){return D(r.transitionState)},focusedIndex:o,onSelectQuery:function(){return r.handleSelect(-1)},onHighlightQuery:function(){return r.handleHighlight(-1)}}):null},P(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){g.ComponentDispatch.subscribe(N.ComponentActions.TEXTAREA_FOCUS,this.focusInput),g.ComponentDispatch.subscribe(N.ComponentActions.FOCUS_SEARCH,this.focusInput)},t.prototype.componentDidUpdate=function(e,t){var n=this.popoutRef.current,r=this.state,o=r.focused,a=r.query,i=r.focusedIndex;a=a.trim(),o&&!t.focused?null!=n&&n.open():!o&&t.focused&&h.default.close("game-store-search"),a===t.query.trim()&&i===t.focusedIndex||h.default.rerender("game-store-search")},t.prototype.componentWillUnmount=function(){g.ComponentDispatch.unsubscribe(N.ComponentActions.TEXTAREA_FOCUS,this.focusInput),g.ComponentDispatch.unsubscribe(N.ComponentActions.FOCUS_SEARCH,this.focusInput),this.reset()},t.prototype.render=function(){var e,t,n=this.props.className,r=this.state.query;return u.createElement(T.default,{ref:this.popoutRef,offsetX:-156,uniqueId:"game-store-search",position:T.default.Positions.BOTTOM_LEFT,toggleClose:!1,render:this.renderPopout,animationType:T.default.Animations.NONE},i("div",{className:(0,s.default)(O.default.browseSearch,n)},void 0,i(_.default,{inputClassName:O.default.browseSearchInput,className:O.default.inputWrapper,inputRef:this.setInputRef,size:_.default.Sizes.MINI,onChange:this.handleInputChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,name:"search",maxLength:100,value:r,placeholder:I.default.Messages.APPLICATION_STORE_BROWSE_SEARCH_PLACEHOLDER,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1}),i(S.default,{className:(0,s.default)(O.default.icon,(e={},e[O.default.iconVisible]=""===r,e)),name:S.default.Names.SEARCH}),i(m.default,{onMouseDown:function(e){e.preventDefault()},onClick:this.reset},void 0,i(S.default,{className:(0,s.default)(O.default.icon,O.default.clearIcon,(t={},t[O.default.iconVisible]=""!==r,t)),name:S.default.Names.CLEAR}))))},a(t,[{key:"transitionState",get:function(){var e=this.props.analyticsContext;return{analyticsSource:o({},e.location,{object:N.AnalyticsObjects.SEARCH})}}}]),t}(u.PureComponent);F.displayName="ApplicationStoreBrowseSearch",t.default=(0,R.default)(F),e.exports=t.default},6434:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=T(n(9)),s=T(n(6)),c=T(n(957)),f=T(n(106)),d=T(n(266)),p=T(n(954)),h=T(n(224)),E=T(n(525)),y=(T(n(93)),n(0)),_=T(n(5833));function T(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(227);var m=((o={})[y.StoreRecommendationTypes.NOW_PLAYING]={single:function(e,t){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_NOW_PLAYING_OTHER.format({count:e})}},o[y.StoreRecommendationTypes.RECENTLY_PLAYED]={single:function(e,t){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_RECENTLY_PLAYED_OTHER.format({count:e})}},o[y.StoreRecommendationTypes.EVER_PLAYED]={single:function(e,t){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_SINGLE.format({user1:e.username,user1Hook:function(){return t(e)}})},double:function(e,t,n){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_DOUBLE.format({user1:e.username,user1Hook:function(){return n(e)},user2:t.username,user2Hook:function(){return n(t)}})},other:function(e){return s.default.Messages.APPLICATION_STORE_RECOMMENDATION_EVER_PLAYED_OTHER.format({count:e})}},o),A=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=r=S(this,e.call.apply(e,[this].concat(s))),r.renderUserPopout=function(e,t){return u.createElement(E.default,i({},t,{user:e}))},r.renderUserTooltip=function(e,t,n){return a("div",{className:_.default.tooltip},void 0,a("div",{},void 0,e.tag),a(p.default,{className:_.default.tooltipTimestamp,start:t,end:n,location:p.default.Locations.ACTIVITY_FEED}))},r.renderPlayer=function(e,t,n,o){var i,u=e;if(null==u)return null;var s=r.props.reason.userInfo.find(function(e){return e.user===u});return null==s?null:a(h.default,{render:function(e){return r.renderUserPopout(u,e)},position:h.default.Positions.RIGHT,closeOnScroll:!1},u.id,a(f.default,{text:r.renderUserTooltip(u,s.startTime,s.endTime)},void 0,a(d.default,{className:(0,l.default)(_.default.playerAvatar,(i={},i[_.default.avatarMasked]=!o,i)),src:u.getAvatarURL(),size:d.default.Sizes.SMALL})))},r.renderPlayerOverflow=function(e,t,n){return a("div",{className:_.default.playerOverflow},n,e)},S(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderDescription=function(e,t){var n=this,r=m[e];return 1===t.length?r.single(t[0].user,function(e){return n.renderActivityDiscordTag(e)}):2===t.length?r.double(t[0].user,t[1].user,function(e){return n.renderActivityDiscordTag(e)}):r.other(t.length)},t.prototype.renderActivityDiscordTag=function(e){var t=this;return a(h.default,{render:function(n){return t.renderUserPopout(e,n)},position:h.default.Positions.RIGHT,closeOnScroll:!1},e.id,a("span",{className:_.default.username},void 0,e.username))},t.prototype.render=function(){var e=this.props,t=e.reason,n=e.className,r=t.type,o=t.userInfo;return 0===o.length?null:a("div",{className:n},void 0,a(c.default,{className:_.default.players,users:o.map(function(e){return e.user}),renderUser:this.renderPlayer,max:8,renderMoreUsers:this.renderPlayerOverflow}),a("div",{className:_.default.description},void 0,this.renderDescription(r,o)))},t}(u.PureComponent);A.displayName="ApplicationRecommendationActivity",t.default=A,e.exports=t.default},6435:function(e,t,n){"use strict";var r;t.__esModule=!0,t.getRatingTier=function(e){var t=c[e.aggregator];if(null==t)return null;if(e.aggregator===u.ReviewAggregators.METACRITIC&&e.criticTotalRatings<l)return null;return t.find(function(t){return t.minimumScore<=e.criticScore})};var o,a=n(6),i=(o=a)&&o.__esModule?o:{default:o},u=n(0);var l=4;function s(e,t,n){return{minimumScore:e,color:t,get label(){return n()}}}var c=((r={})[u.ReviewAggregators.METACRITIC]=[s(90,"#6c3",function(){return i.default.Messages.METACRITIC_VERDICT_UNIVERSAL_ACCLAIM}),s(75,"#6c3",function(){return i.default.Messages.METACRITIC_VERDICT_GENERALLY_FAVORABLE}),s(50,"#fc3",function(){return i.default.Messages.METACRITIC_VERDICT_MIXED_OR_AVERAGE}),s(20,"#f00",function(){return i.default.Messages.METACRITIC_VERDICT_GENERALLY_UNFAVORABLE}),s(0,"#f00",function(){return i.default.Messages.METACRITIC_VERDICT_OVERWHELMING_DISLIKE})],r)},6436:function(e,t,n){"use strict";t.__esModule=!0,t.fetchStatisticsForApplication=void 0;t.fetchStatisticsForApplication=(r=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.default.dispatch({type:l.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_START,applicationId:t}),e.prev=1,e.next=4,a.default.get(l.Endpoints.APPLICATION_ACTIVITY_STATISTICS(t));case 4:return n=e.sent,r=n.body,u.default.dispatch({type:l.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_SUCCESS,statistics:r,applicationId:t}),e.abrupt("return",r);case 10:throw e.prev=10,e.t0=e.catch(1),u.default.dispatch({type:l.ActionTypes.APPLICATION_ACTIVITY_STATISTICS_FETCH_FAIL,applicationId:t}),new i.default(e.t0);case 14:case"end":return e.stop()}},e,this,[[1,10]])}),o=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(o,a){try{var i=e[o](a),u=i.value}catch(e){return void n(e)}if(!i.done)return Promise.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});t(u)}("next")})},function(e){return o.apply(this,arguments)});var r,o,a=s(n(13)),i=s(n(399)),u=s(n(2)),l=n(0);function s(e){return e&&e.__esModule?e:{default:e}}},6442:function(e,t,n){"use strict";t.__esModule=!0,t.getDefaultKeyBinding=void 0,t.createEntity=E,t.getCollapsedSelection=function(e,t,n){var r=t.getCurrentContent().getFirstBlock();n=(n=(n=n||t.getSelection()).set("focusKey",r.getKey())).set("anchorKey",r.getKey());var o=Math.min(n.getStartOffset(),n.getEndOffset())+e.length;return n=(n=n.set("anchorOffset",o)).set("focusOffset",o)},t.updateContent=y,t.deleteContent=function(e,t){switch(e){case"delete":return(0,l.default)(t);case"delete-word":return(0,i.default)(t);case"backspace":return(0,u.default)(t);case"backspace-word":return(0,a.default)(t);case"backspace-to-start-of-line":return(0,o.default)(t);default:return t}},t.miscCommand=function(e,t){switch(e){case"transpose-characters":return(0,s.default)(t);case"move-selection-to-start-of-block":return(0,c.default)(t);case"move-selection-to-end-of-block":return(0,f.default)(t);default:return t}},t.adaptSelection=function(e,t){var n=(e=(e=e.set("focusKey",t.getKey())).set("anchorKey",t.getKey())).getEndOffset();return e=(e=e.set("anchorOffset",n)).set("focusOffset",n)},t.getFirstTextBlock=_,t.applyTokensAsEntities=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.getCurrentContent(),o=r.getFirstBlock(),a=o.getText(),i=[];return o.findEntityRanges(function(e){return null!==e.getEntity()},function(e,t){var n=r.getEntity(o.getEntityAt(e)).getType(),u=a.substring(e,t);i.push({processed:!1,type:n,start:e,end:t,text:u})}),e.forEach(function(e){var r=!1;if(i.forEach(function(n){var o=e.type,a=e.start,i=e.end,u=e.getFullMatch();n.processed||(n.type===o&&n.start===a&&n.text===u?(n.processed=!0,r=!0):(a>=n.start&&a<n.end||i>n.start&&i<=n.end)&&(n.processed=!0,t=E(null,n.start,n.end,t)))}),!r){var o=n[e.type];t=E([e.type,o&&o.mutable?"MUTABLE":"IMMUTABLE",{token:e}],e.start,e.end,t)}}),i.forEach(function(e){e.processed||(t=E(null,e.start,e.end,t))}),t},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,o=n.anchorOffset,a=void 0,i=void 0,u=e.find(function(t,n){return r>=t.start&&r<=t.end&&o>=t.start&&o<=t.end?(e[n+1]&&(i=e[n+1]),!0):(a=t,!1)});if(!u)return null;return{previousToken:a,currentToken:u,nextToken:i}},t.createEmptyEditorState=function(e){return r.EditorState.createEmpty(new r.CompositeDecorator(e))},t.clearContent=function(e){return r.EditorState.push(e,r.ContentState.createFromText(""))},t.replaceAllContent=function(e,t){var n=_(t);return y(e,t,0,n.length)},t.appendSpace=function(e){var t=_(e);return y(" ",e,t.length)},t.setCollapsedSelection=T,t.setCollapsedEndSelection=function(e){return T(e.getCurrentContent().getFirstBlock().getText().length,e)},t.setCollapsedStartSelection=function(e){return T(0,e)},t.setToStartSelection=function(e){var t=e.getSelection();return t=(t=t.set("focusOffset",0)).set("isBackward",!0),r.EditorState.forceSelection(e,t)},t.setToEndSelection=function(e){var t=_(e),n=e.getSelection();return n=(n=n.set("focusOffset",t.length)).set("isBackward",!1),r.EditorState.forceSelection(e,n)},t.truncateContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=_(e);if(n.length>t){var o=e.getSelection();e=y("",e,t,n.length),o.getAnchorOffset()>t&&(o=o.set("anchorOffset",t)),o.getFocusOffset()>t&&(o=o.set("focusOffset",t)),e=r.EditorState.forceSelection(e,o)}return e},t.scrollCursorIntoView=function(e){var t=window.getSelection();if(!t||"Caret"!==t.type||!e)return;var n=t.getRangeAt(0);if(!function(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}(n.commonAncestorContainer,e))return;var r=n.getClientRects()[0],o=e.getClientRects()[0];if(!r||!o)return;var a=r.left-o.left+e.scrollLeft;a<e.scrollLeft?e.scrollLeft=a-10:a>e.scrollLeft+e.offsetWidth&&(e.scrollLeft=a-e.offsetWidth+3)},t.isEmpty=function(e){return 0===_(e).length};var r=n(6477),o=h(n(6458)),a=h(n(6455)),i=h(n(6453)),u=h(n(6449)),l=h(n(6448)),s=h(n(6447)),c=h(n(6450)),f=h(n(6451)),d=h(n(6114)),p=h(n(6224));function h(e){return e&&e.__esModule?e:{default:e}}function E(e,t,n,o){var a,i=o.getCurrentContent(),u=null;null!=e&&(u=(i=(a=i).createEntity.apply(a,e)).getLastCreatedEntityKey());var l=i.getFirstBlock(),s=new r.SelectionState({anchorKey:l.getKey(),anchorOffset:t,focusKey:l.getKey(),focusOffset:n});return i=r.Modifier.applyEntity(i,s,u),r.EditorState.set(o,{currentContent:i})}function y(e,t,n,o){var a=void 0,i=t.getCurrentContent(),u=i.getFirstBlock(),l=u.getText();"number"==typeof n?(n>l.length&&(n=l.length),o>l.length&&(o=l.length),a=new r.SelectionState({anchorKey:u.getKey(),anchorOffset:n,focusKey:u.getKey(),focusOffset:o||n})):a=t.getSelection();var s=t.getCurrentInlineStyle(),c=(0,d.default)(i,a),f=void 0;return a.isCollapsed()?(i=r.Modifier.insertText(i,a,e,s,c),f="insert-characters"):(i=r.Modifier.replaceText(i,a,e,s,c),f="replace-characters"),r.EditorState.push(t,i,f)}function _(e){return e.getCurrentContent().getFirstBlock().getText()}function T(e,t){var n=t.getSelection();return n=(n=n.set("focusOffset",e)).set("anchorOffset",e),r.EditorState.forceSelection(t,n)}t.getDefaultKeyBinding=p.default},6482:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=d(n(9)),u=d(n(6)),l=d(n(80)),s=d(n(6118)),c=d(n(5860)),f=d(n(5547));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){e.stopPropagation(),e.preventDefault()}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.renderQuery=function(e){var t,n=this.props,r=n.query,a=n.focusedIndex,d=n.onSelectQuery,p=n.onHighlightQuery,h=n.hideQuery;return e||h?null:o(l.default,{className:(0,i.default)(c.default.queryContainer,(t={},t[c.default.focused]=-1===a,t)),onMouseEnter:p,onClick:d},void 0,o("div",{className:c.default.queryText},void 0,u.default.Messages.SEARCH_FOR_VALUE.format({value:r})),o("div",{className:c.default.queryShortcut},void 0,o(s.default,{shortcut:"return",className:(0,i.default)(f.default.dim,f.default.keybindShortcutSearchPopout)})))},t.prototype.renderResults=function(e){var t=this.props,n=t.numResults,r=t.renderNoResults,o=t.renderInitialState,a=t.renderResult,i=t.renderCustomResults;if(e)return o();if(0===n)return r();if(null!=a)return Array.from({length:n}).map(function(e,t){return a(t)});if(null!=i)return i();throw new Error("SearchResultsPopout.renderResults: Flow should never allow this...")},t.prototype.render=function(){var e=this.props,t=e.query,n=e.width,r=""===t.trim();return o("div",{className:c.default.container,style:{width:n},onMouseDown:p},void 0,this.renderQuery(r),this.renderResults(r))},t}(a.PureComponent);h.defaultProps={renderInitialState:function(){return null},hideQuery:!1,width:320},h.displayName="SearchResultsPopout",t.default=h,e.exports=t.default},6607:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(3)),a=h(n(2)),i=n(0),u=n(77),l=h(n(30)),s=h(n(376)),c=h(n(94)),f=h(n(65)),d=h(n(192)),p=h(n(55));function h(e){return e&&e.__esModule?e:{default:e}}var E=i.ThemeTypes.DARK,y=null;function _(){E=l.default.theme}function T(){y=f.default.getChannelId(d.default.getGuildId())}function S(e){return e.channelId===y}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,s.default,d.default,f.default,c.default),this.syncWith([l.default],_),this.syncWith([d.default,f.default,s.default],T)},r(t,[{key:"theme",get:function(){if(null!=y){var e=d.default.getGuildId(),t=c.default.isInChannel(e,y)&&(null!=e||c.default.hasVideo(e,y))&&p.default.supports(u.Features.VIDEO)?s.default.getLayout(y):null;return t===i.ChannelLayouts.NORMAL||t===i.ChannelLayouts.NO_CHAT?i.ThemeTypes.DARK:E}return E}}]),t}(o.default.Store);t.default=new m(a.default,{VOICE_STATE_UPDATE:S,CHANNEL_RTC_UPDATE_LAYOUT:S}),e.exports=t.default},6608:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(3)),o=i(n(2)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var u=null,l=[a.DispatchErrorCodes.REDISTRIBUTABLE_INSTALL_FAILED,a.DispatchErrorCodes.POST_INSTALL_FAILED,a.DispatchErrorCodes.POST_INSTALL_CANCELLED],s=[a.DispatchErrorCodes.APPLICATION_NOT_FOUND,a.DispatchErrorCodes.APPLICATION_LOAD_FAILED,a.DispatchErrorCodes.INTERRUPTED,a.DispatchErrorCodes.DESERIALIZATION_FAILED];var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getLastError=function(){return u},t}(r.default.Store);t.default=new c(o.default,{DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){null!=u&&l.includes(u.code)&&(u=null)},DISPATCH_APPLICATION_ERROR:function(e){var t=e.error;u=s.includes(t.code)?null:t}}),e.exports=t.default},6609:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=W(n(3)),i=W(n(95)),u=W(n(24)),l=W(n(2)),s=n(0),c=W(n(11)),f=n(7452),d=W(n(372)),p=W(n(12)),h=W(n(230)),E=W(n(14)),y=W(n(6608)),_=W(n(1225)),T=W(n(55)),S=W(n(547)),m=W(n(388)),A=W(n(6721)),v=W(n(27)),g=W(n(62)),R=W(n(126)),I=W(n(564)),N=W(n(973)),O=W(n(193)),C=W(n(385)),P=W(n(192)),b=W(n(6047)),M=W(n(7451)),L=W(n(94)),D=W(n(239)),w=W(n(58)),F=W(n(7449)),k=W(n(23)),U=W(n(166)),H=W(n(202)),x=W(n(6078)),j=W(n(1228)),B=n(994),G=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(381)),Y=n(77);function W(e){return e&&e.__esModule?e:{default:e}}var V=["hideGDPRPrivacyUpdate"],K=((r={})[s.NoticeTypes.DOWNLOAD_NAG]="hideNag",r[s.NoticeTypes.CONNECT_FACEBOOK]="hideConnectFacebook",r[s.NoticeTypes.CONNECT_SPOTIFY]="hideConnectSpotify",r[s.NoticeTypes.PREMIUM_PROMO]="hidePremiumPromo",r[s.NoticeTypes.MFA_SMS_BACKUP]="hideMFASMSNotice",r[s.NoticeTypes.GDPR_PRIVACY_POLICY]="hideGDPRPrivacyUpdate",r[s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED]="hidePremiumGrandfatheredStarted",r[s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING]="hidePremiumGrandfatheredEnding",r[s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED]="hidePremiumGrandfatheredEnded",r[s.NoticeTypes.TERMS_OF_SERVICE_UPDATE]="hideTermsOfServiceUpdateOct2018",r),z=new Set([s.NoticeTypes.NO_INPUT_DETECTED,s.NoticeTypes.STREAMER_MODE,s.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER,s.NoticeTypes.SPOTIFY_AUTO_PAUSED,s.NoticeTypes.DISPATCH_ERROR,s.NoticeTypes.DISPATCH_ERROR,s.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS]),q={},Q=Object.freeze({id:null,message:null,buttonText:null,callback:null,metadata:null}),$=null;function J(e){if(null!=e){var t=K[e];null!=t&&u.default.set(t,!0),z.has(e)&&(q[e]=!0),e===s.NoticeTypes.PREMIUM_PROMO&&(0,B.setFlag)(s.UserFlags.PREMIUM_PROMO_DISMISSED,!0)}}function X(e){if(null==e)return!1;var t=K[e];return t?u.default.get(t):!!z.has(e)&&q[e]}function Z(){if(!C.default.isConnected())return!1;$=null;var e=p.default.getCurrentUser(),t=x.default.getPremiumSubscription(),n=null!=t?t.plan:null,r=L.default.getCurrentVoiceChannelId(null,E.default.getId()),a=null!=r&&L.default.hasVideo(null,r),u=void 0,l=y.default.getLastError(),v=_.default.getLastProgress();if(X(s.NoticeTypes.TERMS_OF_SERVICE_UPDATE))if(null!=I.default.getRequest())$=o({},Q,{type:s.NoticeTypes.ACTIVITY_JOIN_REQUEST});else if(h.default.isDisabled())$=o({},Q,{type:s.NoticeTypes.VOICE_DISABLED});else if(!1===T.default.getInputDetected())$=o({},Q,{type:s.NoticeTypes.NO_INPUT_DETECTED});else if(h.default.isConnected()&&T.default.isHardwareMute()){var g=T.default.getInputDeviceId(),O=S.default.getVendor(g),P=S.default.getModel(g);null!=O&&null!=P&&($=o({},Q,{type:s.NoticeTypes.HARDWARE_MUTE,metadata:{vendor:O,model:P}}))}else if(null!=l)$=o({},Q,{type:s.NoticeTypes.DISPATCH_ERROR,metadata:{error:l}});else if(null!=v)$=o({},Q,{type:s.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS,metadata:v});else if(D.default.wasAutoPaused())$=o({},Q,{type:s.NoticeTypes.SPOTIFY_AUTO_PAUSED});else if(!X(s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED)&&null!=n&&d.default.isGrandfathered(n)&&d.default.isNearGrandfatheredStartPeriod())$=o({},Q,{type:s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_STARTED,metadata:{plan:n}});else if(!X(s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED)&&null!=n&&d.default.isGrandfathered(n)&&d.default.getDaysToGrandfatheredEnd(n)>=-14&&d.default.getDaysToGrandfatheredEnd(n)<=0)$=o({},Q,{type:s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDED});else if(!X(s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING)&&null!=n&&d.default.isGrandfathered(n)&&d.default.getDaysToGrandfatheredEnd(n)>0&&d.default.getDaysToGrandfatheredEnd(n)<=d.default.GRANDFATHERED_DAYS_APPROACHING)$=o({},Q,{type:s.NoticeTypes.PREMIUM_APPLICATIONS_GRANDFATHERED_ENDING,metadata:{plan:n}});else if(!X(s.NoticeTypes.GDPR_PRIVACY_POLICY)&&(0,f.isEligibleForGDPRNotice)(e))$=o({},Q,{type:s.NoticeTypes.GDPR_PRIVACY_POLICY});else if(null!=e&&null==e.email)$=o({},Q,{type:s.NoticeTypes.UNCLAIMED_ACCOUNT});else if(!c.default.embedded||j.default.supported()&&!m.default.isCorruptInstallation())if(!a||T.default.supports(Y.Features.VIDEO)||X(s.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER))if(N.default.getDisplayType()===s.DetectedPlatformAccountsDisplayTypes.NOTICE)$=o({},Q,{type:s.NoticeTypes.DETECTED_PLATFORM_ACCOUNTS,metadata:N.default.getDetectedAccounts()});else if(R.default.enabled)$=o({},Q,{type:s.NoticeTypes.STREAMER_MODE});else if(c.default.embedded||X(s.NoticeTypes.DOWNLOAD_NAG))if(u=A.default.getScheduledMaintenance())$=o({},Q,{type:s.NoticeTypes.SCHEDULED_MAINTENANCE,metadata:{id:u.id,start:new Date(u.scheduled_for),end:new Date(u.scheduled_until)}});else if(null!=M.default.getSurveyExperiment()){var b=M.default.getMetaData(M.default.getSurveyExperiment());null!=b&&($=o({},Q,{type:s.NoticeTypes.SURVEY,metadata:b}))}else if(null==e||e.verified)if(N.default.hasAvailablePlatformType(s.PlatformTypes.FACEBOOK)&&!X(s.NoticeTypes.CONNECT_FACEBOOK))$=o({},Q,{type:s.NoticeTypes.CONNECT_FACEBOOK});else if(D.default.hasConnectedAccount()||!w.default.isObservedAppRunning(i.default.get(s.PlatformTypes.SPOTIFY).name)||X(s.NoticeTypes.CONNECT_SPOTIFY))if(null==e||d.default.isPremium(e)||e.hasFlag(s.UserFlags.PREMIUM_PROMO_DISMISSED)||!F.default.isEligible()||X(s.NoticeTypes.PREMIUM_PROMO))if(null==e||!e.mfaEnabled||e.hasFlag(s.UserFlags.MFA_SMS)||e.hasFlag(s.UserFlags.STAFF)||e.hasFlag(s.UserFlags.PARTNER)||X(s.NoticeTypes.MFA_SMS_BACKUP)){if(null!=H.default.testModeApplicationId){var B=H.default.testModeApplicationId,G=k.default.getGame(B),W=null!=G?G.name:B;$=o({},Q,{type:s.NoticeTypes.APPLICATION_TEST_MODE,metadata:{applicationName:W,applicationId:B,skus:U.default.getForApplication(B)}})}}else $=o({},Q,{type:s.NoticeTypes.MFA_SMS_BACKUP});else $=o({},Q,{type:s.NoticeTypes.PREMIUM_PROMO});else $=o({},Q,{type:s.NoticeTypes.CONNECT_SPOTIFY});else $=o({},Q,{type:s.NoticeTypes.UNVERIFIED_ACCOUNT});else $=o({},Q,{type:s.NoticeTypes.DOWNLOAD_NAG});else $=o({},Q,{type:s.NoticeTypes.VIDEO_UNSUPPORTED_BROWSER});else $=o({},Q,{type:s.NoticeTypes.CORRUPT_INSTALLATION});else $=o({},Q,{type:s.NoticeTypes.TERMS_OF_SERVICE_UPDATE});null!=$&&X($.type)&&($=null)}function ee(){return R.default.enabled||delete q[s.NoticeTypes.STREAMER_MODE],Z()}var te=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([M.default,I.default,F.default],Z),this.waitFor(p.default,A.default,v.default,g.default,h.default,T.default,R.default,O.default,P.default,b.default,I.default,N.default,D.default,w.default,F.default,y.default,_.default,H.default,x.default,m.default)},t.prototype.hasNotice=function(){return null!=$&&null!=$.type},t.prototype.getNotice=function(){return null==b.default.getAction()?$:null},t}(a.default.Store);t.default=new te(l.default,{CONNECTION_OPEN:function(e){return function(){if(!C.default.isConnected())return!1;var e=p.default.getCurrentUser();d.default.isPremium(e)&&d.default.shouldCheckGrandfatheredPlan()&&l.default.wait(function(){return G.fetchSubscriptions()}),Z()}()},CURRENT_USER_UPDATE:function(e){return Z()},AUDIO_ENABLE:function(e){return Z()},VOICE_CHANNEL_CLEAR:function(e){return Z()},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){return Z()},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return Z()},GUILD_CREATE:function(e){return Z()},GUILD_DELETE:function(e){return Z()},AUDIO_INPUT_DETECTED:function(e){return Z()},AUDIO_SET_DISPLAY_SILENCE_WARNING:function(e){return Z()},CERTIFIED_DEVICES_SET:function(e){return Z()},AUDIO_SET_INPUT_DEVICE:function(e){return Z()},AUDIO_SET_OUTPUT_DEVICE:function(e){return Z()},MEDIA_ENGINE_DEVICES:function(e){return Z()},RTC_CONNECTION_STATE:function(e){return Z()},RPC_APP_AUTHENTICATED:function(e){return Z()},RPC_APP_DISCONNECTED:function(e){return Z()},PLATFORM_ACCOUNTS_DETECTED:function(e){return Z()},PLATFORM_ACCOUNTS_IGNORE:function(e){return Z()},USER_CONNECTIONS_UPDATE:function(e){return Z()},DETECTED_PLATFORM_ACCOUNTS_DISPLAY_TYPE_CHANGE:function(e){return Z()},WINDOW_FOCUS:function(e){return Z()},INSTANT_INVITE_CREATE:function(e){return Z()},INSTANT_INVITE_REVOKE_SUCCESS:function(e){return Z()},SPOTIFY_PLAYER_PAUSE:function(e){return Z()},RUNNING_GAMES_CHANGE:function(e){return Z()},EXPERIMENTS_FETCH_SUCCESS:function(e){return Z()},PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS:function(e){return Z()},PREMIUM_CODE_ACTIVATION_SUCCESS:function(e){return Z()},DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS:function(e){return Z()},DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL:function(e){return Z()},DEVELOPER_TEST_MODE_RESET:function(e){return Z()},BILLING_SUBSCRIPTION_FETCH_SUCCESS:function(e){return Z()},DISPATCH_APPLICATION_INSTALL:function(e){return Z()},VOICE_STATE_UPDATE:function(e){return e.userId===E.default.getId()&&Z()},STREAMER_MODE_UPDATE:function(e){return ee()},RUNNING_STREAMER_TOOLS_CHANGE:function(e){return ee()},DISPATCH_APPLICATION_ERROR:function(e){return delete q[s.NoticeTypes.DISPATCH_ERROR],Z()},DISPATCH_APPLICATION_LAUNCH_SETUP_START:function(e){return delete q[s.NoticeTypes.DISPATCH_INSTALL_SCRIPT_PROGRESS],Z()},DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE:function(e){return Z()},DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE:function(e){return Z()},NOTICE_SHOW:function(e){$=e.notice},NOTICE_DISMISS:function(e){return null!=$&&(null==e.id||e.id===$.id)&&(J($.type),Z())},NOTICE_DISABLE:function(e){return J(e.noticeType),Z()},LOGOUT:function(e){V.forEach(function(e){return u.default.remove(e)})}}),e.exports=t.default},6629:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=x(n(60)),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),x(n(53))),u=x(n(9)),l=x(n(7)),s=x(n(66)),c=x(n(951)),f=x(n(3)),d=x(n(232)),p=x(n(276)),h=x(n(141)),E=x(n(40)),y=x(n(273)),_=x(n(946)),T=x(n(6080)),S=x(n(224)),m=x(n(43)),A=x(n(1e3)),v=x(n(80)),g=x(n(6)),R=x(n(128)),I=x(n(30)),N=x(n(6609)),O=x(n(17)),C=x(n(127)),P=x(n(283)),b=x(n(65)),M=x(n(6077)),L=x(n(274)),D=x(n(18)),w=x(n(27)),F=x(n(969)),k=n(0),U=x(n(5865)),H=x(n(5555));function x(e){return e&&e.__esModule?e:{default:e}}var j=function(e){var t=e.title,n=e.children,r=e.className;return o("div",{className:(0,u.default)(U.default.header,H.default.header,r)},void 0,o("div",{className:(0,u.default)(U.default.title,H.default.title)},void 0,t),n)};j.displayName="Header";var B=function(e){var t=e.msg,n=e.image;return o("div",{className:U.default.emptyPlaceholder},void 0,o("div",{className:U.default.image,style:{backgroundImage:"url("+n+")"}}),o("div",{className:U.default.body},void 0,t))};B.displayName="EmptyStateCenter";var G=function(e){var t=e.msg,n=e.image;return o("div",{className:(0,u.default)(U.default.emptyPlaceholder,U.default.bottom)},void 0,o("div",{className:U.default.body},void 0,t),o("div",{className:U.default.image,style:{backgroundImage:"url("+n+")"}}))};G.displayName="EmptyStateBottom";var Y=o(_.default,{}),W=o(_.default,{}),V=(0,i.default)({displayName:"MessagesPopout",mixins:[f.default.StoreListenerMixin(I.default,R.default,N.default,p.default),d.default,s.default,F.default],statics:{EmptyStateCenter:B,EmptyStateBottom:G,Header:j},propTypes:{onFetch:a.default.func.isRequired,channel:a.default.instanceOf(C.default),messages:a.default.arrayOf(a.default.instanceOf(P.default)),loading:a.default.bool.isRequired,analyticsName:a.default.string.isRequired,renderEmptyState:a.default.func.isRequired,renderHeader:a.default.func.isRequired,hasMore:a.default.bool,onCloseMessage:a.default.func,onJump:a.default.func,loadMore:a.default.func,showChannels:a.default.bool,showGuildNames:a.default.bool,canCloseAllMessages:a.default.bool},getDefaultProps:function(){return{showChannels:!1,showGuildNames:!1,renderMentioned:!0,canCloseAllMessages:!1}},getSubscriptions:function(){var e;return(e={})[k.ComponentActions.SCROLL_PAGE_DOWN]=this.scrollPageDown,e[k.ComponentActions.SCROLL_PAGE_UP]=this.scrollPageUp,e},scrollPageUp:function(){var e=this.scroller;e&&e.scrollPageUp(!0)},scrollPageDown:function(){var e=this.scroller;e&&e.scrollPageDown(!0)},UNSAFE_componentWillMount:function(){O.default.track(k.AnalyticEvents.OPEN_POPOUT,{type:this.props.analyticsName}),this.props.onFetch(this.props.channel)},getStateFromStores:function(){var e=N.default.hasNotice(),t=I.default.inlineAttachmentMedia,n=I.default.inlineEmbedMedia,r=I.default.renderEmbeds,o=I.default.developerMode,a=I.default.messageDisplayCompact,i=this.props.channel?p.default.getMessages(this.props.channel.id):null,u=!!i&&(i.loadingMore&&!i.get(i.jumpTargetId));return{inlineAttachmentMedia:t,inlineEmbedMedia:n,renderEmbeds:r,developerMode:o,messageDisplayCompact:a,isNoticeOpen:e,size:R.default.windowSize(),jumping:u}},renderControlButtons:function(e){var t=this,n=e.channel,r=e.messages[0],a=this.state.jumping,i=null;this.props.onCloseMessage&&(this.props.canCloseAllMessages||n.isPrivate()||this.can(k.Permissions.MANAGE_MESSAGES,n))&&(i=o(m.default,{look:m.default.Looks.BLANK,size:m.default.Sizes.NONE,onClick:this.props.onCloseMessage.bind(null,r)},void 0,o("div",{className:U.default.closeButton})));var l=o(v.default,{className:U.default.jumpButton,onClick:function(e){return t.jumpTo(r,e)}},void 0,o("div",{className:(0,u.default)(U.default.text,{hidden:a})},void 0,g.default.Messages.JUMP),o(_.default,{type:"pulsing-ellipsis",className:(0,u.default)(U.default.loading,{visible:a})}));return o("div",{className:U.default.actionButtons},void 0,l,i)},jumpTo:function(e,t){var n=e.id,r=e.blocked,o=e.author,a=e.channel_id;if(r)y.default.show({title:g.default.Messages.UNBLOCK_TO_JUMP_TITLE,body:g.default.Messages.UNBLOCK_TO_JUMP_BODY.format({name:o.username}),confirmText:g.default.Messages.OKAY});else if(!this.state.jumping){var i=D.default.getChannel(a);i&&(h.default.trackJump(a,n,this.props.analyticsName),E.default.transitionTo(k.Routes.MESSAGE(i.getGuildId(),a,n))),this.props.onJump&&this.props.onJump(t)}},handleScroll:function(){var e=this.scroller;if(e){var t=e.getScrollData();t.scrollHeight===t.scrollTop+t.offsetHeight&&this.props.hasMore&&!this.props.loading&&this.props.loadMore()}},selectChannel:function(e,t){e!==b.default.getChannelId()&&L.default.transitionToInviteChannelSync(e),this.props.onJump&&this.props.onJump(t)},setScrollerRef:function(e){this.scroller=e},render:function(){var e=this,t=null,n=!0,r=this.props,a=r.messages,i=r.loading,s=r.channel,f=r.className;if(a)if(0===a.length)t=this.props.renderEmptyState(I.default.theme);else{n=!1,t=[];var d=this.props.showChannels?null:s,p=this.state,h=p.renderEmbeds,E=p.inlineEmbedMedia,y=p.inlineAttachmentMedia;l.default.each(a,function(n){if(e.props.showChannels&&(null==d||d.id!==n.channel_id)){d=D.default.getChannel(n.channel_id);var r=w.default.getGuild(d.getGuildId());t.push(o("div",{className:U.default.channelSeparator},""+n.id+d.id,o(v.default,{tag:"span",className:U.default.channelName,onClick:e.selectChannel.bind(null,d.id)},void 0,d?d.toString(!0):"???"),e.props.showGuildNames&&o("span",{className:U.default.guildName},void 0,r?r.toString():"")))}var a=d.isNSFW()?M.default.didAgree(d.getGuildId()):null;if(null!=n){var i=o("div",{className:U.default.messageGroupWrapper},n.id,o("div",{className:U.default.messageGroupWrapperOffsetCorrection},void 0,o(T.default,{cozyClassName:U.default.messageGroupCozy,messages:[n],channel:d,inlineAttachmentMedia:y&&null!=a?a:y,inlineEmbedMedia:E&&null!=a?a:E,renderEmbeds:h&&null!=a?a:h,renderEmbedsSmall:!0,compact:!1,developerMode:e.state.developerMode,hasDivider:!1,popoutPosition:S.default.Positions.LEFT,groupOption:e.renderControlButtons,onClickAnywhere:function(t){return e.jumpTo(n,t)},messageOption:!1,canEdit:!1,renderMentioned:e.props.renderMentioned,disableInteractionLabel:g.default.Messages.JUMP,accessoriesClassName:U.default.accessories})));t.push(i)}})}else t=o("div",{className:(0,u.default)(U.default.emptyPlaceholder,U.default.loadingPlaceholder)},void 0,Y);var _=null;t.length>0&&this.props.loadMore&&(_=i?o("div",{className:U.default.loadingMore},"loading-more-after",W):this.props.hasMore?o("div",{className:U.default.hasMore},"has-more-after",o("button",{type:"button",onClick:this.props.loadMore,className:U.default.hasMoreButton},void 0,g.default.Messages.LOAD_MORE_MESSAGES)):o("div",{className:U.default.scrollingFooterWrap},void 0,this.props.renderEmptyState(I.default.theme)));var m=this.props.getProTip&&this.props.getProTip(),R=n&&m?o("div",{className:(0,u.default)(H.default.footer,U.default.footer)},void 0,o(A.default,{style:{width:"100%",paddingTop:10}},void 0,m)):null,N={maxHeight:this.state.size.height-43-25};this.state.isNoticeOpen&&(N.maxHeight-=40);var O="light"===I.default.theme?null:I.default.theme,C=this.props.loadMore&&this.props.hasMore;return o("div",{className:(0,u.default)(U.default.messagesPopoutWrap,H.default.themedPopout,f),style:N},void 0,this.props.renderHeader(),o(c.default,{className:U.default.messagesPopout,theme:O,setRef:this.setScrollerRef,onScroll:C?this.handleScroll:void 0},void 0,t,_),R)}});t.default=V,e.exports=t.default},6630:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(3)),o=a(n(2));function a(e){return e&&e.__esModule?e:{default:e}}var i=n(0).ActionTypes.UPDATE_NOT_AVAILABLE;function u(e){i=e.type}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getState=function(){return i},t}(r.default.Store);t.default=new l(o.default,{CHECKING_FOR_UPDATES:u,UPDATE_NOT_AVAILABLE:u,UPDATE_AVAILABLE:u,UPDATE_MANUALLY:u,UPDATE_ERROR:u,UPDATE_DOWNLOADED:u}),e.exports=t.default},6721:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(3)),o=u(n(2)),a=(n(0),u(n(24))),i=u(n(6289));function u(e){return e&&e.__esModule?e:{default:e}}var l="MaintenanceStore",s=null,c=null,f=null;var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){f=a.default.get(l)},t.prototype.getIncident=function(){return s},t.prototype.getScheduledMaintenance=function(){return null!=c&&c.id!==f?c:null},t}(r.default.Store);t.default=new d(o.default,{CONNECTION_OPEN:function(e){return s=null,void i.default.checkScheduledMaintenances()},STATUS_PAGE_INCIDENT:function(e){s=e.incident},STATUS_PAGE_SCHEDULED_MAINTENANCE:function(e){c=e.maintenance},STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK:function(e){return function(){if(null==c)return!1;f=c.id,a.default.set(l,f)}()}}),e.exports=t.default},7306:function(e,t,n){"use strict";t.__esModule=!0,t.ApplicationResultsEmpty=t.ApplicationResult=void 0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),d(n(6))),i=d(n(9)),u=d(n(59)),l=d(n(80)),s=d(n(6048)),c=n(227),f=d(n(5828));function d(e){return e&&e.__esModule?e:{default:e}}(t.ApplicationResult=function(e){var t,n=e.focused,r=e.sku,a=e.onSelect,u=e.onHighlight,d=e.storeListing,p=e.inLibrary,h=null;if(null!=d){var E=d.thumbnail;h=null!=E?(0,c.getAssetURL)(r.applicationId,E,128):null}return o(l.default,{className:(0,i.default)(f.default.result,(t={},t[f.default.focused]=n,t)),onMouseEnter:u,onClick:a},void 0,o("div",{className:f.default.resultAssetContainer},void 0,null!=h?o("img",{className:f.default.resultAsset,src:h,alt:""}):o("div",{className:f.default.resultAssetEmpty})),o("div",{className:f.default.resultContent},void 0,o("div",{className:f.default.resultName},void 0,r.name),o(s.default,{type:s.default.Types.DIRECTORY_SEARCH,sku:r,inLibrary:p,className:f.default.price,iconClass:f.default.iconClass})))}).displayName="ApplicationResult",(t.ApplicationResultsEmpty=function(e){var t=e.onViewAllGamesClick;return o("div",{className:f.default.empty},void 0,o("div",{className:f.default.emptyTitle},void 0,a.default.Messages.APPLICATION_STORE_BROWSE_EMPTY_HEADER),o("div",{className:f.default.emptyNote},void 0,a.default.Messages.APPLICATION_STORE_SEARCH_EMPTY_SUBHEADER),o(l.default,{tag:"a",onClick:t,className:f.default.allGamesContainer},void 0,a.default.Messages.APPLICATION_STORE_HOME_VIEW_ALL_APPLICATIONS,o(u.default,{name:u.default.Names.RIGHT_CARET,className:f.default.caret})))}).displayName="ApplicationResultsEmpty"},7307:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=C(n(5)),u=C(n(3)),l=C(n(9)),s=C(n(161)),c=C(n(370)),f=n(227),d=n(233),p=(C(n(527)),C(n(6217))),h=C(n(932)),E=C(n(555)),y=C(n(166)),_=C(n(12)),T=C(n(14)),S=n(6436),m=C(n(544)),A=n(278),v=C(n(6216)),g=n(224),R=C(n(6434)),I=C(n(545)),N=n(0),O=C(n(5832));function C(e){return e&&e.__esModule?e:{default:e}}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L=(0,d.cssValueToNumber)(O.default.popoutWidth),D=function(e){function t(){var n,r;P(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=b(this,e.call.apply(e,[this].concat(a))),r._animated=new s.default.Value(0),r.componentWillEnter=function(e){s.default.timing(r._animated,{toValue:1,duration:200}).start(e)},b(r,n)}return M(t,e),t.prototype.getPopoutOutputRange=function(){switch(this.props.popoutPosition){case g.Positions.LEFT:case g.Positions.TOP:return["8px","0px"];case g.Positions.BOTTOM:default:return["-8px","0px"]}},t.prototype.getPopoutStyle=function(){var e=this.props.popoutPosition,t=e===g.Positions.RIGHT||e===g.Positions.LEFT?[{translateX:this._animated.interpolate({inputRange:[0,1],outputRange:this.getPopoutOutputRange()})},{translateY:"-50%"}]:[{translateY:this._animated.interpolate({inputRange:[0,1],outputRange:this.getPopoutOutputRange()})},{translateX:"-50%"}];return s.default.accelerate({transform:t,opacity:this._animated.interpolate({inputRange:[0,1],outputRange:[0,1],easing:s.default.Easing.in(s.default.Easing.ease)})})},t.prototype.renderSocial=function(){var e=this.props.socialReason;return null==e?null:o(R.default,{className:O.default.popoutSocialInfo,reason:e})},t.prototype.renderNonSocial=function(){var e=this.props.nonSocialReasons;return 0===e.length?null:e.map(function(e,t){return o(v.default,{reason:e,className:O.default.reason},t)})},t.prototype.renderReleaseDate=function(){var e=this.props.dateReason;return null==e?null:o(v.default,{reason:e,className:O.default.reason})},t.prototype.render=function(){var e,t=this.props.className,n=this.renderSocial();return o(s.default.div,{style:this.getPopoutStyle(),className:(0,l.default)(O.default.popout,(e={},e[O.default.popoutWithoutSocial]=null==n,e),t)},void 0,n,this.renderNonSocial(),this.renderReleaseDate())},t}(a.Component);D.displayName="ApplicationDirectoryTilePopout";var w=function(e){function t(){var n,r;P(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=b(this,e.call.apply(e,[this].concat(a))),r.state={popoutPosition:null},b(r,n)}return M(t,e),t.getDerivedStateFromProps=function(e,t){if(e.showPopout&&null==t.popoutPosition&&null!=e.tileRef.current){var n=e.tileRef.current.getBoundingClientRect(),r=window.innerWidth,o=g.Positions.RIGHT;return n.right+L>r&&(o=n.left-L-310>0?g.Positions.LEFT:window.innerHeight-n.bottom>n.top?g.Positions.BOTTOM:g.Positions.TOP),{popoutPosition:o}}return e.showPopout||null==t.popoutPosition?null:{popoutPosition:null}},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.shouldFetchStatistics,r=t.applicationId,o=t.showPopout,a=t.hasFetchedActivities,i=t.sku,u=t.hasFetchedStoreListing,l=t.isAuthenticated;o&&!e.showPopout&&(l&&(n&&(0,S.fetchStatisticsForApplication)(r),a||m.default.getActivities()),null==i||u||(0,A.fetchStoreListingForSku)(i.id))},t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.socialReason,i=t.nonSocialReasons,u=t.dateReason,s=t.hasFetchedActivities,f=t.hasFetchedStatistics,d=t.hasFetchedStoreListing,p=t.isAuthenticated,h=this.state.popoutPosition,E=d&&(!p||s&&f);return o(c.default,{component:a.Fragment},void 0,null!=h&&E?o(D,{socialReason:r,nonSocialReasons:i,dateReason:u,popoutPosition:h,className:(0,l.default)((e={},e[O.default.popoutWrapperRight]=h===g.Positions.RIGHT,e[O.default.popoutWrapperLeft]=h===g.Positions.LEFT,e[O.default.popoutWrapperTop]=h===g.Positions.TOP,e[O.default.popoutWrapperBottom]=h===g.Positions.BOTTOM,e),n)}):null)},t}(a.Component);w.displayName="ApplicationDirectoryTilePopoutWrapper",t.default=u.default.connectStores([y.default,p.default,E.default,I.default,_.default,h.default,T.default],function(e){var t=e.sku,n=t.applicationId,r=h.default.getForSKU(t.id);return{applicationId:n,hasFetchedActivities:I.default.hasFetchedActivities,shouldFetchStatistics:p.default.shouldFetchStatisticsForApplication(n),hasFetchedStatistics:null!=p.default.getStatisticsForApplication(n),hasFetchedStoreListing:null!=r&&!r.isSlimDirectoryVersion(),socialReason:function(e){var t=(0,f.getNowPlayingReason)(e,_.default,E.default),n=(0,f.getRecentlyPlayedReason)(e,_.default,I.default),r=null!=t?t.userInfo.length:0,o=null!=n?n.userInfo.length:0,a=(0,f.getEverPlayedReason)(e,_.default,p.default),i=null!=a?a.userInfo.length:0;return r>0&&(r>1||o<4)?t:o>0&&(o>1||i<4)?n:a}(n),nonSocialReasons:function(e){var t=(0,f.getNonSocialRecommendationReasons)(e.id,y.default,h.default).filter(function(e){return e.type!==N.StoreRecommendationTypes.RECENT_RELEASE_DATE&&e.type!==N.StoreRecommendationTypes.EARLY_ACCESS}).slice(0,2);if(t.length<2&&null!=e.reviews&&null==t.find(function(e){return e.type===N.StoreRecommendationTypes.METACRITIC_SCORE})){var n=e.reviews.find(function(e){return e.aggregator===N.ReviewAggregators.METACRITIC});null!=n&&t.push({type:N.StoreRecommendationTypes.METACRITIC_SCORE,reviewAggregator:n})}return t}(t),dateReason:function(e){var t=e.releaseDate;return null==t?null:{type:e.accessType===N.SKUAccessTypes.EARLY_ACCESS?N.StoreRecommendationTypes.EARLY_ACCESS:(0,i.default)().diff(t,"months")<f.RECENTLY_RELEASED_MONTHS_THRESHOLD?N.StoreRecommendationTypes.RECENT_RELEASE_DATE:N.StoreRecommendationTypes.RELEASE_DATE,releaseDate:t}}(t),isAuthenticated:T.default.isAuthenticated()}})(w),e.exports=t.default},7308:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),E(n(9))),i=n(227),u=E(n(6613)),l=E(n(6612)),s=E(n(43)),c=E(n(6048)),f=E(n(966)),d=n(6243),p=(E(n(527)),E(n(964)),n(0)),h=E(n(5835));function E(e){return e&&e.__esModule?e:{default:e}}var y=function(e){var t,n,r=e.sku,E=e.storeListing,y=e.playing,_=e.stationaryExtendedPlay,T=e.muted,S=e.inLibrary,m=e.showMediaPlaceholder,A=e.onToggleMute,v=e.isMouseOver,g=e.className,R=(e.showBuyInline||!r.requiresPayment)&&!S,I=R&&v;return o("div",{className:(0,a.default)(h.default.tileMedia,g)},void 0,o(u.default,{className:h.default.splashContainer,video:null!=E.previewVideo?(0,i.getAssetURL)(r.applicationId,E.previewVideo):null,image:null!=E.thumbnail?(0,i.getAssetURL)(r.applicationId,E.thumbnail,600):null,title:r.name,playing:y,muted:T,placeholder:m,onToggleMute:A}),o("div",{className:h.default.mediaFade}),o("div",{className:(0,a.default)(h.default.description,(t={},t[h.default.descriptionExtendedPlay]=_,t))},void 0,o("h2",{className:h.default.gameTitle},void 0,r.name),o("div",{className:h.default.tagline},void 0,E.tagline),o("div",{className:h.default.priceOSSection},void 0,o(c.default,{type:c.default.Types.DIRECTORY_TILE,sku:r,inLibrary:S,className:I?h.default.tilePriceWithVisibleBuyButton:h.default.tilePrice}),o(d.OperatingSystemSection,{systems:[p.OperatingSystems.WINDOWS],className:h.default.platform,iconClassName:h.default.osIcon}),R?o(f.default,{skuId:r.id,applicationId:r.applicationId,size:s.default.Sizes.SMALL,shouldRenderPrice:!0,onStoreListing:!0,onClick:function(e){return e.preventDefault()},className:I?h.default.tileBuyButtonVisible:h.default.tileBuyButton}):null)),r.exclusive?o(l.default,{className:(0,a.default)(h.default.exclusiveMedia,(n={},n[h.default.exclusivePlaying]=y,n))}):null)};y.displayName="ApplicationTileFullMedia",t.default=y,e.exports=t.default},7309:function(e,t,n){"use strict";t.__esModule=!0;var r,o,a,i,u,l=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.analyticsLocationForTile=x,t.analyticsListProperties=j;var c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),f=D(n(9)),d=n(225),p=D(n(3)),h=n(56),E=n(543),y=n(140),_=n(227),T=D(n(17)),S=D(n(226)),m=D(n(166)),A=D(n(6244)),v=D(n(23)),g=D(n(932)),R=D(n(57)),I=n(391),N=D(n(6614)),O=D(n(7308)),C=D(n(7307)),P=D(n(968)),b=D(n(5995)),M=n(0),L=D(n(5831));D(n(527)),D(n(964));function D(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}n(556);var F=200,k=1e3,U=Object.freeze(((o={})[M.StoreApplicationCategorySelector.PREMIUM]="premium",o[M.StoreApplicationCategorySelector.ALL]="all",o[M.StoreApplicationCategorySelector.DISTRIBUTION]="distribution",o[M.StoreApplicationCategorySelector.EARLY_ACCESS]="early access",o[M.StoreApplicationCategorySelector.SALE]="sale",o)),H=Object.freeze(((a={})[M.StoreApplicationSort.REVERSE_ALPHABETICAL]="z-a",a[M.StoreApplicationSort.ALPHABETICAL]="a-z",a[M.StoreApplicationSort.NEW_RELEASES]="Newest",a[M.StoreApplicationSort.ID]="id",a[M.StoreApplicationSort.FEATURED]=null,a[M.StoreApplicationSort.BEST_SELLERS]=null,a[M.StoreApplicationSort.PREMIUM]=null,a));function x(e,t){return s({},e,{object:M.AnalyticsObjects.CARD,objectType:t===M.StoreDirectoryTileTypes.REGULAR?M.AnalyticsObjectTypes.SMALL:M.AnalyticsObjectTypes.LARGE})}function j(e){var t=e.listIndex,n=e.listSort,r=e.listFilterDistributionType,o=e.listSearched;return{list_index:t,list_sort:H[n],list_filter_distribution_type:U[r],list_searched:o}}var B=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=w(this,e.call.apply(e,[this].concat(a))),r._tileRef=c.createRef(),r.mouseoverTimeout=new h.Timeout,r.extendedPlayTimeout=new h.Timeout,r.isUnmounted=!1,r.state={playing:!1,stationaryExtendedPlay:!1,hasSeen:!1,isMouseOver:!1,showBuyInline:!1},r.handleSetTilePlaying=function(e){var t=e.skuId,n=r.props.sku;r.setState({playing:null!=n&&n.id===t})},r.handleMouseEnter=function(){var e=r.state,t=e.isMouseOver,n=e.playing;t||r.setState({isMouseOver:!0}),n||r.mouseoverTimeout.start(F,function(){if(!r.isUnmounted){var e=r.props,t=e.analyticsContext,n=t.loadId,o=t.location,a=e.sku,i=e.type,u=e.muted,l=null!=a?a.id:null;y.ComponentDispatch.dispatch(M.ComponentActions.STORE_VIDEO_PLAY,{skuId:l,muted:u}),r.setState({playing:!0}),null!=a&&T.default.track(M.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,s({},a.getAnalyticsData(),j(r.props),{watch_trailer:!0,load_id:n,location:x(o,i)}))}})},r.handleMouseLeave=function(){var e=r.state,t=e.isMouseOver,n=e.playing;if(r.mouseoverTimeout.stop(),r.extendedPlayTimeout.stop(),!r.isUnmounted){var o=null;t&&(o={isMouseOver:!1}),n&&(o=s({},o,{stationaryExtendedPlay:!1,playing:!1})),null!=o&&r.setState(o)}},r.handleMouseMove=function(){r.state.stationaryExtendedPlay&&r.setState({stationaryExtendedPlay:!1}),r.extendedPlayTimeout.start(F+k,function(){r.isUnmounted||r.setState({stationaryExtendedPlay:!0})})},r.handleToggleMute=function(){var e=r.props,t=e.sku,n=e.type,o=e.analyticsContext,a=o.loadId,i=o.location;null!=t&&T.default.track(M.AnalyticEvents.STORE_DIRECTORY_CARD_INTERACTED,s({},t.getAnalyticsData(),j(r.props),{audio_enabled:r.props.muted,load_id:a,location:x(i,n)})),r.props.muted?(null!=t&&y.ComponentDispatch.dispatch(M.ComponentActions.STORE_VIDEO_PLAY,{skuId:t.id,muted:!1}),(0,I.unmuteStoreDirectory)()):(0,I.muteStoreDirectory)()},r.handleVisibilityChange=function(e){if(!r.state.hasSeen&&e){r.setState({hasSeen:e});var t=r.props,n=t.onSKUViewed,o=t.sku;null!=n&&null!=o&&n(o)}},r.handleContextMenu=function(e){var t=r.props,n=t.onContextMenu,o=t.sku;null!=o&&null!=n&&n(e,o.applicationId)},w(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillUnmount=function(){this.isUnmounted=!0,this.mouseoverTimeout.stop(),this.extendedPlayTimeout.stop(),y.ComponentDispatch.unsubscribe(M.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},t.prototype.componentDidUpdate=function(e,t){var n=this.state.playing;!t.playing&&n&&y.ComponentDispatch.subscribe(M.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying),!n&&t.playing&&y.ComponentDispatch.unsubscribe(M.ComponentActions.STORE_VIDEO_PLAY,this.handleSetTilePlaying)},t.prototype.getStoreListingLocation=function(){var e=this.props,t=e.sku,n=e.type,r=e.analyticsContext.location;if(null==t)throw new Error("Should not be link to ApplicationDirectoryTile without SKU");return(0,_.getStoreListingLocation)(t.id,{slug:t.slug,analyticsSource:x(r,n),analyticsProperties:j(this.props)})},t.prototype.renderTile=function(){var e=this.props,t=e.type,n=e.sku,r=e.storeListing,o=e.muted,a=e.inLibrary,i=e.showBuyInline,u=this.state,l=u.hasSeen,s=u.playing,f=u.stationaryExtendedPlay,d=u.isMouseOver;if(null==n)throw new Error("Should not be rendering ApplicationDirectoryTile without SKU");if(null==r)throw new Error("Should not be rendering ApplicationDirectoryTile without StoreListing");var p={onToggleMute:this.handleToggleMute,className:L.default.tile,sku:n,storeListing:r,playing:s,stationaryExtendedPlay:f,muted:o,inLibrary:a,showMediaPlaceholder:!l,isMouseOver:d,showBuyInline:i};switch(t){case M.StoreDirectoryTileTypes.MEDIA:return c.createElement(O.default,p);case M.StoreDirectoryTileTypes.REGULAR:default:return c.createElement(N.default,p)}},t.prototype.renderTilePopout=function(){var e=this.props.sku;return null==e?null:l(C.default,{tileRef:this._tileRef,className:L.default.popoutWrapper,sku:e,showPopout:this.state.playing})},t.prototype.render=function(){var e=this.props,t=e.className;if(null==e.sku)throw new Error("Should not be clicking ApplicationDirectoryTile without SKU");return l(E.VisibilitySensor,{onChange:this.handleVisibilityChange,active:!this.state.hasSeen},void 0,c.createElement("div",{className:(0,f.default)(L.default.tilePopoutContainer,t),ref:this._tileRef,onContextMenu:this.handleContextMenu},l(d.Link,{to:this.getStoreListingLocation(),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove,className:L.default.tileWrapper},void 0,this.renderTile()),this.renderTilePopout()))},t}(c.PureComponent);B.defaultProps={type:M.StoreDirectoryTileTypes.REGULAR},B.displayName="ApplicationDirectoryTile";var G=p.default.connectStores([m.default,A.default,R.default,v.default,g.default],function(e){var t=e.skuId,n=m.default.get(t);return{sku:n,inLibrary:null!=n&&R.default.hasApplication(n.applicationId,n.applicationId,!0),storeListing:null!=n?g.default.getForSKU(n.id):null,muted:A.default.isDirectoryMuted}})((0,S.default)(B));t.default=(0,b.default)((0,P.default)(M.Experiments.STORE_DIRECTORY_BUY_INLINE,"Store Directory Buy Inline"),((u={})[M.ExperimentTypes.NONE]=function(e){return c.createElement(G,e)},u[M.ExperimentTypes.USER]=((i={})[M.ExperimentBuckets.CONTROL]=function(e){return c.createElement(G,e)},i[M.ExperimentBuckets.TREATMENT_1]=function(e){return c.createElement(G,s({},e,{showBuyInline:!0}))},i),u))},7327:function(e,t,n){"use strict";t.__esModule=!0,t.Answer=t.Filter=void 0;var r,o,a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(1)),n(5858)),u=(o=i)&&o.__esModule?o:{default:o};function l(e,t){var n=e.children;return a("span",{className:t},void 0,n)}l.displayName="renderToken";t.Filter=function(e){return l(e,u.default.searchFilter)},t.Answer=function(e){return l(e,u.default.searchAnswer)}},7328:function(e,t,n){"use strict";var r;t.__esModule=!0,t.Components=void 0,t.matchColonGroup=p,t.generateDecorators=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return Object.keys(e).forEach(function(n){var r=e[n];t.push({strategy:function(e,t,r){return p(r,e,t,n)},component:d[r.componentType]})}),t},t.cleanQueryTokens=function(e,t){var n=!1,r=[];if(e.forEach(function(t,o){var a=e[o];r.push(t.getFullMatch()),f.IS_SEARCH_ANSWER_TOKEN.test(t.type)&&(a&&a.type!==s.default.NON_TOKEN_TYPE||!a)&&(n=!0,r.push(" "))}),!n)return t;return(0,a.replaceAllContent)(r.join(""),t)},t.getSelectionScope=function(e,t){var n=t.getSelection(),r=n.focusOffset,o=n.anchorOffset;return(0,u.getSelectionScope)(e,r,o)};var o,a=n(6442),i=n(6075),u=n(6076),l=n(6119),s=(o=l)&&o.__esModule?o:{default:o},c=n(7327),f=n(0);var d=t.Components=((r={})[i.ComponentTypes.FILTER]=c.Filter,r[i.ComponentTypes.ANSWER]=c.Answer,r);function p(e,t,n,r){t.findEntityRanges(function(t){var n=t.getEntity();return null!==n&&e.getEntity(n).getType()===r},n)}},7437:function(e,t,n){var r={"./af":6605,"./af.js":6605,"./ar":6604,"./ar-dz":6603,"./ar-dz.js":6603,"./ar-kw":6602,"./ar-kw.js":6602,"./ar-ly":6601,"./ar-ly.js":6601,"./ar-ma":6600,"./ar-ma.js":6600,"./ar-sa":6599,"./ar-sa.js":6599,"./ar-tn":6598,"./ar-tn.js":6598,"./ar.js":6604,"./az":6597,"./az.js":6597,"./be":6596,"./be.js":6596,"./bg":6595,"./bg.js":6595,"./bm":6594,"./bm.js":6594,"./bn":6593,"./bn.js":6593,"./bo":6592,"./bo.js":6592,"./br":6591,"./br.js":6591,"./bs":6590,"./bs.js":6590,"./ca":6589,"./ca.js":6589,"./cs":6588,"./cs.js":6588,"./cv":6587,"./cv.js":6587,"./cy":6586,"./cy.js":6586,"./da":6585,"./da.js":6585,"./de":6584,"./de-at":6583,"./de-at.js":6583,"./de-ch":6582,"./de-ch.js":6582,"./de.js":6584,"./dv":6581,"./dv.js":6581,"./el":6580,"./el.js":6580,"./en-au":6579,"./en-au.js":6579,"./en-ca":6578,"./en-ca.js":6578,"./en-gb":6577,"./en-gb.js":6577,"./en-ie":6576,"./en-ie.js":6576,"./en-il":6575,"./en-il.js":6575,"./en-nz":6574,"./en-nz.js":6574,"./eo":6573,"./eo.js":6573,"./es":6572,"./es-do":6571,"./es-do.js":6571,"./es-us":6570,"./es-us.js":6570,"./es.js":6572,"./et":6569,"./et.js":6569,"./eu":6568,"./eu.js":6568,"./fa":6567,"./fa.js":6567,"./fi":6566,"./fi.js":6566,"./fo":6565,"./fo.js":6565,"./fr":6564,"./fr-ca":6563,"./fr-ca.js":6563,"./fr-ch":6562,"./fr-ch.js":6562,"./fr.js":6564,"./fy":6561,"./fy.js":6561,"./gd":6560,"./gd.js":6560,"./gl":6559,"./gl.js":6559,"./gom-latn":6558,"./gom-latn.js":6558,"./gu":6557,"./gu.js":6557,"./he":6556,"./he.js":6556,"./hi":6555,"./hi.js":6555,"./hr":6554,"./hr.js":6554,"./hu":6553,"./hu.js":6553,"./hy-am":6552,"./hy-am.js":6552,"./id":6551,"./id.js":6551,"./is":6550,"./is.js":6550,"./it":6549,"./it.js":6549,"./ja":6548,"./ja.js":6548,"./jv":6547,"./jv.js":6547,"./ka":6546,"./ka.js":6546,"./kk":6545,"./kk.js":6545,"./km":6544,"./km.js":6544,"./kn":6543,"./kn.js":6543,"./ko":6542,"./ko.js":6542,"./ky":6541,"./ky.js":6541,"./lb":6540,"./lb.js":6540,"./lo":6539,"./lo.js":6539,"./lt":6538,"./lt.js":6538,"./lv":6537,"./lv.js":6537,"./me":6536,"./me.js":6536,"./mi":6535,"./mi.js":6535,"./mk":6534,"./mk.js":6534,"./ml":6533,"./ml.js":6533,"./mn":6532,"./mn.js":6532,"./mr":6531,"./mr.js":6531,"./ms":6530,"./ms-my":6529,"./ms-my.js":6529,"./ms.js":6530,"./mt":6528,"./mt.js":6528,"./my":6527,"./my.js":6527,"./nb":6526,"./nb.js":6526,"./ne":6525,"./ne.js":6525,"./nl":6524,"./nl-be":6523,"./nl-be.js":6523,"./nl.js":6524,"./nn":6522,"./nn.js":6522,"./pa-in":6521,"./pa-in.js":6521,"./pl":6520,"./pl.js":6520,"./pt":6519,"./pt-br":6518,"./pt-br.js":6518,"./pt.js":6519,"./ro":6517,"./ro.js":6517,"./ru":6516,"./ru.js":6516,"./sd":6515,"./sd.js":6515,"./se":6514,"./se.js":6514,"./si":6513,"./si.js":6513,"./sk":6512,"./sk.js":6512,"./sl":6511,"./sl.js":6511,"./sq":6510,"./sq.js":6510,"./sr":6509,"./sr-cyrl":6508,"./sr-cyrl.js":6508,"./sr.js":6509,"./ss":6507,"./ss.js":6507,"./sv":6506,"./sv.js":6506,"./sw":6505,"./sw.js":6505,"./ta":6504,"./ta.js":6504,"./te":6503,"./te.js":6503,"./tet":6502,"./tet.js":6502,"./tg":6501,"./tg.js":6501,"./th":6500,"./th.js":6500,"./tl-ph":6499,"./tl-ph.js":6499,"./tlh":6498,"./tlh.js":6498,"./tr":6497,"./tr.js":6497,"./tzl":6496,"./tzl.js":6496,"./tzm":6495,"./tzm-latn":6494,"./tzm-latn.js":6494,"./tzm.js":6495,"./ug-cn":6493,"./ug-cn.js":6493,"./uk":6492,"./uk.js":6492,"./ur":6491,"./ur.js":6491,"./uz":6490,"./uz-latn":6489,"./uz-latn.js":6489,"./uz.js":6490,"./vi":6488,"./vi.js":6488,"./x-pseudo":6487,"./x-pseudo.js":6487,"./yo":6486,"./yo.js":6486,"./zh-cn":6485,"./zh-cn.js":6485,"./zh-hk":6484,"./zh-hk.js":6484,"./zh-tw":6483,"./zh-tw.js":6483};function o(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=7437},7439:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),i=s(n(7438)),u=s(n(5));n(5862);var l=s(n(5861));function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=e.minDate,n=e.maxDate,r=e.onSelect,a=e.locale,u=e.value;return o("div",{className:l.default.calendarPicker},void 0,o(i.default,{fixedHeight:!0,inline:!0,selected:u,locale:a,onSelect:r,maxDate:n,minDate:t}))},t}(a.PureComponent);c.defaultProps={value:(0,u.default)().local()},c.displayName="CalendarPicker",t.default=c,e.exports=t.default},7440:function(e,t,n){"use strict";t.__esModule=!0;var r=_(n(3)),o=_(n(2)),a=n(6076),i=n(6075),u=_(i),l=_(n(62)),s=_(n(6026)),c=_(n(126)),f=_(n(938)),d=_(n(12)),p=_(n(6055)),h=_(n(6144)),E=_(n(6239)),y=n(0);function _(e){return e&&e.__esModule?e:{default:e}}var T={},S={},m=10,A=3;function v(e,t,n,r,o,a){var i=S[e];return null==i&&(i={results:[],context:E.default.getSearchContext(function(e,t){var n=t.results,r=S[e],o=T[e];if(null==r||null==o)return;var a=o.mode,i=a.type,u=a.filter;if(i===y.SearchPopoutModes.EMPTY||i===y.SearchPopoutModes.FILTER&&u!==y.SearchTokenTypes.FILTER_FROM&&u!==y.SearchTokenTypes.FILTER_MENTIONS)return;var l=A;o.mode.type===y.SearchPopoutModes.FILTER&&(l=m);r.results=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m;(e=e.reduce(function(e,t){var n=d.default.getUser(t.id);return null==n?e:(e.push({text:n.tag,user:n}),e)},[])).length>t&&(e.length=t);return e}(n,l);var s=o.query,c=o.mode,f=o.tokens,p=o.cursorScope,h=o.autocompletes;h=N(e,c),T[e]=v(e,s,c,f,p,h),b.emitChange()}.bind(null,e))},S[e]=i),{query:t||"",mode:n||{type:y.SearchPopoutModes.EMPTY,filter:null,token:null},tokens:r||[],cursorScope:o||null,autocompletes:a||[]}}function g(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;if(!e)return null;var o=void 0;if(e===y.SearchTokenTypes.FILTER_FROM||e===y.SearchTokenTypes.FILTER_MENTIONS){var a=S[n];null==a?o=null:(null!=t&&0!==t.getFullMatch().trim().length||(a.results=p.default.getRecentlyTalked(n,m).map(function(e){var t=e.user;return{user:t,text:t.tag}})),o=a.results)}else{var i=u.default[e]&&u.default[e].getAutocompletions,l=(null!=t?t.getFullMatch():"").trim();o=i?i(l,n,r):[]}return o&&o.length?{group:e,results:o}:null}function R(e){var t,n=(e?e.getFullMatch():"").trim(),r=((t={})[y.SearchTokenTypes.FILTER_FROM]=!c.default.hidePersonalInformation,t[y.SearchTokenTypes.FILTER_MENTIONS]=!c.default.hidePersonalInformation,t[y.SearchTokenTypes.FILTER_HAS]=!0,t[y.SearchTokenTypes.FILTER_BEFORE]=!0,t[y.SearchTokenTypes.FILTER_AFTER]=!0,t[y.SearchTokenTypes.FILTER_ON]=!0,t[y.SearchTokenTypes.FILTER_IN]=s.default.getSearchType()===y.SearchTypes.GUILD,t),o=(0,i.getFilterAutocompletions)(n).filter(function(e){return r[e.token]});return{group:y.SearchAutocompleteGroups.SEARCH_OPTIONS,results:o}}function I(e,t){var n=[];return(e?e.getFullMatch():"").trim()&&(function(e){var t=s.default.getSearchType(e),n=[y.SearchTokenTypes.FILTER_HAS];return c.default.hidePersonalInformation||(n.push(y.SearchTokenTypes.FILTER_FROM),n.push(y.SearchTokenTypes.FILTER_MENTIONS)),t===y.SearchTypes.GUILD&&n.push(y.SearchTokenTypes.FILTER_IN),n}(t).forEach(function(r){if(r){var o=g(r,e,t,A);o&&n.push(o)}}),n.push(function(e,t){var n=(e?e.getFullMatch():"").trim();if(n){var r=u.default[y.SearchTokenTypes.FILTER_BEFORE].getAutocompletions(n,t,1),o=r[0],a=u.default[y.SearchTokenTypes.FILTER_ON].getAutocompletions(n,t,1),i=a[0],l=u.default[y.SearchTokenTypes.FILTER_AFTER].getAutocompletions(n,t,1),s=l[0];if(!o)return null;var c=[o,i,s];return{group:y.SearchAutocompleteGroups.DATES,results:c}}}(e,t))),(0,a.getTotalResults)(n)<5&&n.push(R(e)),n}function N(e,t){var n=[];return t.type===y.SearchPopoutModes.FILTER?n.push(g(t.filter,t.token,e,m)):t.type===y.SearchPopoutModes.FILTER_ALL?n=I(t.token,e):t.type===y.SearchPopoutModes.EMPTY&&(n.push(R(t.token)),n.push(function(e){if(c.default.hidePersonalInformation)return null;var t=s.default.getHistory(e);return t?{group:y.SearchAutocompleteGroups.HISTORY,results:t.map(function(e){return{text:e}})}:null}(e))),n}function O(){(0,a.clearTokenCache)()}function C(e){var t=T[e];if(t){var n=t.query,r=t.mode,o=t.tokens,a=t.cursorScope,i=t.autocompletes;T[e]=v(e,n,r,o,a,i.map(function(e){return e&&e.group===y.SearchAutocompleteGroups.HISTORY?null:e}))}}function P(){if(f.default.isOpen(y.SEARCH_POPOUT_ID)){var e=s.default.getCurrentSearchId();if(e&&T[e]){var t=T[e],n=t.query,r=t.mode,o=t.tokens,a=t.cursorScope;T[e]=v(e,n,r,o,a,N(e,r))}}}var b=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(l.default,c.default,f.default)},t.prototype.getState=function(e){return T[e]||v(e)},t}(r.default.Store))(o.default,{SEARCH_AUTOCOMPLETE_QUERY_UPDATE:function(e){var t=e.searchId,n=e.tokens,r=e.cursorScope;if(!f.default.isOpen(y.SEARCH_POPOUT_ID))return!1;var o=(0,a.getQueryFromTokens)(n),i=(0,a.getAutocompleteMode)(r,n),u=T[t]||{},l=S[t],s=!0,c=void 0;if(o!==u.query||u.mode&&u.mode.filter!==i.filter){if(i.type===y.SearchPopoutModes.EMPTY||i.type===y.SearchPopoutModes.FILTER&&i.filter!==y.SearchTokenTypes.FILTER_FROM&&i.filter!==y.SearchTokenTypes.FILTER_MENTIONS)null!=l&&(l.context.clearQuery(),l.results=[]),c=N(t,i);else if(null!=l){var d=i.token;null!=d&&d.getFullMatch().trim().length>0?(h.default.requestMembers(t,d.getFullMatch(),m),l.context.setQuery(d.getFullMatch().trim(),{guild:t}),c=u.autocompletes,s=!1):(l.context.clearQuery(),c=N(t,i))}}else c=u.autocompletes,s=!1;return T[t]=v(t,o,i,n,r,c),s},SEARCH_EDITOR_STATE_CLEAR:function(e){var t=e.searchId,n=S[t];null!=n&&(n.context.destroy(),n.results=[],delete S[t]),delete T[t]},CHANNEL_CREATE:function(e){return O()},CHANNEL_DELETE:function(e){return O()},STREAMER_MODE_UPDATE:function(e){return P()},POPOUT_OPEN:function(e){return P()},SEARCH_MODAL_OPEN:function(e){return P()},SEARCH_CLEAR_HISTORY:function(e){var t=e.searchId;null!=t?C(t):Object.keys(T).forEach(C)},LOGOUT:function(e){Object.keys(T).forEach(C)}});t.default=b,e.exports=t.default},7441:function(e,t,n){"use strict";var r;t.__esModule=!0,t.GroupData=void 0;var o,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,r){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),u=H(n(1)),l=U(n(53)),s=U(n(3)),c=U(n(66)),f=U(n(18)),d=U(n(192)),p=U(n(65)),h=U(n(62)),E=U(n(30)),y=n(6240),_=n(6032),T=U(n(59)),S=U(n(80)),m=U(n(9)),A=U(n(5)),v=n(140),g=U(n(7440)),R=U(n(7439)),I=U(n(6482)),N=U(n(106)),O=U(n(163)),C=n(6075),P=U(C),b=U(n(7)),M=H(n(6076)),L=U(n(517)),D=U(n(6)),w=n(6119),F=n(0),k=U(n(5859));function U(e){return e&&e.__esModule?e:{default:e}}function H(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var x=/^\s*$/,j=(0,A.default)("2015-05-15").local();var B=function(e,t,n){var r=n.user,o=n.text;if(!r)return i("strong",{},void 0,o);var a=h.default.getNick(e,r.id)||r.username,u=r.avatarURL||r.getAvatarURL();return[i("img",{alt:"",className:k.default.displayAvatar,src:u},"avatar-"+t+"-"+r.id),i("span",{className:k.default.displayedNick},"display-nick-"+t+"-"+r.id,a),i("span",{className:k.default.displayUsername},"display-username-"+t+"-"+r.id,o)]},G=function(e,t,n){var r=n.channel,o=f.default.getChannel(r.parent_id),a=(0,_.getIconNameForChannel)(r);return i("div",{className:k.default.resultChannel},void 0,null!=a?i(T.default,{name:a,className:k.default.searchResultChannelIcon,background:k.default.searchResultChannelIconBackground}):null,i("strong",{},void 0,r.toString()),null!=o?i("span",{className:k.default.searchResultChannelCategory},void 0,o.toString()):null)};G.displayName="renderChannel";var Y=function(e){var t,n=e.searchId,r=e.result,o=e.group,a=e.selected,u=e.className,l=e.onSelect,s=e.onFocus,c=e.showFilter,f=e.renderResult,d=void 0;c&&(d=i("span",{className:k.default.filter},void 0,P.default[o].key||"addme:"));var p=void 0;return p=f?f(n,o,r):i("strong",{},void 0,r.text),i(S.default,{className:(0,m.default)(k.default.option,u,(t={},t[k.default.selected]=a,t)),onClick:l,onMouseOver:s,onFocus:s},void 0,d,p,i(T.default,{name:T.default.Names.PLUS_ALT,className:k.default.plusIcon}))};Y.displayName="ResultComponent";var W=function(e){return u.createElement(Y,a({},e,{className:k.default.user,renderResult:B}))};W.displayName="UserResultComponent";var V=function(e){return u.createElement(Y,a({},e,{renderResult:G}))};V.displayName="ChannelResultComponent";var K=t.GroupData=((r={})[F.SearchTokenTypes.FILTER_FROM]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_FROM},component:W},r[F.SearchTokenTypes.FILTER_MENTIONS]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_MENTIONS},component:W},r[F.SearchTokenTypes.FILTER_HAS]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_HAS}},r[F.SearchTokenTypes.FILTER_FILE_TYPE]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_FILE_TYPE}},r[F.SearchTokenTypes.FILTER_IN]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_CHANNELS},component:V},r[F.SearchAutocompleteGroups.DATES]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_DATES}},r[F.SearchAutocompleteGroups.HISTORY]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_HISTORY},groupTip:function(e){var t=e.searchId;return i(N.default,{text:D.default.Messages.SEARCH_CLEAR_HISTORY,position:N.default.Positions.LEFT},void 0,i(S.default,{onClick:function(){return(0,y.clearHistory)(t)},className:k.default.searchClearHistory,title:D.default.Messages.SEARCH_CLEAR_HISTORY},void 0,i(T.default,{name:T.default.Names.CLEAR_HISTORY})))},component:(0,l.default)({displayName:"component",mixins:[s.default.LazyStoreListenerMixin(f.default)],getInitialState:function(){return this.getStateFromStores()},getStateFromStores:function(){return{tokens:M.tokenizeQuery(this.props.result.text).map(function(e,t,n){return M.filterHasAnswer(e,n[t+1])?e:new w.Token(e.getFullMatch(),w.NON_TOKEN_TYPE)})}},render:function(){var e,t=this.props,n=t.selected,r=t.onSelect,o=t.onFocus,a=this.state.tokens.map(function(e,t){var n,r=e.getFullMatch();if(x.test(r))return null;var o=F.IS_SEARCH_FILTER_TOKEN.test(e.type),a=F.IS_SEARCH_ANSWER_TOKEN.test(e.type),u=!o&&!a;return i("span",{className:(0,m.default)((n={},n[k.default.filter]=o,n[k.default.answer]=a,n[k.default.nonText]=u,n))},t,r)});return i(S.default,{className:(0,m.default)(k.default.option,k.default.history,(e={},e[k.default.selected]=n,e)),onClick:r,onMouseOver:o,onFocus:o},void 0,a,i(T.default,{name:T.default.Names.PLUS_ALT,className:k.default.plusIcon}))}})},r[F.SearchAutocompleteGroups.SEARCH_OPTIONS]={titleText:function(){return D.default.Messages.SEARCH_GROUP_HEADER_SEARCH_OPTIONS},groupTip:function(){return i(N.default,{text:D.default.Messages.LEARN_MORE,position:N.default.Positions.LEFT},void 0,i("div",{className:k.default.searchLearnMore},void 0,i(O.default,{href:L.default.getArticleURL(F.HelpdeskArticles.USING_SEARCH),title:D.default.Messages.LEARN_MORE},void 0,i(T.default,{name:T.default.Names.LEARN_MORE}))))},component:function(e){var t,n,r=e.result,o=e.selected,a=e.onSelect,u=e.onFocus,l=M.getSearchOptionAnswer(r.token);return i(S.default,{className:(0,m.default)(k.default.option,k.default.searchOption,(t={},t[k.default.selected]=o,t)),onClick:a,onMouseOver:u,onFocus:u},void 0,i("span",{className:k.default.filter},void 0,r.text),i("span",{className:(0,m.default)((n={},n[k.default.answer]=l,n))},void 0,l),i(T.default,{name:T.default.Names.PLUS_ALT,className:k.default.plusIcon}))}},r),z=(0,l.default)({displayName:"SearchPopout",mixins:[c.default,s.default.LazyStoreListenerMixin(d.default,p.default,g.default,E.default)],getInitialState:function(){return a({dateHint:(0,C.getRandomDateShortcut)()},this.getStateFromStores())},getStateFromStores:function(){var e=d.default.getGuildId(),t=p.default.getChannelId(),n=e||t;if(null==n)throw new Error("SearchPopout.getStateFromStores - invalid searchId");var r=g.default.getState(n),o=this.state?this.state.selectedIndex:-1,i=M.getTotalResults(r.autocompletes);return a({locale:E.default.locale,searchId:n,selectedIndex:o,totalResults:i},r)},componentDidUpdate:function(e,t){var n=this.state,r=n.mode,o=n.totalResults;r.filter&&!t.mode.filter&&o?this.setState({selectedIndex:0}):r.type===F.SearchPopoutModes.FILTER_ALL&&t.mode.type!==r.type?this.setState({selectedIndex:-1}):this.keepCurrentOptionSelected(t)},handleDateChange:function(e){this.setSearchQuery(e.format(F.SEARCH_DATE_FORMAT)+" ",!0)},keepCurrentOptionSelected:function(e){var t=this.state,n=t.mode,r=t.selectedIndex,o=t.autocompletes,a=t.totalResults;if(this.state.mode.type!==e.mode.type)this.setState({selectedIndex:-1});else if(e.selectedIndex>=0&&(e.selectedIndex===r||e.autocompletes.length!==o.length)){var i=M.getFlattenedStringArray(e.autocompletes,e.mode.type)[e.selectedIndex-1],u=M.getFlattenedStringArray(o,n.type).indexOf(i);-1!==u?this.setState({selectedIndex:u}):e.selectedIndex>=a&&this.setState({selectedIndex:a-1})}},focusNextOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;M.showDatePicker(n&&n.filter)||(t+=1,this.focusOption(t))},focusPreviousOption:function(){var e=this.state,t=e.selectedIndex,n=e.mode;M.showDatePicker(n.filter)||(t-=1,this.focusOption(t))},focusOption:function(e){var t=this.state.autocompletes,n=this.shouldShowSearchQuery();e<-1||!n&&e<0?e=M.getTotalResults(t)-1:n&&e>=M.getTotalResults(t)?e=-1:!n&&e>=M.getTotalResults(t)&&(e=0),this.setState({selectedIndex:e})},selectOption:function(e){if(null==e&&(e=this.state.selectedIndex),e<0)return!1;var t=this.state,n=t.autocompletes,r=t.mode;if(!M.showDatePicker(r.filter)){var o=M.getFlattenedStringArray(n,r.type);if(e>=o.length)return!1;var a=o[e],i=function(e){var t=!0;return e=e.trim(),(0,b.default)(P.default).forOwn(function(n){n.key&&e===n.key&&(t=!1)}),t}(a);return this.setSearchQuery(a,i),!0}},setSearchQuery:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.state,r=n.mode,o=n.cursorScope,a=0;r.token?a=r.token.start:o&&o.currentToken&&(a=o.currentToken.end);var i=r.token?r.token.end:a;v.ComponentDispatch.dispatch(F.ComponentActions.SET_SEARCH_QUERY,{query:e,anchor:a,focus:i,performSearch:t}),this.setState({selectedIndex:-1})},shouldShowSearchQuery:function(){var e=this.state.mode;return e.type!==F.SearchPopoutModes.FILTER&&e.type!==F.SearchPopoutModes.EMPTY&&!M.showDatePicker(e.filter)},renderDatePicker:function(){return i("div",{className:k.default.datePicker},void 0,i(R.default,{locale:this.state.locale,onSelect:this.handleDateChange,maxDate:(0,A.default)().local(),minDate:j}),i("div",{className:k.default.datePickerHint},void 0,i("span",{className:k.default.hint},void 0,D.default.Messages.SEARCH_DATE_PICKER_HINT," "),i(S.default,{tag:"span",className:k.default.hintValue,onClick:this.handleHintClick},void 0,this.state.dateHint)))},handleHintClick:function(){this.setSearchQuery(this.state.dateHint,!0)},performSearch:function(){v.ComponentDispatch.dispatch(F.ComponentActions.PERFORM_SEARCH)},renderAutocompletes:function(){var e=this,t=this.state,n=t.autocompletes,r=t.selectedIndex,o=t.mode,a=t.searchId;if(M.showDatePicker(o.filter))return this.renderDatePicker();var u=-1;return n.map(function(t){if(!t||!t.results.length)return null;var n=K[t.group]||{},l=void 0;n.titleText&&(l=i("div",{className:k.default.header},void 0,n.titleText()));var s=n.groupTip||null;s&&(s=i(s,{searchId:a}));var c=n.component||Y,f=o.type===F.SearchPopoutModes.FILTER_ALL||!1;return i("div",{className:k.default.resultsGroup},t.group,l,s,t.results.map(function(n){return n&&t?(u+=1,i(c,{searchId:a,group:n.group||t.group,result:n,showFilter:f,selected:r===u,onSelect:e.selectOption.bind(null,u),onFocus:e.focusOption.bind(null,u)},t.group+"-"+n.text+"-"+(n.key||""))):null}))})},render:function(){var e=this,t=this.state,n=t.query,r=t.selectedIndex,o=t.totalResults;return i(I.default,{numResults:o,query:n,hideQuery:!this.shouldShowSearchQuery(),focusedIndex:r,renderCustomResults:this.renderAutocompletes,renderInitialState:this.renderAutocompletes,onHighlightQuery:function(){return e.focusOption(-1)},onSelectQuery:this.performSearch,renderNoResults:function(){return null}})}});t.default=z},7443:function(e,t,n){"use strict";t.__esModule=!0,t.analyze=f,t.shouldHighlight=d,t.highlightAST=p,t.createASTHighlighter=function(e){var t=new Set(f(e));return function(e){return p(e,t)}};var r=a(n(7442)),o=a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}var i=new Set(["a","an","and","are","as","at","be","but","by","for","if","in","into","is","it","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"]);function u(e){return e.replace(/('|\u2019|\uFF07)(s|S)$/,"")}function l(e){return e.toLowerCase()}function s(e){return i.has(e)}function c(e){return 0===e.length}function f(e){return(0,o.default)(e.split(/\W+/)).map(u).reject(c).map(l).reject(s).map(r.default).value()}function d(e,t){return!c(e=l(u(e)))&&!s(e)&&t.has((0,r.default)(e))}function p(e,t){if(Array.isArray(e))e.forEach(function(e){return p(e,t)});else if("string"==typeof e.content&&"codeBlock"!==e.type){var n=[],r="";e.content.split(/(\W+)/g).forEach(function(e){d(e,t)?(r.length>0&&n.push({type:"text",content:r}),n.push({type:"highlight",content:e}),r=""):r+=e}),n.length>0&&(r.length>0&&n.push({type:"text",content:r}),"text"===e.type?e.content=n:e.content=[{type:"text",content:n}])}else null!=e.content&&p(e.content,t);return e}},7444:function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(72)),o=a(n(283));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.create=function(e,n){var r=e.hit,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["hit"]),i=o.default.create(a,function(e){return r?n(e):e});return new t({hit:r,message:i})},t.prototype.initialize=function(e){this.message=e.message,this.hit=e.hit||!1},t}(r.default);t.default=i,e.exports=t.default},7445:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(13)),o=i(n(147)),a=n(0);function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isCanceled=!1,this.searchId=t,this.searchType=n,this.query=r}return e.prototype.fetch=function(e,t,n){var i=this;if(!this.isCanceled){var u=this.searchType===a.SearchTypes.GUILD?a.Endpoints.SEARCH_GUILD:a.Endpoints.SEARCH_CHANNEL;this.searchId&&r.default.get({url:u(this.searchId),query:o.default.stringify(this.query)}).then(function(r){i.isCanceled||(200===r.status?e(r):202===r.status&&(i.query.attempts=(i.query.attempts||0)+1,i.retryDelay=r.body.retry_after||5e3,i.retryLater(e,t,n),t(r)))}).catch(function(e){console.error(e),n(e)})}},e.prototype.cancel=function(){this.isCanceled=!0,null!=this.indexingPollId&&clearTimeout(this.indexingPollId)},e.prototype.retryLater=function(e,t,n){null!=this.indexingPollId&&clearTimeout(this.indexingPollId),this.indexingPollId=setTimeout(this.fetch.bind(this,e,t,n),this.retryDelay)},e}();t.default=u,e.exports=t.default},7446:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=D(n(1)),i=L(n(9)),u=L(n(3)),l=L(n(6)),s=L(n(6120)),c=L(n(117)),f=L(n(65)),d=L(n(6026)),p=L(n(938)),h=L(n(18)),E=L(n(6607)),y=L(n(224)),_=L(n(80)),T=n(6031),S=L(n(7441)),m=n(6477),A=D(n(6240)),v=L(n(194)),g=n(0),R=D(n(6442)),I=D(n(6076)),N=D(n(7328)),O=n(140),C=L(n(196)),P=L(n(6119)),b=L(n(6075)),M=L(n(6223));function L(e){return e&&e.__esModule?e:{default:e}}function D(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n(5857),n(5856);var w=512,F=(0,M.default)(A.search,500),k=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.state={focused:!1},r.handleSetSearchQuery=function(e){var t=e.query,n=e.anchor,o=e.focus,a=e.performSearch,i=e.replace,u=r.props.editorState,l=R.getFirstTextBlock(u);" "!==t.charAt(t.length-1)&&(t+=" "),n&&" "!==l.charAt(n-1)&&" "!==t.charAt(0)&&(t=" "+t),i?(u=R.replaceAllContent(t,u),n=0):u=R.updateContent(t,u,n,o),u=R.truncateContent(u,w),u=r.tokenize(u);var s=n+t.length;u=R.setCollapsedSelection(s,u),r.setEditorState(u),a&&r.search(R.getFirstTextBlock(u))},r.renderPopout=function(){return a.createElement(S.default,{ref:r.setSearchPopoutRef})},r.search=function(e){var t=r.props,n=t.searchId,o=t.isSearching;if(!e){var a=r.props.editorState;e=R.getFirstTextBlock(a)}if(n&&!o){for(var i=I.tokenizeQuery(e),u=I.getSearchQueryFromTokens(i),l=0;l<i.length;l++)I.filterHasAnswer(i[l],i[l+1])||(e=e.substring(0,i[l].start)+e.substring(i[l].end));if(!i.length||0===Object.keys(u).length)return!1;F(n,u,e),r.onBlur()}return!0},r.handleClearSearch=function(e){e.preventDefault(),e.stopPropagation(),r.clearSearch()},r.handleFocusSearch=function(e){if(e.prefillCurrentChannel&&R.isEmpty(r.props.editorState)){var t=f.default.getChannelId(),n=h.default.getChannel(t);if(null==n||n.isPrivate())r.focusEditor();else{var o=c.default.getTextChannelNameDisambiguations(n.getGuildId())[n.id],a=null!=o?o.name:n.name;r.handleSetSearchQuery({query:b.default[g.SearchTokenTypes.FILTER_IN].key+"#"+a+" ",replace:!0})}}else r.focusEditor()},r.focusEditor=function(){r._editorRef&&r._editorRef.focus()},r.blurEditor=function(){r._editorRef&&r._editorRef.blur()},r.setEditorRef=function(e){r._editorRef=e},r.setPopoutRef=function(e){r._popoutRef=e},r.setSearchPopoutRef=function(e){r._searchPopoutRef=e},r.onFocus=function(){C.default.trackWithMetadata("search_opened"),r.setState({focused:!0})},r.onBlur=function(){r.setState({focused:!1},function(){v.default.close(g.SEARCH_POPOUT_ID),R.isEmpty(r.props.editorState)&&r.clearSearch()})},r.onDownArrow=function(e){return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.focusNextOption(),!0},r.onUpArrow=function(e){return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.focusPreviousOption(),!0},r.onTab=function(e){if(!g.EnableAccessibility)return e.preventDefault(),r._searchPopoutRef&&r._searchPopoutRef.selectOption(),!0},r.handleReturn=function(e){e.preventDefault();var t=!1;return r._searchPopoutRef&&(t=r._searchPopoutRef.selectOption()),t||r.search(),!0},r.onEscape=function(e){return e.preventDefault(),e.stopPropagation(),r.blurEditor(),!0},r.handleBeforeInput=function(e){var t=r.props.editorState,n=r.state.focused;return R.getFirstTextBlock(t).length>=w||(t=R.updateContent(e,t),t=R.truncateContent(t,w),t=r.tokenize(t),r.setEditorState(t),n||r.setState({focused:!0}),!0)},r.handleKeyCommand=function(e){var t=r.props.editorState,n=r.state.focused;switch(e){case"backspace":case"backspace-word":case"backspace-to-start-of-line":case"delete":case"delete-word":return t=R.deleteContent(e,t),t=r.tokenize(t),r.setEditorState(t),n||r.setState({focused:!0}),!0;case"transpose-characters":case"move-selection-to-start-of-block":case"move-selection-to-end-of-block":return t=R.miscCommand(e,t),t=r.tokenize(t),r.setEditorState(t),!0;case"split-block":case"underline":case"bold":case"italic":return!0}},r.handlePastedText=function(e){var t=r.props.editorState,n=r.state.focused;return e=null!=e?e.replace(/\n/g,""):"",t=R.updateContent(e,t),t=R.truncateContent(t,w),t=r.tokenize(t),n||r.setState({focused:!0}),r.setEditorState(t),!0},r.setEditorState=function(e){var t=r.props.searchId;A.setSearchState(t,e)},r.handleKeyBind=function(e){var t=e.key,n=e.metaKey,o=e.shiftKey,a=r.props.editorState;return e.stopPropagation(),"Home"===t||"ArrowLeft"===t&&n?(e.preventDefault(),a=o?R.setToStartSelection(a):R.setCollapsedStartSelection(a),r.setEditorState(a),!0):"End"===t||"ArrowRight"===t&&n?(e.preventDefault(),a=o?R.setToEndSelection(a):R.setCollapsedEndSelection(a),r.setEditorState(a),!0):R.getDefaultKeyBinding(e)},I.clearTokenCache(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){O.ComponentDispatch.subscribe(g.ComponentActions.PERFORM_SEARCH,this.search),O.ComponentDispatch.subscribe(g.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),O.ComponentDispatch.subscribe(g.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.editorState,r=t.searchId;if(this.state.focused&&this.ensurePopoutIsOpen(),n!==e.editorState){var o=I.tokenizeQuery(R.getFirstTextBlock(n)),a=N.getSelectionScope(o,n);A.updateAutocompleteQuery(r,o,a),this._editorRef&&R.scrollCursorIntoView(this._editorRef.refs.editor)}},t.prototype.componentWillUnmount=function(){O.ComponentDispatch.unsubscribe(g.ComponentActions.PERFORM_SEARCH,this.search),O.ComponentDispatch.unsubscribe(g.ComponentActions.SET_SEARCH_QUERY,this.handleSetSearchQuery),O.ComponentDispatch.unsubscribe(g.ComponentActions.FOCUS_SEARCH,this.handleFocusSearch)},t.prototype.tokenize=function(e){var t=I.tokenizeQuery(R.getFirstTextBlock(e)).filter(function(e){return e.type!==P.default.NON_TOKEN_TYPE});return R.applyTokensAsEntities(t,e,b.default)},t.prototype.clearSearch=function(){var e=this.props.searchId;e&&A.clearSearchState(e)},t.prototype.ensurePopoutIsOpen=function(){this._popoutRef&&!p.default.isOpen(g.SEARCH_POPOUT_ID)&&this._popoutRef.open()},t.prototype.handlePastedFiles=function(){return!0},t.prototype.handleDroppedFiles=function(){return!0},t.prototype.handleDrop=function(){return!0},t.prototype.renderInput=function(){var e=this.props.editorState;return a.createElement(m.Editor,{ref:this.setEditorRef,onDownArrow:this.onDownArrow,onUpArrow:this.onUpArrow,onTab:this.onTab,onEscape:this.onEscape,onBlur:this.onBlur,onFocus:this.onFocus,handleReturn:this.handleReturn,handleBeforeInput:this.handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,handleDroppedFiles:this.handleDroppedFiles,handleDrop:this.handleDrop,keyBindingFn:this.handleKeyBind,placeholder:l.default.Messages.SEARCH,editorState:e,onChange:this.setEditorState})},t.prototype.render=function(){var e=this.props,t=e.searchId,n=e.editorState,r=e.hasResults,u=e.theme,l=e.className,s=this.state.focused,c=!!R.getFirstTextBlock(n).length;return t?a.createElement(y.default,{offsetX:-12,ref:this.setPopoutRef,uniqueId:g.SEARCH_POPOUT_ID,render:this.renderPopout,position:y.default.Positions.BOTTOM,toggleClose:!1,animationType:y.default.Animations.NONE,preventInvert:!0},o("div",{className:(0,i.default)(l,{"theme-dark":u===g.ThemeTypes.DARK})},void 0,o(_.default,{className:(0,i.default)("search",{open:c,focused:s}),onClick:this.focusEditor},void 0,o("div",{className:(0,i.default)("search-bar",{"search-bar-light":u===g.ThemeTypes.LIGHT})},t,this.renderInput(),o(T.SearchBarIcon,{handleClear:this.handleClearSearch,hasContent:c||r}))))):null},t}(a.PureComponent);k.displayName="Search",t.default=u.default.connectStores([d.default,s.default,E.default],function(){var e=d.default.getCurrentSearchId();return{searchId:e,isSearching:!!e&&d.default.isSearching(e),editorState:e&&d.default.getEditorState(e)||R.createEmptyEditorState(N.generateDecorators(b.default)),hasResults:d.default.hasResults(e),theme:E.default.theme}})(k),e.exports=t.default},7447:function(e,t,n){e.exports=n.p+"308e587f3a68412f137f7317206e92c2.svg"},7448:function(e,t,n){e.exports=n.p+"9b0d90147f7fab54f00dd193fe7f85cd.svg"},7449:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(3)),o=l(n(2)),a=l(n(145)),i=l(n(14)),u=l(n(61));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s=10,c=15552e6,f=!1;var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(u.default,i.default)},t.prototype.isEligible=function(){return f},t}(r.default.Store);t.default=new d(o.default,{CONNECTION_OPEN:function(e){return f!==(f=u.default.getFriendIDs().length>=s&&a.default.extractTimestamp(i.default.getId())<Date.now()-c)}}),e.exports=t.default},7450:function(e,t,n){"use strict";var r,o;t.__esModule=!0;var a=c(n(3)),i=c(n(2)),u=c(n(5985)),l=c(n(193)),s=n(0);function c(e){return e&&e.__esModule?e:{default:e}}function f(){return!0}var d=new(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([l.default],f)},t.prototype.getExperimentId=function(){return s.Experiments.SURVEY_GO_VOTE},t.prototype.getMetaData=function(){return{title:"Go Vote Bar",description:["TREATMENT_1: Go Vote CTA"]}},t.prototype.getSurveyMetaData=function(e){return e===s.ExperimentBuckets.TREATMENT_1?{id:this.getExperimentId(),url:"https://www.vote.org/polling-place-locator/",content:"Go vote!",button:"Find Location",color:s.Colors.STATUS_GREEN_500}:null},t.prototype.getExperimentDescriptor=function(){return l.default.getEligibleExperiment(this.getExperimentId())},t}(a.default.Store))(i.default);u.default.register(d,((o={})[s.ExperimentTypes.USER]=((r={})[s.ExperimentBuckets.TREATMENT_1]=function(){return null},r),o)),t.default=d,e.exports=t.default},7451:function(e,t,n){"use strict";t.__esModule=!0;var r=l(n(3)),o=l(n(2)),a=l(n(24)),i=l(n(193)),u=l(n(7450));n(0);function l(e){return e&&e.__esModule?e:{default:e}}var s="surveys",c={},f=new Set([u.default]);function d(){Object.keys(c).length>0?a.default.set(s,c):a.default.remove(s)}var p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.syncWith([i.default].concat(Array.from(f)),function(){return!0});var e=a.default.get(s)||{};f.forEach(function(t){var n=t.getExperimentId();e[n]&&(c[n]=!0)}),d()},t.prototype.getMetaData=function(e){if(null==e)return null;var t=e.name,n=e.bucket,r=Array.from(f).find(function(e){if(e.getExperimentId()===t)return!0});return null!=r?r.getSurveyMetaData(n):null},t.prototype.getSurveyExperiment=function(){var e=Array.from(f).find(function(e){return!c[e.getExperimentId()]&&null!=i.default.getEligibleExperiment(e.getExperimentId())});return null!=e?i.default.getEligibleExperiment(e.getExperimentId()):null},t}(r.default.Store);t.default=new p(o.default,{SURVEY_HIDE:function(e){var t=e.id;c[t]=!0,d()}}),e.exports=t.default},7452:function(e,t,n){"use strict";t.__esModule=!0,t.isEligibleForGDPRNotice=function(e){return null!=e&&(null==e.email||!e.verified)&&(t=new Date,t.getFullYear()<=2018&&t.getDate()<=25&&t.getMonth()<=5)&&function(e){return e.createdAt<15263424e5}(e);var t}},7531:function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(2)),o=n(0),a=i(n(13));function i(e){return e&&e.__esModule?e:{default:e}}t.default={setGuildFilter:function(e){var t=e.guildFilter,n=e.roleFilter,a=e.everyoneFilter;r.default.dispatch({type:o.ActionTypes.SET_RECENT_MENTIONS_FILTER,guildFilter:t,roleFilter:n,everyoneFilter:a})},truncateMentions:function(e){r.default.dirtyDispatch({type:o.ActionTypes.TRUNCATE_MENTIONS,size:e})},fetchRecentMentions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MAX_MENTIONS_PER_FETCH,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];r.default.dirtyDispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS,guildId:n}),a.default.get({url:o.Endpoints.MENTIONS,query:{before:e,limit:t,guild_id:n,roles:i,everyone:u},retries:2}).then(function(t){var n=t.body;r.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_SUCCESS,messages:n,isAfter:null!=e,hasMoreAfter:n.length>=o.MAX_MENTIONS_PER_FETCH})},function(){r.default.dispatch({type:o.ActionTypes.LOAD_RECENT_MENTIONS_FAILURE})})},deleteRecentMention:function(e){a.default.delete({url:o.Endpoints.MENTIONS_MESSAGE_ID(e),retries:2}),r.default.dispatch({type:o.ActionTypes.RECENT_MENTION_DELETE,id:e})}},e.exports=t.default},7532:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=T(n(7)),i=T(n(3)),u=T(n(2)),l=n(0),s=T(n(283)),c=T(n(18)),f=T(n(276)),d=T(n(14)),p=T(n(12)),h=T(n(192)),E=T(n(30)),y=T(n(61)),_=T(n(24));function T(e){return e&&e.__esModule?e:{default:e}}var S="recentMentionFilterSettings",m=[],A={},v=!1,g=!0,R=_.default.get(S,{guildFilter:l.RecentMentionsFilters.ALL_SERVERS,everyoneFilter:!0,roleFilter:!0}),I=!1,N=!1;function O(e){if(e instanceof s.default)return e;var t=f.default.getMessage(e.channel_id,e.id);return null!=t?t:s.default.create(e)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.type!==l.MessageTypes.DEFAULT)return null;t||(t=e.channel_id);var n=c.default.getChannel(t);if(!n||n&&n.type===l.ChannelTypes.DM)return null;if(R.guildFilter===l.RecentMentionsFilters.THIS_SERVER&&n.getGuildId()!==h.default.getGuildId())return null;var r=e.author.id,o=d.default.getId();return y.default.isBlocked(r)||r===o?null:(e=O(e)).isMentioned(o,!R.everyoneFilter,!R.roleFilter)?e:null}function P(e){null!=A[e]&&(delete A[e],m=a.default.filter(m,function(t){return t.id!==e}))}function b(e){P(e.id)}function M(e){var t=o({},R);R=a.default.defaults(a.default.pick(e,["guildFilter","roleFilter","everyoneFilter"]),R),_.default.set(S,R);var n=function(e,n){return t[e]!==R[e]&&R[e]===n},r=n("guildFilter",l.RecentMentionsFilters.THIS_SERVER)||n("everyoneFilter",!1)||n("roleFilter",!1);A={};var i=[];r&&m.forEach(function(e){var t=C(e);t&&(i.push(t),A[t.id]=!0)}),0===(m=i).length&&(I=!1)}function L(){a.default.forEach(m,function(e){e.timestamp.locale(E.default.locale)})}function D(){m=m.filter(function(e){return!y.default.isBlocked(e.author.id)})}var w=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.initialize=function(){this.waitFor(p.default,c.default,f.default)},t.prototype.isOpen=function(){return N},t.prototype.getMentions=function(){return I||m.length?m:null},r(t,[{key:"hasLoadedEver",get:function(){return I}},{key:"loading",get:function(){return v}},{key:"hasMore",get:function(){return g}},{key:"guildFilter",get:function(){return R.guildFilter}},{key:"everyoneFilter",get:function(){return R.everyoneFilter}},{key:"roleFilter",get:function(){return R.roleFilter}}]),t}(i.default.Store);t.default=new w(u.default,{LOAD_RECENT_MENTIONS:function(e){var t=e.guildId;v=!0,null==t&&R.guildFilter===l.RecentMentionsFilters.THIS_SERVER&&M({guildFilter:l.RecentMentionsFilters.ALL_SERVERS})},LOAD_RECENT_MENTIONS_SUCCESS:function(e){var t=e.hasMoreAfter,n=e.messages,r=e.isAfter,o=a.default.map(n,O);r?m=m.concat(o):(m=o,A={}),a.default.forEach(o,function(e){A[e.id]=!0}),v=!1,g=t,I=!0},LOAD_RECENT_MENTIONS_FAILURE:function(e){v=!1},SET_RECENT_MENTIONS_FILTER:M,TRUNCATE_MENTIONS:function(e){for(var t=e.size,n=t;n<m.length;++n)delete A[m[n].id];m=m.slice(0,t),g=!0},GUILD_SELECT:function(e){R.guildFilter===l.RecentMentionsFilters.THIS_SERVER&&(I=!1)},CONNECTION_OPEN:function(e){return m=[],A={},void(I=!1)},GUILD_DELETE:function(e){var t=e.guild;m=a.default.filter(m,function(e){var n=c.default.getChannel(e.channel_id);return!(!n||n.getGuildId()===t.id)||(delete A[e.id],!1)})},MESSAGE_CREATE:function(e){var t=e.channelId,n=C(e.message,t);if(!n)return!1;(m=m.slice()).unshift(n),A[n.id]=!0},MESSAGE_UPDATE:function(e){var t=e.message.id;if(null!=A[t]){var n=a.default.findIndex(m,function(e){return e.id===t}),r=(m=m.slice())[n];m[n]=r.updateMessage(e.message)}},MESSAGE_DELETE:b,RECENT_MENTION_DELETE:b,MESSAGE_DELETE_BULK:function(e){var t=e.ids;a.default.forEach(t,P)},USER_SETTINGS_UPDATE:function(e){return L()},I18N_LOAD_SUCCESS:function(e){return L()},CHANNEL_DELETE:function(e){var t=e.channel;m=a.default.filter(m,function(e){return e.channel_id!==t.id||(delete A[e.id],!1)})},RELATIONSHIP_ADD:function(e){return D()},RELATIONSHIP_REMOVE:function(e){return D()},MENTION_MODAL_OPEN:function(e){N=!0},MENTION_MODAL_CLOSE:function(e){N=!1}}),e.exports=t.default},7533:function(e,t,n){"use strict";t.__esModule=!0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),i=N(n(60)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),l=N(n(53)),s=N(n(9)),c=N(n(66)),f=N(n(3)),d=N(n(7532)),p=N(n(7531)),h=N(n(6)),E=N(n(6629)),y=n(0),_=n(6241),T=N(_),S=N(n(195)),m=N(n(198)),A=N(n(224)),v=N(n(127)),g=N(n(30)),R=N(n(203)),I=N(n(5863));function N(e){return e&&e.__esModule?e:{default:e}}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.guildFilter,r=t.roleFilter,o=t.everyoneFilter,a=t.messageId,i=void 0===a?null:a;n=void 0===n?d.default.guildFilter:n,r=void 0===r?d.default.roleFilter:r,o=void 0===o?d.default.everyoneFilter:o;var u=null;e&&(u=n===y.RecentMentionsFilters.ALL_SERVERS?null:e.getGuildId()),p.default.fetchRecentMentions(i,y.MAX_MENTIONS_PER_FETCH,u,r,o)}var C=(0,l.default)({displayName:"FilterPopout",propTypes:{channel:i.default.instanceOf(v.default)},mixins:[f.default.StoreListenerMixin(d.default),c.default],getStateFromStores:function(){return{everyoneFilter:d.default.everyoneFilter,roleFilter:d.default.roleFilter}},toggleRoleFilter:function(){var e=!this.state.roleFilter;p.default.setGuildFilter({roleFilter:e}),O(this.props.channel,{roleFilter:e})},toggleEveryoneFilter:function(){var e=!this.state.everyoneFilter;p.default.setGuildFilter({everyoneFilter:e}),O(this.props.channel,{everyoneFilter:e})},render:function(){return u.createElement("div",this.props,a("div",{className:(0,s.default)(R.default.contextMenu,"theme-"+g.default.theme,I.default.recentMentionsFilterPopout)},void 0,a(S.default,{},void 0,a(m.default,{label:h.default.Messages.RECENT_MENTIONS_FILTER_EVERYONE,action:this.toggleEveryoneFilter,active:this.state.everyoneFilter},"Everyone"),a(m.default,{label:h.default.Messages.RECENT_MENTIONS_FILTER_ROLES,action:this.toggleRoleFilter,active:this.state.roleFilter},"Roles"))))}}),P=(0,l.default)({displayName:"RecentMentions",mixins:[f.default.StoreListenerMixin(d.default),c.default],setGuildFilter:function(e){p.default.setGuildFilter({guildFilter:e}),O(this.props.channel,{guildFilter:e})},getStateFromStores:function(){return{messages:d.default.getMentions(),hasMore:d.default.hasMore,loading:d.default.loading,guildFilter:d.default.guildFilter,roleFilter:d.default.roleFilter,everyoneFilter:d.default.everyoneFilter}},loadMore:function(){var e=this.state.messages,t=e&&e.length>0?e[e.length-1].id:null;O(this.props.channel,{messageId:t})},renderEmptyState:function(e){var t=h.default.Messages.NO_RECENT_MENTIONS,r=e===y.ThemeTypes.LIGHT?n(7448):n(7447);return a(E.default.EmptyStateBottom,{msg:t,image:r})},getProTip:function(){return h.default.Messages.RECENT_MENTIONS_PRO_TIP},renderDisplayPopout:function(e){return u.createElement(C,o({},e,{channel:this.props.channel}))},fetchOnMount:function(e){d.default.hasLoadedEver||O(e)},componentWillUnmount:function(){this.state.messages&&this.state.messages.length>y.MAX_MENTIONS_PER_FETCH&&p.default.truncateMentions(y.MAX_MENTIONS_PER_FETCH)},onCloseMessage:function(e){p.default.deleteRecentMention(e.id)},render:function(){var e=this.state,t=e.messages,n=e.loading,r=e.hasMore;return a(E.default,{className:I.default.recentMentionsPopout,onFetch:this.fetchOnMount,onJump:this.props.onJump,onCloseMessage:this.onCloseMessage,channel:this.props.channel,messages:t,loading:n,hasMore:r,analyticsName:"Recent Mentions",loadMore:this.loadMore,showGuildNames:this.state.guildFilter===y.RecentMentionsFilters.ALL_SERVERS,showChannels:!0,getProTip:this.getProTip,canCloseAllMessages:!0,renderMentioned:!1,renderHeader:this.renderHeader,renderEmptyState:this.renderEmptyState})},renderHeader:function(){var e=h.default.Messages.RECENT_MENTIONS_FILTER_EXPLAIN_EVERYTHING;this.state.everyoneFilter||this.state.roleFilter?this.state.everyoneFilter?this.state.roleFilter||(e=h.default.Messages.RECENT_MENTIONS_EVERYONE_AND_DIRECT):e=h.default.Messages.RECENT_MENTIONS_ROLES_AND_DIRECT:e=h.default.Messages.RECENT_MENTIONS_DIRECT_ONLY;var t=null,n=this.state.guildFilter;return this.props.channel&&!this.props.channel.isPrivate()?t=a(_.TabBarItem,{},y.RecentMentionsFilters.THIS_SERVER,h.default.Messages.THIS_SERVER):n=y.RecentMentionsFilters.ALL_SERVERS,a(E.default.Header,{title:h.default.Messages.RECENT_MENTIONS,className:I.default.header},void 0,a("div",{className:I.default.headerTabBarWrapper},void 0,a(T.default,{selectedItem:n,onItemSelect:this.setGuildFilter,type:_.TabBarTypes.TOP,className:I.default.tabBar},void 0,a(_.TabBarItem,{className:I.default.tabBarItem},y.RecentMentionsFilters.ALL_SERVERS,h.default.Messages.ALL_SERVERS),t),a(A.default,{render:this.renderDisplayPopout,position:A.default.Positions.BOTTOM_LEFT,preventInvert:!0,dependsOn:this.props.popoutName,zIndexBoost:100,shadow:!1,offsetY:-25},void 0,a("div",{className:I.default.mentionFilter},void 0,a("div",{className:I.default.label},void 0,h.default.Messages.RECENT_MENTIONS_FILTER_LABEL),a("div",{className:I.default.value},void 0,e)))))}});t.default=P,e.exports=t.default},7534:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(3)),a=u(n(2)),i=(n(0),u(n(517)));function u(e){return e&&e.__esModule?e:{default:e}}var l=[],s=6;var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"featuredArticles",get:function(){return l}}]),t}(o.default.Store);t.default=new c(a.default,{FEATURED_HELP_ARTICLES:function(e){var t=e.articles;l=t.slice(0,s).map(function(e){return{id:e.id,title:e.title,htmlUrl:i.default.getArticleURL(e.id)}})}}),e.exports=t.default},7535:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(2)),o=n(0),a=u(n(517)),i=u(n(13));function u(e){return e&&e.__esModule?e:{default:e}}t.default={loadFeaturedArticles:function(){i.default.get(a.default.getFeaturedArticlesJsonURL()).then(function(e){var t=e.body.articles||[];r.default.dispatch({type:o.ActionTypes.FEATURED_HELP_ARTICLES,articles:t})})}},e.exports=t.default},7536:function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,t,n,o){var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={}),t&&a)for(var u in a)void 0===t[u]&&(t[u]=a[u]);else t||(t=a||{});if(1===i)t.children=o;else if(i>1){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+3];t.children=l}return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}),a=_(n(60)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1)),u=_(n(53)),l=_(n(3)),s=_(n(9)),c=_(n(7535)),f=_(n(517)),d=_(n(946)),p=_(n(163)),h=_(n(7534)),E=_(n(956));n(5894);var y=_(n(6));function _(e){return e&&e.__esModule?e:{default:e}}var T=o("div",{className:"poop"}),S=o(d.default,{}),m=(0,u.default)({displayName:"NeedHelp",mixins:[l.default.StoreListenerMixin(h.default),E.default],propTypes:{handleClose:a.default.func},statics:{key:function(){return"need-help-modal"}},getInitialState:function(){return{failed:!1}},getStateFromStores:function(){var e=h.default.featuredArticles;return{loading:0===e.length,contentLoaded:e.length>0,content:e}},UNSAFE_componentWillMount:function(){var e=this;this.setTimeout(function(){return e.setState({failed:e.state.loading})},5e3),c.default.loadFeaturedArticles()},componentWillUnmount:function(){this.props.handleClose&&this.props.handleClose()},componentDidUpdate:function(e,t){!t.contentLoaded&&this.state.contentLoaded&&this.refs.query.focus()},handleSubmit:function(e){e.preventDefault();var t=this.refs.query.value,n=f.default.getSearchURL(t);window.open(n,"_blank"),this.props.onClose()},render:function(){var e=null;if(this.state.contentLoaded){var t=this.state.content.map(function(e){return o("li",{},e.id,o(p.default,{href:e.htmlUrl},void 0,e.title))});e=o("ul",{},void 0,t)}else e=this.state.failed?o("div",{className:"failed"},void 0,T,y.default.Messages.NEED_HELP_FAILED_LOADING.format()):S;return o("form",{className:(0,s.default)("modal-content","form","deprecated","need-help-modal",this.props.className),onSubmit:this.handleSubmit},void 0,o("div",{className:"header control-group"},void 0,o("h1",{className:"old-h1"},void 0,y.default.Messages.NEED_HELP_TITLE_QUESTION),i.createElement("input",{id:"help-query",ref:"query",type:"text",placeholder:y.default.Messages.NEED_HELP_SEARCH_PLACEHOLDER})),o("div",{className:(0,s.default)("form-inner",{loading:!this.state.loaded})},void 0,e),o("div",{className:"footer"},void 0,y.default.Messages.NEED_HELP_SUBMIT_REQUEST.format({submitRequestURL:f.default.getSubmitRequestURL()})))}});t.default=m,e.exports=t.default},7537:function(e,t,n){"use strict";t.__esModule=!0;var r=u(n(11)),o=u(n(13)),a=n(0),i=u(n(2));function u(e){return e&&e.__esModule?e:{default:e}}var l=36e5,s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.updateAvailable=!1,r.default.embedded&&(r.default.on(a.ActionTypes.CHECKING_FOR_UPDATES,this._handleCheckingForUpdates.bind(this)),r.default.on(a.ActionTypes.UPDATE_NOT_AVAILABLE,this._handleNativeUpdateNotAvailable.bind(this)),r.default.on(a.ActionTypes.UPDATE_AVAILABLE,this._handleUpdateAvailable.bind(this,!0)),r.default.on(a.ActionTypes.UPDATE_ERROR,this._handleUpdateError.bind(this)),r.default.on(a.ActionTypes.UPDATE_DOWNLOADED,this._handleUpdateDownloaded.bind(this,!0)),r.default.on(a.ActionTypes.UPDATE_MANUALLY,this._handleUpdateManually.bind(this))),this._checkInterval=setInterval(this.checkForUpdates.bind(this),t)}return e.prototype.destroy=function(){clearInterval(this._checkInterval)},e.prototype.quitAndInstall=function(){this.hasNativeUpdate?r.default.send("QUIT_AND_INSTALL"):location.reload(!0)},e.prototype.checkForUpdates=function(){this.updateAvailable||(r.default.embedded?r.default.send("CHECK_FOR_UPDATES"):this._handleNativeUpdateNotAvailable())},e.prototype._handleCheckingForUpdates=function(){i.default.dispatch({type:a.ActionTypes.CHECKING_FOR_UPDATES})},e.prototype._handleNativeUpdateNotAvailable=function(){var e=this;this._handleCheckingForUpdates(),o.default.get({url:location.protocol+"//"+location.host+"/assets/version."+window.GLOBAL_ENV.RELEASE_CHANNEL+".json",query:{_:Date.now()/1e3/60/5|0}}).then(function(t){"104777aabc1c05923de8316d9ed0c19195469fdb"!==t.body.hash&&t.body.required?e._handleUpdateDownloaded(!1):e._handleUpdateNotAvailable()},function(){return e._handleUpdateError()})},e.prototype._handleUpdateNotAvailable=function(){i.default.dispatch({type:a.ActionTypes.UPDATE_NOT_AVAILABLE})},e.prototype._handleUpdateAvailable=function(e){this.updateAvailable=!0,this.hasNativeUpdate=e,i.default.dispatch({type:a.ActionTypes.UPDATE_AVAILABLE})},e.prototype._handleUpdateManually=function(){this.updateAvailable=!0,this.hasNativeUpdate=!0,i.default.dispatch({type:a.ActionTypes.UPDATE_MANUALLY})},e.prototype._handleUpdateError=function(e){this.updateAvailable=!1,i.default.dispatch({type:a.ActionTypes.UPDATE_ERROR,message:e})},e.prototype._handleUpdateDownloaded=function(e,t,n,r,o){this._handleUpdateAvailable(e),i.default.dispatch({type:a.ActionTypes.UPDATE_DOWNLOADED,releaseNotes:t,releaseName:n,releaseDate:r,updateURL:o})},e}();t.default=s,e.exports=t.default},7538:function(e,t,n){"use strict";t.__esModule=!0;var r=n(0),o=a(n(6630));function a(e){return e&&e.__esModule?e:{default:e}}var i=new(a(n(7537)).default);window.autoUpdate=i,t.default={checkForUpdates:function(){o.default.getState()===r.ActionTypes.UPDATE_NOT_AVAILABLE&&i.checkForUpdates()},quitAndInstall:function(){o.default.getState()===r.ActionTypes.UPDATE_DOWNLOADED&&i.quitAndInstall()}},e.exports=t.default}}]);
//# sourceMappingURL=f29014ed7af92b08c5e2.js.map